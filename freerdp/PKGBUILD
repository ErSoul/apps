
pkgname=freerdp
_pkgname=FreeRDP
pkgver=1.2.0beta
_pkgver=1.2.0-beta1-android7
pkgrel=2
pkgdesc="Free RDP client"
arch=('x86_64')
url="http://freerdp.sourceforge.net"
license=('GPL')
depends=('openssl' 'libxcursor' 'libcups' 'alsa-lib' 'libxext' 'libxdamage'
	 'ffmpeg' 'libxkbfile' 'libxinerama' 'libxv' 'pulseaudio' 'gst-plugins-base')
makedepends=('krb5' 'cmake' 'damageproto' 'xmlto' 'docbook-xsl')
source=("https://github.com/FreeRDP/FreeRDP/archive/1.2.0-beta1+android7.tar.gz")
md5sums=('545037c48430d8c1592a968b05d3c389')

build() {
  mkdir build
  cd build
  
  cmake ../${_pkgname}-${_pkgver} \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_INSTALL_LIBDIR=lib \
    -DWITH_GSTREAMER_0_10=OFF \
    -DWITH_GSTREAMER_1_0=ON
  make
}

package() {
  cd build
  
  make DESTDIR=$pkgdir install
}
