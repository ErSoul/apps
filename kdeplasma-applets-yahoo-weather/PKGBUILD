
pkgname=kdeplasma-applets-yahoo-weather
_pkgname=com.librehat.yahooweather
pkgver=5.1.0
_commit=dd58124
pkgrel=1
pkgdesc="Yahoo! Weather Widget written in QML."
arch=('x86_64')
url="http://kde-apps.org/content/show.php?content=164194"
license=('GPL')
depends=('plasma-framework')
makedepends=('git' 'zip')
groups=('kdeplasma-addons')
install=$pkgname.install
source=("https://github.com/librehat/${_pkgname}/tarball/master/${_pkgname}-${pkgver}.tar.gz")
md5sums=('c301fb4fb26e95c5b4b2563fad5a1c9f')

build() {
  cd librehat-${_pkgname}-${_commit}/
  
  ./mkplasmoid.sh 
}

package() {
  cd librehat-${_pkgname}-${_commit}/
  
  mkdir -p ${pkgdir}/usr/share/plasma/plasmoids/${_pkgname}
  mv plasmoid/contents ${pkgdir}/usr/share/plasma/plasmoids/${_pkgname}/
  install -D -m644 plasmoid/metadata.desktop ${pkgdir}/usr/share/plasma/plasmoids/${_pkgname}/
  
  mkdir -p ${pkgdir}/usr/share/licenses/${pkgname}/
  install -D -m644 LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}
