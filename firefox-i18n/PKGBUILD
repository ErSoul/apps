
pkgbase=firefox-i18n
pkgver=38.0.6
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('2660e4f6889fa5d8389f027c5ddb7a9d'
         '3b5d7e2a1fdf26e7cd196d26413ac85c'
         'cacffdbf99369ac1a4ba57e214dd9f68'
         '8056a22ff31e42478aa5d4b41d703c5e'
         '90ca298ebbb92862608252b242af788a'
         '5f5b2f148022cdff82383867d31ec842'
         'bae3f163a9672080b4b89a47243f627b'
         'a33690fc3e83e47627283f3b8797a39a'
         'ab4f163e644b53086285666a1c9ad558'
         '094fb32d54916a5fdaf9a9a6dc9a5492'
         'e5736e6813fc3d41d0b5ebf142c3c698'
         '2092a1e16d53d2598f35ea34092f655a'
         '24db1764e6c5d88b997acd97026a7285'
         'd65a0fb27a6d46bca14506036973b9c6'
         'fe8783f73add4e6a070b706da01d6f9a'
         '6357368faa2fee9fc1c3cc5bf2408cf5'
         'a053ba00a1433f62f138f2da1134a9c1'
         'f741097831c749f2f8621cc83f890d5d'
         'fc7cdac850595140e48d2e79cdccfdb1'
         '75ebaf324a4ee9580843d43803bfa3dd'
         'd80b3cb110fdb97c2109de1b09c8f628'
         'c58b3beafdd9630cea11c0f41b81f339'
         'bf8b9e1e737bf2026d559476450acc41'
         '6deaf10a20bd5d2edb5a490c339d47f4'
         '43c869d371de1044ef4e8db997db5848'
         '0f623ad2be3a1ed90bfcf5920f77fc52'
         '500c49ff60ae2f1dcb0cf6e9864914a1'
         'd062f706fb4afdff9535be36f8498457'
         '79b81c36d5dc5306e2275e87b8d4294d'
         '0bcebd2faae9dc20e5c68ee7ee504c3a'
         '39092b4281268d182fcf4ac389b3bf0c'
         'f238a6d401b9facf1b35f3936f193948'
         'bdd37c2f5bcfa06247f19efccf2058eb'
         '4a953104d2fb156c72d5e4a16bba5eb9'
         'a2bbfd74e3c001b6db0847eeeb11478c'
         '7faaa4d7957a7e3b7422b25b5acbb2b4'
         'e0b696f46c69934809d74ad9f15b4095'
         'be7917109ecad093bb881e03c6d64154'
         'c7d4522962b9354a12e242ff0d979a5f'
         '2ae17be19533034f437bcd2320b7e336'
         'a6ea35072ae5f19c9833a20f6f43702f'
         '65ac05af6565628a5ecb302712488747'
         '694d94889d116713500123a0521b6113'
         '6f2625416cc4f1974b11e4859b1c79ff'
         '64adec8f425124f5c5c1c415ef79a711'
         '3bcfa71b0c2f0b44edb91e33e3971d43'
         'a7490ccc20cdce40048ec5167f437e96'
         '8181a1c7f3d0ecde4528befa82a8a324'
         'f58214f5417e761b93507d2ca1da4843'
         '402bfe48040d0e9ad9cdbfe98af82281'
         '3cd2e4e552dbcd9cd1460009319c0f7e'
         '900e4474976c994a3c574224c3037c8a'
         'a3bc2d49478dd58525a89a592f0b9aa1'
         'aff9b86e2f63effdae8e7bf58d59b2c9'
         '11d9deab28be93cd493382b3f2538404'
         '296cb0b61939ebaf4828b58bcbc41279'
         'c7272a379bacf107276cef7a2d9b5b37'
         'adf42d2138ac773684db881412fadf57'
         '1b35efbddc37c14eb16af7f1e6d0d4ee'
         '374c1379eaa0ffacca9df65a18a70f07'
         'dd3d04262b974aa5988f3b83379e2aad'
         '41b839b784eae2a11263da474712408c'
         'c6d4e670274f673b611bd72169267d62'
         'a9fd7abbd2e958a5bbdc2e497ec18a88'
         '8d6f7ddb7be088504a0f8564eb2b3382'
         '507bc7a9e35f629834fa6f2362f6ebcb'
         'd8f45fea4c9ed4f48db66e0b523d1dce'
         'cc26e7c9efa9f2991c8379fa28a4c048'
         '82d0c84601695a056fa6e4358a88687d'
         'e884566d3169b093fe8099d5db928db3'
         '182b945837b2252a00551382d68d7061'
         '9d505600286db88f0a847577a465b2b3'
         '68fd8fbc7984af5e161d655096d00898'
         '65c1c6671a97bae49b4d2731e6db81f5'
         'cf33258d877e893657ce715bd498ec21'
         '2fffd0a8663a695f778b49f432855952'
         '5835aad89ec918f4ca1b4a22939b9502'
         'ac7d9733150154da3ded242b30580235'
         '78e0adc6ad538292b15e77e31454afca'
         '9a9b654b705df2ce0ba7890ef7f6a9ee'
         '1d39cca91c81b73eb02edd143c30ef1e'
         '634686c54034ccee9674995bebd6ffcd')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
