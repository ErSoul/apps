
pkgbase=firefox-i18n
pkgver=52.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('754c7645a06f59e60979dbf71e44965e'
         '28bf048911ae2bd7b8c17483e5cd8f25'
         '66e44eb6bb4938f42ab6f642ae36bb6c'
         'cf2cb21f5ac3eb7695b420dd5512859f'
         '31436b6c8a8df7afe34e3a03629c96ac'
         'ac3db3f65107b65cef6398555b3c2d9b'
         '18619dbb4b2c1bb24125782092502ed6'
         'b8c27b776fb2a76b62094bfff4698060'
         'baa68ec2bd511bea257a37d3d595ad23'
         '0ebd2ae5f82999abfd4193f7c30bfb2c'
         '39607a889127a00da8bb3ced58376841'
         '6576252443ab5ba429c093f45482ae16'
         '10f4b0ff67caa0fc49ac0614710a17d6'
         'cf27ea24581e1145f063fab1d1f1a690'
         '6d1eca07fe4170e5a94c549bbb0e5ee9'
         '681ef7567e25aafed527246f1344feb4'
         '12a282162f061160292216c5c60b8d13'
         'c07e6877afde0e337795e0329b45731c'
         '9789ea4c54c83b3f04dab53097fc7f52'
         'ffb656b3ad6a28114276b17c89bc8042'
         '5db66908a879a5240b3208f1908f9a76'
         '396d13c8d9a83c24c1b90d534e98ed8c'
         'aa0275fe76c0845fc00dbb75d1097af1'
         'df9f9185694c74749128fcc809dbae51'
         'e703dd6b95780076f82bcf5d0587f3be'
         '912454f08a50afc5427fe7d637614f6d'
         'd2c97e69dc782bcab0aa31b7a217546f'
         'e5d570d39acb2f8d92b5578f82166a86'
         '1a4791fe776554d5d2ebb992eed52019'
         'ef9cbd937e305529ba4a78c45bd8b290'
         'ed30cef8ebdd241c4dccc664b24fb442'
         '5b43bd81c32e1362c52251528abea4f2'
         '18a42a3546b0c6f45cc1d2712b240a9f'
         '00f7c487409e04497d735115857de433'
         'a1b8e235ad02d7ad435483fe57e2b37e'
         'dd936647bb943f0171daffb3045f67dc'
         '01048be8c5ca2dc6c0d7d6d8b3307d2f'
         '3ed22c99bcbb3483951ef44f9c8efd12'
         '72004074962455c3cc5da268ce55c54f'
         '6f7dbd18ec19aa144818e20752cce7f8'
         'f072e7d4588d70f0d86d775a6c7a50b4'
         'e848f060af1ea3ce3b72e3227bfd8a19'
         'e6f70f88b9d431a933a07ff0c626bc1e'
         'bfb969de9f9cb1d52a3e87a770f521ad'
         '4bd73d56085ad059afa0ab78b5f29d74'
         '17abe8dda15ad89326235beb5391f0b3'
         '7c42b75a1d8ef7167f747bdaba3e4e42'
         '2acd5234418e2ce5d6b809126c3604e3'
         '6e6fdd1bb607ed185ed452f8b24ebf2c'
         'a576f0bbd399c81954e4b044d7da793b'
         '87a677f14ab73a15ad5b05ec8a4aecec'
         '626ad590daab9d346c161fd66aa7d1f6'
         '50229122e8066f81429248d60300f7d9'
         '0306d6c0ad0745738bd2d025b8ec1449'
         '9b39e50c915bd18a4e676bfcb3179482'
         'db3b7c868c4e4a22e5ec912b8bb8fb9b'
         '81b8271025f49eb5a19b9a5bad29cf2f'
         'e10ec12761698f30f3b3fe6734cc0332'
         'a368f33ef1b5e3088cfdeffd9fed1736'
         '7d9be75b237b1b16202255f36d4e628b'
         'af253634cd4391900956ec9d854064b8'
         '9069a7a55f493bf355d0aef4332ab805'
         'ec85fc538d416fbfd48fe9d9f8011cfd'
         '84b458da312bbe0657df46e0f6af0028'
         'c7d0bc0318beb19d2139066a2ca15e3e'
         '75aaed9b3c41005e66f30e58944b450f'
         'f9afe612dba77dba9ce9ed41b08eb19d'
         '8f64dfcb340876c0af0172eb97229baa'
         'ec5e31a30bca5d2e1066ec1cd9897505'
         '3cf0cf8405d843845297a0c4ea2de3e3'
         '8e75e42c99e03ca29b4da0497fa6f1f2'
         'bb1ad82b1b8b2826482e0f5dfb51ad3a'
         '95126dd81b092ddc1ad29f5a97a8d534'
         'dc6ac222969792cd7af2a4ac0351ff98'
         '761ab9841bacfa7b5d70affad193c787'
         '4a794b862260007d01558ee644f8fbf6'
         '217469138975e24461a91cbcd30b1015'
         '61ee57146130adcf876d5fc16735b419'
         '1bac36d002d27b0d02bde802f4e8c57d'
         'c5b25654f7eaac7b7703edbf6d05beb5')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
