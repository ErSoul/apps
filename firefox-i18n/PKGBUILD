
pkgbase=firefox-i18n
pkgver=60.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('e51bca695548fbd542a2d3f0ae395830'
         '594f5a4cd7f84f201e904fab3c634a31'
         '1779c1941b3f951e564c6322ae63b258'
         '282858d3042423db5072165b4a54cd88'
         'ee183a826786ce133cee020658d82792'
         '518a7b3101d8c2191f5068b56cc746ae'
         '9a7f0348b351ceac145d5b580a62761f'
         'e6621b3113e1e075c6bc0e6700603e5e'
         '16fc6d6fa5e7b01d60ab301571999f41'
         '2b0227eef5ed3c5f294c9daf678b5bbd'
         'd45284b2e4199fb8b86230e41267751e'
         '925ec5cf5467c5026905e1312089247c'
         '4b225ba6d25b7e08ee2e378218a972e8'
         '4c6f1a64537838f73f5591332c9cc16a'
         'a9f5e26f8189a528eef98341380aeea6'
         'a06e9b74874b2c953038bf5b9bc28b66'
         '610f064fffca4ea7aa101c1aaeefd88e'
         'ad85eb9a04433bd82806be762dcba22c'
         '84df84f7a9722107fc626b2be696ed4e'
         'eea7bac510664f3d2bbcef2268101690'
         'c9b21e4d0bf2097bdf68ff9843a3d43b'
         '50dc83ecda13972acc7414b1c3c578c9'
         '7982c19560a0a1043a9104918c80b4e0'
         '29b9cb5269b1384d10c32bb576665866'
         '1f0bd61c0d51cfdd7ea55b9b668f2bdb'
         '5989e71bb31707958f54c086f2a21c5c'
         'eb34991014fdc62da62a68efd61c85a7'
         '83c9d4ac2ba86819edf9ea2fc2a40982'
         '1ff3e0b90baf96dd03c55aba7871180b'
         'f67ea5e5858c20a8bf2e12aea931fad3'
         '08bddd2204d83db0b8c70ecd4748015f'
         '8e196882a40a8c3a3a887ac566b85afe'
         '92a49b497a467f18637663ef4b53f4be'
         '461b2f44036a446e5061dd20a5872e50'
         '3a2d502003c47fcecf237a0e4e63ced1'
         'fd54bac4cd31e71d7244885bfd4b923d'
         'ec39ca915d72f3c869a7d56e0dc72fd6'
         '9981efa71e1830e80db7c639acdda054'
         '1e4357d516b1b515005a7fba4e6abf51'
         '0849451859c87702efa2379464e8923e'
         '7e961cd9949072c23ff4842e2b9e62a0'
         '5882e20e2d212a7d0790cb9ab63aeb69'
         'df4d10c44a77cc428947033911c0a214'
         '8502e577b5ac9f279c08a7e9740194f2'
         '398ace9bdca16266f28c735db8f7652a'
         'a4a7c0526a27d58452ddffe8f9c5809a'
         '0ccb49b05e70fda7df7c0a3cbd51305c'
         '7f45b2ecc39b0e13f480d5a3f207c436'
         'e502950cd3a32157f5f49b5c020facb0'
         '0d7224d91151b2c0c09bd0a613335061'
         'cd078a8972c5ea54d22e4f97ab6da768'
         'e7204cdb2f7b577484a57f6810737f80'
         'c3d34c11aa0e0885e40bb3ed88660ee6'
         'c62607e19c1c5f215ddff7b6997197e1'
         'adfa73658a3b5b906fe0f5941383ec1d'
         '75b2fad9b9e4c1319ec781df704c0913'
         'a311be2b21f9a06057b0e62a65cc07ec'
         '054e008162fcc1cf689b95408a1ceaf7'
         '70ba18fe91b49bad1c1d05e4dc14677f'
         '7d04f0d4fc1e7c1c54ebd874d1c17365'
         '50adfba54fba2eb797fe9fd40563e9ee'
         '440800305a150358c75eeab7648c7c7b'
         '8ae9cd920b0f28020a0f76ee1dd24450'
         '6dbb09beb8a63c8075525bc7330e9473'
         '3cf038604a99db6b42f6f5041e3fe3af'
         '4ae3a237451587e6a6965107704efe51'
         'affab9b99a4a2e3ca8677a1e124034c0'
         'ddf3fb3d1d05d744d56a129d9ee541b7'
         '6e0eab5e1f3992577bae762949c044a5'
         'ee343565a3ded696c561ca67d27ad4ea'
         '4302bbfa833fd96f60f7a2e609dbd326'
         '40c2e15afd7b6c214e4337f02ea51a7c'
         '9b5ea504dabe1de07f8f75d61baae137'
         '4a113fbaf4e23f7cbf63295cd82b8a79'
         'bee7c5f4984cb7ff8c74d06ebc847442'
         'ce138258e6e00bda8f7fb0e009d5a2b6'
         'd2e5a73e712021305c39add738f50a0d'
         '2695aa35ac0cb6a5d95e96e2cd2070e5'
         '081ffe25f02a9145e23a2e282a550532'
         '240a10f642f9acf703234339e010f522')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
