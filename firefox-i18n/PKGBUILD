
pkgbase=firefox-i18n
pkgver=64.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('ac81573273555307f45cad5d9b9cd714'
         '90c9cd2ff906e21edee2c173a8ede707'
         'aaca199d114376de78bd939768423eb2'
         'd03f3a9e8b138966e60badffe95ab522'
         '0528bcba90853ee3df12b8b3b52f3783'
         'bd43638041e694a935e70d0e8d3113b4'
         '2f4c8212c665e89312796ca389e43715'
         'c8eed5ae744ecebbc473e07af30f0128'
         '56917943785c49b4b667fa34206dc21b'
         '1ca8d657893eaeca21f47e249fa8c5e4'
         'cb8266af5304529c55f91e1d303dae0c'
         '4f7750d0b2d6cfa65cac29d922e695ac'
         '33b5b94c06699291169060a696526970'
         '83b60ae851d65561d644ca96cd765dc7'
         'f1885ed794f6f56486268913d99e7720'
         '78299948285fa72b95b4e29c29bc2a0e'
         '9facc95d32213e6448d909dfa099572d'
         '4b519642c361d2aa71549092efe1952e'
         '19c47af5053afdab9f50a8aaa163756e'
         '92310d11b868c23dffd8ac790f0db920'
         'c9524944141f22ad3d5dec815396dba3'
         'dfbf082fdb038bb3fc8822ccceb04dfa'
         '44317fcca97903f90a5f2e6df11dd201'
         'fbb3de1d5b49f2d59b1d57f7f17e3d49'
         '8769481fceca3224726447ee7eda6613'
         'e2b1e6d8eef4228feed0726e818d35be'
         '04c9a846f63d446b789565d496295257'
         'da62bd0bcfc10820b87f80cac0f71ff6'
         'd0ca40277db738a07dfc4408e3c61bf3'
         'fedbb370815287756c3a46fae6f9e819'
         'c43287c96cd661017da44e4fa7346160'
         'a99bc7907f4e609411b934c42288cd3a'
         '77be9ef90dbb7e2f81638aaa6f90b750'
         '8ce6ae72e1e77ed8fe44ea1364a2e079'
         'ef7295be0de782348ccd6409e31354dc'
         'ecc1c4d57539806fd0b413f2e284b930'
         '2a0475f07a40afa914942d31c545483a'
         '607f7e3ad790dbf80345ba784cfcff87'
         'b554be53e216bad20756fa0f1fafcf8b'
         'adb76d21b57375bbdf356285d0497c78'
         '2f7704b2157d7e09eef2aaa1fbe4ff06'
         'cacd8c452b46a27a23b30f1c125fab2a'
         'a32b638dca3dbff1ea957c3d4592e8cd'
         '1c07287e7008d9a4a1d6dc538cda3b96'
         '8c4f3d4ccc4c7b59c6ce94e677b44734'
         '1ca696288a0bcdf7adcd204eb9d3724b'
         'eb11418d2436619017c07987cd0c46a5'
         '77cbb86b1c255f6d167b633e811c8fdd'
         '1a1771241151418660d17d3c8c850403'
         'bb8a2a85aef8ac38246108117f20e8b7'
         '403c10950e150ab669a9cb15b223669c'
         'f748d8aed6040741f42ba29b4ac8680e'
         '1857e20ff0f00ab1e835ebf6c8626d3d'
         'f833550b46e3faa67c18311c0497df25'
         '0fa407f9e389d2baa77677c8284e4a24'
         'f57364c0d1b4eecacc142694b8dfdd4c'
         'd7e87f735d82b9ca59ae2f0a42108a61'
         '08d81467fb2cd0249427d50ae8f0e0e8'
         '232edc826a5a4ad44267dcf0556627fd'
         '8692950464f5412e92e4b2edf01e0ff3'
         '8f6d044cd22cdeb805722445aaf04c3c'
         '7274a5face8d8f3d64a4b5758564e2e4'
         '8f0d185c1528aff0bb75302007dbfb5f'
         'c2933d5f9bca45d2ce2a9872bd41e906'
         '3a673c5c6250e37fd40c2d95bcbf9596'
         '48eda37e7ec7628e1dd7be9eb7eaab70'
         'aa494bf6df81c8e84e12a62127402b7d'
         'ca8fee5e9e3e1cb2695a6b1c07b7f16b'
         '287a65f34b4d921d17f5f30471ca680b'
         'db6f9a5b5f19c909bb9bc05482a988f4'
         '30bc9ea7550e82087511591d94a0ed64'
         'f943d3ec2ea5311d2b34cab671d4e6d4'
         '68326880809617f3e9ce2350038d4d93'
         '329134a463a9f4fec089ea9623bbbaba'
         '168746708aaa90e4861544e1ebcdffe6'
         'ac8553b9eed18f4ff1f311b8cc106cfa'
         'c3226da247c33f2b121ea9774ce1513e'
         '04abc16c003c11d4cef302b61500a5d6'
         '2c555c0067a8c6a08d1de0ab8d068e95'
         '288ee9aea36dc41ba40ddf00f6063c43')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
