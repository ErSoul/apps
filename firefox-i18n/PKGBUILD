
pkgbase=firefox-i18n
pkgver=59.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('6eb059fb067a2d4f05f4e5e003fb1e1a'
         '584113c2adc1825d4085774c239d4e85'
         'b43422d826e29ada967c6a1d7e39670e'
         'e1819f900e900075a14208ef12968ea6'
         'f7db293bf8c35691c760093e2e99d2cb'
         '77d29ed2b7def76972d7469995290a1b'
         '1ae6c3569cc777104c36d1c8a80308db'
         '6e170cfbddcdcff0ed0192a8406171c8'
         '26fb8add851d913b180146424c280a52'
         '2fb27b1b2375f87e383b9737bd9f488b'
         'e292c4ae05729b17f3da69ea5fc5e2d7'
         'fb207600eae5fb703416c6eab991742f'
         '8f0cdcfccecba30844329d4af83b7caf'
         'b7eb28264f720f238e06fd4e38d9e99a'
         'd486bc26bf6c173f1a97ad587da67012'
         '8d04e3dbc65c70aa857639889bef30dd'
         '7c3f7fe7afe61d229d6a8345c739da67'
         'af8a19a15175919093dc8368ca8caced'
         '4f6396ff043e9f38b4ec365c111f3a42'
         '196906dff766b17af70472293cbc999c'
         '123e142cd80544ae1c808d5382efbfb8'
         '711df987a1e949105580ec2e3d85cf9e'
         '39f9ac587a0167e20aea1fcc67399b89'
         '04ce80e48a38337531d93847dc101328'
         '968e87058ba2510f882a48a536e5080b'
         '7dbd575f0171d58a78066178d85164f8'
         '97d7cb89682805f03c7b09ca3c32ff65'
         'e54b4d26d827a68c41dce213667a5300'
         '92851b5d6d0030e662d77a0b6264241d'
         '19a4eb6365bc1170ff8fe82f66dfb524'
         '9cfa7c98363817b4641dae3b6612b8af'
         'caf19970ce5733bf0a99c64439783966'
         'bcaeb3bb8c10c154d073656b135b77fb'
         '329eaa808f088fbbab1c385270817295'
         '8257bc308b733a065eb49ccca6fdf8db'
         '8cf8b8e5732a654cd7737e37592210c8'
         '66c6cbbc65357dd03125396b78d8d308'
         '90644583358a8a4bd6f082b6e50a93a5'
         '35e30ebf85030ac86dffc7a971f21107'
         '8ac40ab57237eaacf9b5a239aa445b51'
         'c1ca55b5afb410e8eedf6b17eb593a24'
         '547ad16523bf724941a7d88398bfb1c2'
         '4f4bc5ee2c8bca9591511eafd580fe58'
         'da729edb65bbf82c541a51b6e494dddf'
         'cc5bdf8d4a61b51846bcba82d5f1495a'
         '6dd3259f0404a20cf1caf0ef5b7cc8ee'
         '4769f3dc9192f9e97093e9c661541e02'
         'bae79c9e7e3d4babc718a4998cb11104'
         'f4120860542e5d7de9ff661d7a5817b5'
         '5b76d70525374d8ac608dbfa447c2750'
         '482598c65bd6c98ada9218211b801897'
         'fc5b91bc7881dbb49d0c600e6e0d2b7d'
         '61c6e32cfc8d9919a35b5b8a644676b0'
         '7fc581102b3f5482906838cf992afc83'
         'df57b4d9f1130572ce6ecd32ab384d40'
         'b3b5bb26738907d86129c353a202191b'
         'e25d037404b781aed649912af9f586b3'
         '8616594f4061e4bf52d600956b1f7f14'
         'aec11edf06115bb9af04148d95369568'
         '1af57512f67a3b3a12a6e4c49fd5613d'
         'b9a6858e78597074958d7018962a8e0d'
         'd5ba1999443bb240c838dc1dfd7ac64f'
         '5ad8d27d1a085ccc51eacd6f3969d972'
         'a183839e1498dc798cd7c7a68e93cf23'
         '032688012d8201ac22557bf44080f39d'
         '7f965ef3f067214330a5c6aa7c8efbaa'
         'baec760c379cd6121730688a5582f4e6'
         'd713f9e64fbd0ad9678586a78dc85f62'
         '1edc33c242c9c62a0808b3f58e88ed26'
         '73517fce27764ecd44a7fdd97520d7d7'
         '5ff839c0cd36efd9d0ff8ecd72d71986'
         '4f428d62811046b06a64bf1103967cd3'
         '2001c2484e8677d03cda6a6ad25dc910'
         'f3df089d55586f12e402c34d91fc226d'
         'ed3156e287dc0439414bd0616975e845'
         '4f7f29bffa02092c7c7ff78ff70f89c0'
         'fddee75f83bb81845aa6efe0ed0269a7'
         'df332bc6ed3015ff369f67dad82bd1fc'
         '29361423e11081a451592cfec993c541'
         'e949d95f96fe1f3452f6bcd380925cb8')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
