
pkgbase=firefox-i18n
pkgver=62.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('4b10d7f213fdc72fcce5683d13fd1459'
         '106b730ea4e66bb2581d5c579e128a84'
         'f3687b2b5acffd3daf5abe36cb579199'
         'ebc6d745c372328d55a2272f2da6d1f4'
         'da8577ccd1b71ba574577f68d859ea51'
         'c837faeeb35d37f108d6060c3b7f450f'
         'eb4e02fbee80768b5d8dec9038cb87a6'
         '5c681cd268c11abd55936f69a5ef5216'
         '50fda9fa49c2326ec1096941aec5e84a'
         '9faaeca3f0ab8f3a67af32c2858ca6ad'
         'f5658909fc1b63c9a9832eb163ddea4c'
         '60d5bc9cd2c495416e7e31a7d8896c4b'
         '80ae4007f29bcc6130b78c24370ee277'
         '08b6c5cd5f7f0f72b0143872112bde2a'
         '1633c91ac51b81a8d26ce11677878e6d'
         '3311a703223afccc05d5314b77c66dce'
         '13b5f54ad10601a6f9a78dbc47c7aac3'
         '3c34622a245ff5519a74971514ff2fb8'
         '5163a72d26ca9efaab40d251e820e2fc'
         '1b4667323730308e638dc9c6200b561b'
         '2a455ddf4a085061cfbf99c5fdc463cb'
         '12b4c048eea6089094b828074ec3c94a'
         '0019eae11f4712c353205abff9564f7b'
         '40f8aef8e7d71ec4ce73c6540a83b0b6'
         'e100ff0cf96504d43f18a557de2b8541'
         '64825cb0c30d47482d816638ff007771'
         'e44ff86de35a321920108eb2a34db5ea'
         '526ba493cd67e26d791bceaa3f525c89'
         'fce017845e455ce30ac64c0d795c6b75'
         'e845d91e8401ccfa3e49d486d8971749'
         '21cb8fbe67996dd8d63a1921641eac47'
         '2f0942c1432fdfcb913fa1693cf110a9'
         'edc6ed9f965e48e3d9eb50eee5e02a97'
         '7ed43e64e4f17483982b9c690ae9e37b'
         'b94e307d9a4e90799bd6ed3016bc74ec'
         '3f3f6eeb564b7a081086ce745de641c5'
         '7b5fb7555d54805dcf0e863f448cda45'
         'a8cc94cbd9e9296e4e5a5e965e92291c'
         '29df067e4adca1c239510aa5d6328da8'
         'ce129da67894eb641a563b3d5060bc48'
         '891dabdee253859a1e60bd8598667f46'
         '71ff44d5a53f1e6b14eab89ff838b072'
         'bd354194a2eaba0f6d0a71090afe8937'
         'b36d79e5e4780565ad761c906dbd7f01'
         '3f5bc64bab3ae7e341875d42f3c751fb'
         '8cd6cacfb61bcd7a786409f98ab18a11'
         'c1436ad7b8cbeec973198c82d898d81c'
         '255c6f027c952bd216e95f27fa55c8c3'
         'c4ed4d54dc4e645101c3e485114a133a'
         '26375c0b4630c0f1afa21398309ac438'
         '9416fb77033340c918426fa9b30c8333'
         '46c740d2da52109dae1bef806f0b22fb'
         '100dc4f7b240839c6fb84d6caa5f9d88'
         'd19eb4f83ffcbfe7d18d10cfd4434fab'
         '8732998fd14b1807effa9bf5a2776f60'
         'ebbe47185141ad65c2fbc99cee79e768'
         '1661389294477d5490d427e68f27756c'
         'a37597eebdb8ec61e05a29d52f751cf2'
         'b3d93d7130ecedf5afad786e0bc8a2b4'
         'a36a6935ed2f85d0012e9041068f627d'
         '8b971fdc2b6a8075419450ac320bf15e'
         '87771b3e05544808fa3fcedc21ce9a6b'
         'a0da8e4cd8db1efc533daf055a55f6b8'
         '4427ffc23c2617d0ef59399822fe78dc'
         'e4cf78b671ba7aaa94592f32fc447a25'
         '9a3b296b32dc4b3c891b00e6b65b2167'
         'fff5d7ed1d6cccc94829010b636235b1'
         'd720232265e12f5e07f5c3dc7a88d3ac'
         '19c23bf2b4af588e58288eb69eba2c6c'
         '2b9a7646a88df9952bd4c3a3a8499ac1'
         'fb9ba77d9720a6a8257b20a9f9f1b751'
         '5e7f91f9a634f5c7701339b34c601dd7'
         '218cec759f33aad444fbd663008ec5a5'
         '641a494083bc60efd7a9ba212d7a0f8d'
         'ed419510d3994d3223dbaa1b34e92fc1'
         'fa847c49e5b88a1b9d1124125dab7b93'
         'ea153d8ea60611fe959b5b2724263ea1'
         '8c82ab3f6ce3fb2b3956b754070939a3'
         '6128c1b90a66622c494acfb72ed4bf7e'
         '2e23c9f404d191bf4ed3f53fa8b2723f')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
