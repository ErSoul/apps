
pkgbase=firefox-i18n
pkgver=59.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('d28527faafff0e19d239dafb4bed00e3'
         'c878679d0000ce3a133003b345c5a490'
         '67851adfe511160cd7a91c93636f69bd'
         'd5ee87f0c49cf96fa738498ef1d6a0b3'
         'cd867e910cd53802740ea7b713879578'
         'b686a4ff268cd7df3faded629ef855c9'
         'cdfc6648a674c5379d48010fecf45bcc'
         '0ed1d5de9b6216ca328d54dbc582a134'
         'd413b049ee4ad26009d487729d1e3782'
         '1975cee6ba105d5ea71bf762fa141db3'
         '33c66cecfbd995d490d959986faf65f3'
         '420a4edb712e435492fedc4e9c27e2d7'
         '8e658ea6d303766b1ab1589c272c8f9d'
         '6e31e0ce8e1aa7cbcbace0c020da4a04'
         'bcf78a6b6c0e5315908ac45fe5303be0'
         '9bb936b64ee5d8998c4cfc725893f5a6'
         '3ad184a52561b0623930f3e9ce70f36a'
         '7fb26f1cb5e1ac305e409d4ec9b89b2d'
         '2b41b7027745a7a5b110851dddce2b93'
         '8661a0be1acb9c3c3559fa3b7f15be0e'
         'cfe5d14f6db2d18ba8a7cbf5ce7bd803'
         'ecaf5650114a2c1ddebe1c77f3f8b58a'
         '4d7a19fc4122eb0cf013d1336764afde'
         '3586c9c17ca97517be8e7b3e2813b5d7'
         '10608f227c6c35f994917594154b7ecd'
         '11ead713d51d9f40cbd21ce64b65b08c'
         'd55ebb02bc07ff29a94762e0ba441227'
         '081f6d055b024b23628b48e17f35d071'
         '4d0012e707d07b9d9a8b22791861a85b'
         '0d2602ee99c20b0fc34a864f5f35fc7b'
         '69c731318ef8ace3c2adcfe582298893'
         '7a7e6e1cbfc6a13a7f17d71ef4df70cd'
         'f95ee7653412d3d7d90b21325b1c826d'
         '3a6571487bfe7981aec21f463f1612e7'
         '7f2643bc922238e8ac44ff04c618d9d4'
         'ee785e437590467e244daedd3dd9c759'
         'f1071d0df26be1dffcffaba9ddd46f0e'
         'be528f2648e246a06de1ecd7acd8332b'
         '9e3a9962cc539c4d43a30b882fb6ec1d'
         '3a8f4855c8cd958e79447e474fa4e794'
         'b60ddccec35e91296e370c21b81ce72c'
         'f7368dd74f9a8e25ff57e946e7f7cfa3'
         'c1053063637fa6cfed790b4d38e1e52a'
         '94b0e7b989bb0d381561034960d3ba56'
         'da237347217e38b73941a4478cfd906b'
         'c0206d7753e5901f260552d341fbb782'
         '111411093282db10c8fb2b405b0753b2'
         'e9eaf2d10fdb689af367193bf3b660b7'
         '9292e9c82bd2580dce0461f5f6f74235'
         'df659842947837c7fc3b5fe917afe25d'
         '29df5ee9e03d677e591d7c63fb168f90'
         'ab9ee894b70361504392ffc05e27b8ea'
         '5b47c14fb655deb2e7cf6db8fed36c49'
         '139e7cedd29a816ed5955a543128f73b'
         '8fb98ce845103c03eb2306fa61b773b2'
         '1e9f39a17aeef1bd9a6f7eac5b2fe029'
         '2066348b1b96d5197649ac86c83c9bb3'
         'f427002f309042fb66a6f5b5c2773d5c'
         '1f9a5e376863bb4d3de38fa0b102cd15'
         '73fedcdad003bd7b4e42fe3cfee00ab6'
         '82cfc019d56fda977839cf3b14e14275'
         '11b50b197b02bc44e13f9de480499322'
         '1c07d67e06bee45fc498db31698f9cfb'
         'd58bb7c19376b509e22dd1ba43a9f528'
         'cd326ce5110f3fb980903c9f599a1222'
         'acbec222742c15416e92b9ebd8f3c9c8'
         'dc2a3a950b0d25fbef3fbfda20afea57'
         '7f71b6dde850545df89994d25f4057ce'
         'cca8bc20016c6017c5f41ab84a49272f'
         'a4794353d94cbbb098ea47bdce2784d2'
         '2c8b064657cb81a6a66d2e2e9b785b7e'
         'a0746a6d6085f8aaf31772300f67b569'
         'dd13bd67f2bd88e4edf15fdb2646db74'
         '747c15a67ea476d88d6689fd8a4b193a'
         '03f6a983847f4b3283c7076222edb929'
         'a82eeaf8adebccef8f8254fe14c45396'
         'fa80b26ad6d15b0d90be4a7363c72657'
         '1e3810913e3d09468fe16c7e8c07f4d1'
         'caa9b644cf92692f96769892c50ce798'
         '1f52d6ba7abbe8818d1b674dfcf6dcfb')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
