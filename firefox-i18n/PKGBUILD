
pkgbase=firefox-i18n
pkgver=61.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('d26991076e99a0496cb8396ae209cd35'
         '5740a86407322ddad344db6db28ee947'
         '6a56d72acfbfe18fcc1cf2819e939845'
         '5feea81ee7c9b39e919700d21314c638'
         '776b6da29c87ac9eac75a9c7777ba7d4'
         '4f93c48c45af343c3d35ecc4fe0ce873'
         'ddf3a5b23bb51a9f359555d78407a96f'
         'c9abf4bb3ef9d50f929404b2000896b9'
         '9621aa912316e1311f6daf8ea96afa59'
         '698b981e60af51e71b4da97a668bf716'
         'd59cf11a179d4ea57b481d23533137c2'
         '510e2b16959fd080c60e7528d4bfadb1'
         '5ccd8c943471693879220aab2c5ddef6'
         '03b8504762a1353deaa47519308b632b'
         'e3e5ba1c3e098384e40aff221f9f682c'
         'c241a3377eb1387372d304168d903cd8'
         '8e26026b497d3d398dc98c01e84ed60b'
         'f4da6053fd5d55af3defe9508f57337c'
         'f43e4741cc4bfc7991a61adf6178bc48'
         '674314fcc3814df27d7bae5b37c16915'
         '38affff194e25b111cfa847c87ce9895'
         '8fff4d25624306507388185031c54569'
         '874dbb061a67589681454ce559c384d4'
         '1bd4a13085084c79627d795f5006425d'
         '3362c98963f8e9f2e6a77095e5dbd4cb'
         'dde22a184249e921b4c48ec72ad29fe6'
         'd7571e89d76298bef25413a4b246b026'
         '81d97edfa89cc0e38f3cd9cbdfdf6cbd'
         '571d70818d09bd6392932b703f3232ae'
         'b359c1bfaeaa8b42f06bb23a9cd997e8'
         '31d2e363644355f59e1d26d60ef4199a'
         '2c3b7b5ee4865b30255c5fe9d850928d'
         '44c6f3d9362de71ecd0b302cec3fb13b'
         'fe563499c1c47b289cd802567b3b5691'
         'c892b02306a55944e06114ab141b6567'
         '211f8afa2211c29d0a640e179a18c741'
         '633246c004161cf37e88016ef053ddae'
         '8c93e4268814a34dc73ab829aae72a0b'
         '8e15f84783b051691383c2f2711a83fc'
         'f30e831ce35a6defcd676f449c39059d'
         '0013cf1561bc71eb2790eca4906a460b'
         '6e81cea5192c4dea8e6ef9481479a8ae'
         '4f60e442d46b450c5587b2192e38ee8b'
         'b6a4c4c11c40c6ad180970c0593d11ac'
         'b484301963a976f38475886e10db91c0'
         'a2498d63792dc3ae869c8339239869b8'
         '3bd9114466588fb29f3aadf3ed92d3b2'
         '5eb2af72ba0d386f36fc469b2f799da1'
         'eb6933efda11d04d1ce04aa888ac41de'
         '73ca503e03941f7f7fa6a6b228f189e0'
         'd7ac1762b9b56ecedc7b35d36d95e674'
         '0721670a07043d3385433b00b66d0442'
         'db8160fa19ecbde38b31a6222bf515e0'
         'afbef3e9162f3c50b792696ae3e438b0'
         '86ab67af71f757568b6287a5ca43032d'
         'fe8d65b3a2f4967afb0c1a69e256343e'
         '1a54366e4114791e82ee35fa76c76ac1'
         'c17f8af09338e10242e2d8145f7d2ad4'
         '43af9eaff67fc00f4cdaa18377d325ed'
         '5eb37ee01aae5c31d552bafd08bcb6c1'
         '5425d6969a35c2c6e92a7445d3be9ce6'
         'ac4a7b79b5101c122101d3f2c588c525'
         '828aaad469fcb0588cdb5292c1bb92a1'
         'd2d4fd0fea494e2d3b6f056b7ebbb1fc'
         '14359d99348adf35620b0709b2fc1e7d'
         '9acc9a52118679b2a0cf53e71c4b1a0a'
         'bd30536f6b37b6caab3b528d59056dc8'
         'a55f1f63116e04e1318b88805084c6fe'
         '9990e2303617f7786b29b0eec119eecd'
         '34b22e25b836886ebc862173e441ff20'
         '43911df8bf4c1b0e06c7dd1f39d49c69'
         '2e52b7af362860ef4a9ba10378bf1783'
         '5768408303a6c6fa61a75d99be5d2166'
         '998d6e1a14aadffe594157ef3d678d34'
         'c79ebafacc91fb44338ec28ccefa52cd'
         '586cf988e5bdcea01d188c0636c744ee'
         '9f77ba7a571a8831b6d478ddedc98144'
         'a18c11e7601725b45363a0ad1b736fd7'
         'a0354c7ab7327fc317d09914d3491eb5'
         '0967145dbb92ffe89ee6a1e509d2a464')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
