
pkgbase=firefox-i18n
pkgver=33.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('04d9af6fe1e6a475d8bd8f3b700064ea'
         '3e2b886b54d6c4229dabf722eeb501da'
         'c77b8e9faa3f9251205f75b75774835d'
         '0e4175b2bd1b7e537794ad8abe84e3ba'
         'b8174e8830d58ffeb91ee1542f0a9b5b'
         '8fb84952d0ab5aca07b418ba38ecf3ef'
         'a768ee536b8389c4f6362073c7b4333d'
         '6cb4705e929b114055afdec44f5cdb84'
         '51a8b13eb5c9fa1792fe7bac6d7c0657'
         '1c6fb4aeea696b45d720fd9062dc0b3c'
         '20ae3f229901a2c1186ecf4bbcc9d50f'
         '6b62fedec624c54019a7ce13417da4d9'
         '4565c08edc32c8da63046857ea675141'
         'c8c8b3d96dae5f0ec2057b25d029707c'
         '6841e2502614a7726eb386ffad288c3a'
         '1d5a62edf75c1fbd8ad4ec7363de8b2d'
         'f8b63d27a8c801a2c9a35e1f6f15a545'
         '4450836c37d3c303d52b982387b05599'
         '3d4aab8681ddb210544812737ab91ec0'
         '159369222a3d1e7b814389f4a7f02df5'
         'e26acffc0fdff8fc82ce1e8149064f46'
         '71520c8e873364563358403639d29647'
         '5b523aa5810961efa34ddb27b7c5df99'
         'd3064592199095d0083815726c0c83af'
         '51fb5888029910ead2ae40f756edcf49'
         'c83b4f9f7edf752222ab4fae2486357e'
         '8535748dc0f0bae871ffcd4c5c57cca6'
         'c8193c68792eaad18be3c38de3ec031d'
         'f9f5adf96d2cefc4900614f749b5003f'
         '6910b6575b72c2812141bedb80caff05'
         '82d31cdebbbd476c5066f7caee6d79e6'
         'c7fcd689c1abf4eb26ce68c8588af9ea'
         '0d758124aa68a023c55b6b4e0097679a'
         'f9329a1e3ab7b36b65f88f4251a310a2'
         '9bd5549fce22947ade6aa97ba4518f58'
         'f33f5b81dbbc986c2895411233e891fa'
         '1cf102031b4b5056b1e0cc42a5254bd9'
         '5c52b7c24df1610ecccdc80d930f8d56'
         '972ddeefac2477aa7a5171c5ec39d238'
         '1734e18f92cdccd298db890e954c599f'
         'a536afbf1cc1e45a7fb1b4ffa0cdc473'
         'c96c4662d391ddcb2279beb30de12d23'
         'cfa11fd41f516b18f13d094e56c46252'
         '9439a97d3e0e7794496f6097c4c70a47'
         'a5c9f6c9d78761271957b8043deb89f5'
         '0c3097b03a20689f454effea5bb3dc8c'
         '1898fe2a2200ada633f961355369166d'
         'ed2c90dffdb097c7d6ad93c38d714592'
         '1cdba4846dd5dadde88dc4599d8d7125'
         '177ed8d33b83f422b19547c32a09f7df'
         '5d514c9fccb2063602b27b31c5156ebf'
         '8f4c417779280aa2f18ca9ce6019918d'
         '4a3e0646d31951509d2d853f9f2f2790'
         '619040d28445091acf542043acd5f619'
         'bb5c6284f7a94d84124a3a73f17f13a9'
         '3d4b18d8d42336522f08affdb4b6d5d6'
         '5c839a3142d412a42fd5b92560a34aa3'
         '1e59d4293f905cfbb7682adb64ba8003'
         '9c0aca5b4a0a33aa6c0ff8459b61698e'
         '4507c8162a349f2a6c5d2c618f922a92'
         'd14b34c73a865a98dbc6ff20e794291a'
         '9ddda43a255b39baab4b7de8ed6ad170'
         '14fa6ab75cbb15248e6ef5f370939c2f'
         '4d7871ef49ac83a483e264e6ff6191df'
         '5489e68ea44f42d00534d3e3280afdcf'
         '210ac2f2e636a5f985d709c883033acd'
         '871a95477122059efc0ac58ff12785c7'
         '15573c9a1aa96a6131b73b6d619c2ef7'
         'ca02b9b3c09fc28fa0c95dbeff0db591'
         '74747c9bef0d9c28a9ee160a607875d0'
         '6371deb40c6574c6522467d8c922c0c4'
         'b0d2fb0ed515c959f3a8567f99f36dae'
         '6dccb63f06187c69fcea0d8ff9d30a37'
         'b5a07388eb37f641bcd399b2eff7e1d4'
         'bebe15ecb945c636f55dabbeddf6bb17'
         '8d8e995275a80d45a3fe7ef8f9225ec1'
         '23ed7e223bbb8a23302c803642140564'
         '894b7ec21261164dd95dad585cc18d45'
         '5fc5d7f4aa3141f0b45be751f5dd42d9'
         '990fdd52121f995e099cfa6a8b395b54'
         '6926f184faa4ddf98f15423a80cd0aa1'
         '265fd9842e57e41b3dd0a610215d88b7'
         'd566a245200e7a45fa49bae9f50b1cb5'
         'f64278ff904d7dcc4629557b18d03552'
         '73be6cc72983fafd997608bb49baba0b')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
