
pkgbase=firefox-i18n
pkgver=48.0b9
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('bc778406f65850a512c3404e539ecd94'
         '9a7d8ed8aadeea6f85c8c5d7a4bffe16'
         '124fcafa87644fd3f7d5d46dd43b4c44'
         '553d1477a10551449a2bd27cf2e3418d'
         '9e264363671128513ca42d4bec6bada2'
         '116e671f53cf875feef4fdaa10ffd286'
         '1d3affda85d565c5f6808c68213c298c'
         'e554befa8fe271195cde86c03c5d8a17'
         'e1bd09205198de71f2cf3ca5a7e72ef8'
         '604b67f99e6e1a41f0819fa189280c2c'
         '7e5f51d3dd473e60bd252d68f8610f4e'
         '98a4e72ac2020d12b6748ccca1f26148'
         'd308d4bec13272c7dbb0bb267eb12c6f'
         '41a11758331356bd1ebd98866f13cfae'
         '861dc701e18eedd071ee53f9ebc2ee97'
         '2af0582053cb3d8f4d1d688da70ea68a'
         'e06f1350a7172410227924a75f06efc4'
         '77ea8e367367ec1fde2132b53f78e112'
         'abe044b838e972e05cce33c5058586be'
         '1f9b54c11d8254f3f18c66c3d53a4fb3'
         'fd1b18b2acd0876898f0869d646fbb3b'
         'bffe05fe42e172734cbf3d4dab9d8e6f'
         'afc786c10557e434a6054b158f258b9f'
         '1fadf3f2e85dffda3ce8d543ec8ef050'
         '0bea6393da28fe16f4e24ea727957e5a'
         'da772ea54d674156744d29dfb0733137'
         '0a0f369f3466fda90b2ccaa454ed5418'
         '0433f1a2e118a26b47e699a05d7f2693'
         'c4d4001a807e36aeaeff767071e2cc21'
         'ef86a2ad59685dba323398550a709b25'
         '353f70d242c1dcac5448d921dee09620'
         'e93308dba3202ab243369b63efb75ed0'
         '283822f8d3c4b889b05683a9dc3f0432'
         'a361e2cd5024ec7ada836b25afc2d723'
         '21d56510884ec67fc6e23530228babfb'
         '59596d1c40af6a2d22cc5530e99c7f5b'
         'fd19503c097c1a89c399851556aa7cba'
         '971bffd4114f28bdb2ee3b217958c019'
         '6e9ae2df4f16e815d3b6f8135b4f4788'
         '1cdb00925e2229e8b0c27d6eceba48f3'
         'c470a5afcc8f6b8c6a0843c197d7340f'
         '68b742701304fe34d8d57993bccb4095'
         'b603a4c469e46e8fe17f6ea37d43668d'
         '6c9e356fd4386699a56ed40e6324e19b'
         'e0649465e0a3651ec7360e72cce8a12b'
         'e5737d688602be5638cd425ae460bd16'
         'db491edfa9b5694ff62c53ef45c39656'
         'b497203e607c50f33722ee116f674bc1'
         '76d099b4a684921d71fde2d00c9b0bd2'
         '5302d5c8b56f3afdd33c33c447ae4965'
         '530005532a7f1e14543dd7c80013a19e'
         '0cc7db1064c180d17f97664d2363e546'
         '826063f87d0f9c192d5e9a90fe2395f7'
         '757af6cbd8cdea20fced9badacffe9cb'
         'c7dcb3c8ece3271eb6394ab88cf32d49'
         'fead7683266cd5a0808a18f238633b40'
         '535d1bd7d41661de1fa594e1a09b2e63'
         '3c3e8b5f43ee28b31faaf6289387afc5'
         '87a86316e93971d6cae22b47dbe1a89b'
         'e5f6a930b0db70d7ed8f43873bab830a'
         'c45850cc3ef38e697d6f7f0de2f49cc2'
         'edb3003bad2c6623ef845137c6efaa39'
         '40dd49f9832c5cf7901d5797b163e313'
         '5cbca3cc0f7e80b104ab50c41bba9fdc'
         'cbe228b47514b78e9a9dd6b05f9469fa'
         '33651ee8f9fa4171fba39142a4c21bee'
         '41a99987497e6fe2cd94cad55cfec969'
         '0f97450a580e745d8caf567c047c9745'
         'c9f119a81eac5a5683985e41e1c43053'
         '45f32234c6b685fee50ac71222ab8cd3'
         'd98096e8d7bd5068d3a3474896e6a1a7'
         '60e846af48006458b16cbfe4e4af4e20'
         '5bb9373bf839289c74a00993cf0971fa'
         '837fa2f2b1c0e287ca1a11432364abab'
         'c67e20da06cb8728e108c42cfa806fc6'
         '977dfc397847a54a653bbda2e3943c16'
         '278265eb405e1e0d62c7aaaf7292ce1f'
         'b185989e185afe11f068de8b62c0a841'
         '10d02e97d7865b79ddbfc45ad7a31df3'
         '63cff0c59c6fcc15a201a2b9ba8b65e3'
         '1c3a74c5e5d338e0f3e993b323cec74c')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
