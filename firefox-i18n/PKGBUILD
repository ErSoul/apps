
pkgbase=firefox-i18n
pkgver=48.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('3a4670a72d66a08a1ea80b5a430e4b0f'
         'ebfa64c0713710601dce61a0fd56b2a7'
         '14492655e189fdea34725c036b27bf31'
         '701103de755179b426e56a83b0759d5e'
         '7c5e3b494cdf85fafca18c639b75d1bb'
         'd063095227ca4bf88a65bb7fa5db83a2'
         'd4952536b67dce68917d81e366fbfdc1'
         'e0cd5b0366aff587c45be64e35a62f33'
         '3c7585f5c628d886b5e02497433d90c7'
         '53d8db4847e880e31122cfc56fbb3cf6'
         '79441e3e8b3c0e49bbe6c1d8c1ca532e'
         '70ed5709affb5ca143d17016f9e3c08e'
         '283df9bb64213ea9166a7b36b55f6705'
         '430bbd3f21706221de91287a9821f441'
         '303fbaaa9d91325a05b4d641ab1aaee7'
         'c51638377f668239b0dbdc284208574c'
         'b8e7540f93d482f6d6cd8120e4d32e0c'
         'e9e2d1559ce11e4c0197000645d31e0b'
         'b9c121c1dd58097dc47f9d2a62de5163'
         'e309e6176f5f740a85e2975f017c9cf7'
         '6dc7055005972abbaf3337fd2c95cbfb'
         '24506f55fd3279e14dfda070b783e5af'
         '16c1a8033b7469034d14b366a3f3e941'
         '01981f32318e24098b9e7ff423f33f6f'
         'e688e532489681abfdd512ead2c5c3b0'
         '65ed8fffcfdf917a8f349026fe1333a0'
         'd7ab28d04b24ee316687ab58b761ee5f'
         'ece59a28e048c468e72fa584dc45572e'
         '696a2114889c51708c26c3df597323ae'
         'e4e6281887dcb3e79795ed10c7e669af'
         '03d355f4a197b8e2117bcd58046c8e4e'
         '6c41f07ce6f3d4113dc7d4256a0ce550'
         '7c6011b10f4574c12822c58cfd36682d'
         '0afe55fdce8b9a307bc61ae0d0a19b0b'
         '13eb8589c2b72d6b674dcffbcf1319a0'
         '7d6dff4dc72e94be1d0d4fcc3289d202'
         '2f19e5487c181ec5fea50c86b623cfe2'
         '2488d59d7a1573c00c018f3cfbec1dfb'
         'b1c95ccecc68c6b333b9100cc83784eb'
         '711a97558f2e53823f8df26209e7145c'
         'aac807ef9e8a0632928a8883478f357d'
         '04bfde87f51893061ad3f8e114776220'
         '26a91d177203f1ad65f7b2a14ae1da1e'
         '6276602837e320f2e7163df1232464e2'
         'c02427348970c7c86587a0321a68ec1f'
         'b049df7fe477585b3482aa4f7ad384ad'
         'eb4b36d6192265ca44fcc37e117a625c'
         '1c1c0e6971decf307077309f9e97746e'
         '5daefcac1618db26a5e34787ec2c2075'
         'faa2b5f0ec34785059a1c62ace3e02f3'
         'ac42d44a73e12966a72142a7fb3a4d01'
         'eb7eff203c231e81c98bcec33b8327d5'
         '9b2af0d5a59d2e8952b1c193216eaa32'
         '24b2a7afce120168f09dad8d121b47ce'
         'cc9cba73983768d7f91b6b80ca3b8463'
         '1fee6b33eb06eccebb1ee4822b3bf66a'
         '236ec7394ef86724777129a263906adb'
         '7bfe34524ba86ea4e18699b27c8fc9d6'
         'b8974d11a11fa7fc24fa8ebe88a244fe'
         'f8f297b504f4ab3332436d2e2a2578fc'
         '9bdb386497e953d63d56a556e4f0afe2'
         '40deb8fc6f1c697962e66c49ed2b6911'
         '0cfad4a7dddc6110c57f9c8e63a3d297'
         '4eb7b3cd37477a3be935e4bbc8b80522'
         '49ce3c1156593ca0745e1ddceb17f14a'
         'f9052b612c0c2f73b7e5e52a44952be4'
         '81414a4b9d76f7f201b39b8459c2057c'
         'ab7bfb3b98776e64febd1bd760e1c4c3'
         '29285cf29a8cf78148fb870ccd2e69be'
         '8e7f6f85e8d70bed9faafa64267bca3c'
         '37f757883dc44b297fb7666a4e7a9a96'
         'a86182a39b0a1313af7793a1bd32c0ef'
         'd687afe35a14a7e594beacd71e6f1a75'
         '992535f486a327b35d5515dc131655dc'
         '8423e7658a1323d7822bf14a02d79dd8'
         '416a49578765b4d4a5297eb73d654afe'
         'c34607068b3164beca648596eb8aadc8'
         '80d664201d86241396fe8d547ec2be56'
         'bc99cd59809e81de7e87eb8fc72d4542'
         '5801ac1bad86589d4ec695d5ca0bfaa5'
         'bc8c19a618de2d4d7198bef95c187040')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
