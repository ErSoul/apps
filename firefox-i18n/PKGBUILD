
pkgbase=firefox-i18n
pkgver=40.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('5f03b242a00259da347f447550eb100c'
         '7cd2800873b669182e7f446a9b8fdf62'
         '9935503b5e5eeabe26c0148e18a1b49f'
         '594e4ca1d2f2d8dd88b4a4cd843a3f3c'
         'cf30d2c285672eb7142efe10a7ab33af'
         '783da1023112f6700f170465c5cbd0f6'
         '6998ec40e103b71b8a4f8b6aa7a59f66'
         '3d3c5d1be9e9722e1fc0d1249e7d5d27'
         '50643f9250cc3d9bc629d293e01096d3'
         'a93a42f5f9ade4dd0fb64182ae9c6015'
         'e1013329848a02b5374291848a742f56'
         '4dbce2f07d2311e545095f653c1aa757'
         '8affd293e342ff2081ed08b25919b734'
         '866eceb14e8a868b885baca1e1816909'
         'a051d2821f6e37fa0eff2be427a1a721'
         '11408a8a6e3eb79f47991694f9da2b03'
         'd1f9637fba657aaff9cc6fa9b9e123ef'
         'af905a8890539749815c6f6faf562885'
         '55c556055fdec675c472c54b4286b3dd'
         '4f685277204262ea3ac16875ebe1784c'
         '12bedad214515e0c69245d175184a586'
         '904e1f7f09468846c37dada199bde23d'
         'e6e6d085022bcfc04dc8bf11a125e10f'
         'a8b442f77237d9ffeeca7c6700c13aa7'
         'f6f5d77882f2c4becd4204d9409eb6a7'
         'dddd5f39fd18a9ac0b06b91ce6366981'
         'd87d2103b1cc4e0b4e2c6aa585bec9ea'
         '6682dae3ed32efb8e29f31be7e0a1633'
         'fd6d4098f3b06bfe21754102d8b4d4a6'
         '7d498ba19aa9841aa03d8a0e4df47b3a'
         '5391fd01dc540c344464c66b6689334d'
         '5e26e9dca06333966459b393d926d5ac'
         'd6cef7d379351c8181efbc6dd79617e3'
         'ea20c66a5896973a6ad100ba88d3f6f4'
         'b2398c12d2f79584959b425521b4330f'
         '791bb4ba77040197195c1219dcd6b816'
         '555da9a311dfed37c654337ce1e73d0d'
         'da53f1ed9e6a1da2ef33b1559cd07fea'
         '9f59f8bf06a522c479b952e043c73ed1'
         '0b0181ae06a7d35d41b7d4d3a997df61'
         '551310e83006d3bed26a100f89b7b0b6'
         '974d3fd40469f66a722f6626bffa8f01'
         '233c6365e6f7c48f7c826a712cf66992'
         'f71449ab80249fbb2d62966349344c3c'
         'd3b9d9856a90d1e6dc4fa46a5d112f21'
         '9e2f562610fc7875be0a4bd83741779b'
         'a09e882be4888ff43a580cb44b9b2c78'
         'af0fbffd840e265cf56141889a69a895'
         '309b124fa8b24f2b0be75aafc97254aa'
         'c22b7ad1d7fad4ecda794b9becd5a501'
         '8c169de38c857edf4b60e8b31741a0cf'
         'f81a2b5062b36f31a2eb6fbe8bf79575'
         '87f19c1fe9c8e69a515c7ad05826adb7'
         '31320dffe2f249409d2af17ae558fad1'
         '8359325e78942bbc872a0a2165404ce5'
         'b2d5475be94de111e4739527b5168ed2'
         '1165ead1f4da22e481e6110a95d47a06'
         'b7a58fb73ace02d7cc6564481c005835'
         '0e98ee8fc0778cca535ae867d092ba44'
         'a3b40a559f4a7dad682cda2be11866c9'
         '101da8487d43b65358181bad5dcfcd4d'
         '09aedfee1bb070e78cdfb52dbeaee446'
         '20ba0fcb7918b6843d21c44700a3187a'
         '63192c1ae4f0d0f5b5dda49c20665e15'
         'c905a0e588f0c5bcbb4ebafbde55eca3'
         '8fa7a9607eeb1a7d04d65c7a8b6fc028'
         'e2032d39b34e3658d466eb590d62be68'
         '6f5e9c86a0ee15c4df84328ecabd06b3'
         'dba39e57c082035a78998b22a1a3fbad'
         '60d305659a3d04bed56818968cbb50d8'
         '9d7d0fcc6ffe6e708789f3468b366291'
         '46deeddd1cc376a51095083ba4f05aed'
         '6ab1231e980ccdc688628f69682d0d76'
         'e2f4afd5541dd375cc6d7d7ae3642702'
         '9d6e89efd0ec109f29ffea782330a2e6'
         'c377e8e21199247e0804ca15f3151c29'
         '9b1800b563a82f6747548ff7394616db'
         '3bfafeb42ac561bf3d4d28325e883b75'
         '85b522073765459ea2efaa419553d184'
         'ddf57b3279f985c97bdeffd77d1a6877'
         '40a87d7f1cbd1fcc583cce05c22d0d7e'
         '00388138085307796c4c5ad22bb977f2')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
