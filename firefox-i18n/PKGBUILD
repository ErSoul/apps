
pkgbase=firefox-i18n
pkgver=35.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('00aad1dc90b27150588e92ca420e2cb6'
         'e51c88b7b85bf8aac4f772cbf660e475'
         '72d3da89d00c62ffb7065802c15db330'
         'aeca72c5ca2b7e244aa777d1dadd0747'
         '46cce7c23d2d101142b11ae2c08f8bfc'
         '51e61a50d8715bfb3d381353b139c904'
         'feaab8cae283ee6d3ed79752e1e884d2'
         'fcb820c4f80a31433e3b6c542b573a5c'
         '258211a2e5caac5e8a125e3eb60e9fc1'
         '770fd863425d0ed4e0090068921c5826'
         '53046b72816ecbf5626bc2ba44264234'
         '2fe46e3088aa97151250168dc0a23f8d'
         'd5e9a1cf9f70fae4db2a802810576255'
         '9276ece23fb8264e426309fb468176a5'
         'f747b17078c063a4bc20cd133b3b41ab'
         'e1e951e432ceb0d2c31555a3517610e0'
         '24c75433ad5855ca28d9994a35972e7a'
         'a7544037a7a97fbb85d12a1895133250'
         '73094f919e32215507f371bddeead731'
         '26adc3f738e9f16ab83c555be3019b58'
         '95e423d8c107a5525ab644857ad8ed99'
         'fea4f235e5ec70b0c51744f75970aadc'
         'c020951d37db712a7b0083e75566b48c'
         '7827d084a6fd2df9eadc0fe08410c388'
         '784287f74b5b02639c7273a865d40ba9'
         'ade53ba187db4072b48b16b658f619fa'
         'c2343fce946bbb99da33206f4ec54b1d'
         'ed8e2bd78ec64ad1161ba96238ccb285'
         '6883e24d5ea0097ca94089ac0db1df16'
         '1ca9fd81d10727a5878424405ce4d56e'
         '95a707292bf77bb123a5ededd4fcb25d'
         'e673ced684ca60589611477067187713'
         '4fceea99b8a167eac2509e804e3c1414'
         'a22c9c06fa1e976fc136e9c523d896f2'
         '5a3ee8280458e6060589bdbca30411e3'
         '118c274c2f4d5f32c337f73dcb36f0e2'
         '3547769ce757a48eaa05264d151b95c1'
         '6deb76c21d54d0de6a05616437b72d24'
         '2a945eed1a68acaee3e501d2b8973658'
         '49184598cd4081d00ce716325515af77'
         '5b73223a36e827bfd661bf1c41ef7858'
         'b1e1be35292ac195d64075aab392da8e'
         'dcb33a69eac0a5dd9a0a06648f213a62'
         '2d3662de9216114c0086bc98462732f4'
         'b915c02d6793bee95f411fe2c0da49dc'
         '35c18c897bbf6e58cfd5946015434f17'
         '8136b07cec245f6a0f7665f51953ff13'
         '5add74d2e87cd4c1b5987e48c8e08244'
         '367073ceafbcd86dea6aa0dee9b640e3'
         '1485dcf8fda1515aedecdf98b7e93dad'
         'e2978406fdda665914bf981abc6416f2'
         'f034ca20a7f0ca74ec82e56b3f8d281d'
         '742493722323eef3028b0d3a8f986148'
         '60f0fa5b2bd381686fec1df2228d7935'
         'e27925290bb5f16b59c2983b07af6a23'
         'ebab6e834d9ef788abbc3ba7070ce1b8'
         '7e8a64a4ca6d18d398d41223eaeb214d'
         'bbb2d37a75517f6607d310c96bfff61e'
         '06afab47d4d460b3cc510d0224e3a27e'
         'd1d37855172ef1de91edef78bcddd186'
         'c1e9a2b5553bd1dfd39353399b851a86'
         '15c91d6bf5055179d7484b03b18a44ec'
         'ad39c9b4dabbb08596114509e3d1a485'
         'bb33e47fb2db07e1a1008ca371ef2616'
         '65150742caf2dee26363eea840dfdd7a'
         '01d6178d9fc0d19944708cdd8638afe8'
         '803d38df41720e9a5761589db5cbf342'
         'b64a885bbad205cdd353784d84186a1e'
         '13c967d49f46f66e8ef4d2ecc5039878'
         'a12f1e3c9b378112dae6d01063710f09'
         '000fd5b559506d7dbd1decb5ba706061'
         'a8909aeee5e5142b401454be7f88e964'
         '1516808339d2b09063541ae4e8f6e2f9'
         'fc2a47266834632f521222eb1ab49ae4'
         '753ba9ebb9189dce98070c76e372e7c6'
         '58be52e5823e9f44f4bbeb3ff1359b45'
         '8ab285e9c5f22c9d73524966ccafd7d7'
         '1dccc65941915b3dcd873df0d38b8de3'
         '9bb9a0e9f20dfec2fc6d6c15611546b9'
         '6a0055709f05328e23af8a317bd8a647'
         '663f12edc4f6230b866f2ca50edfb987'
         'd3fc1a1794ff4a43231ddeb575c46ee9')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
