
pkgbase=firefox-i18n
pkgver=34.0.5
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('08faeb296ff97de533d4a0995cd0af9d'
         'a32bbaa624ee68dbe7164b966072e735'
         '2d6cf7c39cde7419fbb215d67a73a069'
         'bd32acf958e0912924f6740c7565a5e4'
         'd742f5958789222cab026d7217b94a15'
         '2af403b180e1aefbda663c402583964a'
         '7a21d2c47ae70fec34706359883c0ca1'
         '48afd95efbd710e79c168715441da2b6'
         '92a59dbb2f258d06c896380787d4429b'
         'd27d0311d93858953d3512ae6c967ebf'
         '712cbb3cb046f81f9ba8c82fd1271430'
         '30c02628975d57e69e14c92e2ca1cfdc'
         'e52b260867fe4931cb8fa287c24d6363'
         '96c61f9f90f38c18987a4f679e094f55'
         'c2e425fcc57668a5e9294ec25dc650e8'
         '1277f2d1316404ccddb3648a8604ec09'
         '9fb8aa373a3c7f17c3af88712d177c27'
         '60d86859578fa50f4661d4ae16f50381'
         '0abbf04cbfc5ab03635ff522a27715e3'
         'f319975364a9ee194ccaf559025596f5'
         '5949839a9940fbf89abcc0cc346ff0db'
         'c43143323f462e3663f507e6e51a6412'
         'ad22bfa931ce0c6d7706f3d2cda3cd07'
         '8306b5ef1ee91826b8723b035b4a6735'
         '7478053f525a97c7ae7c5a29b4383c09'
         'ebdaf16a59ed36a891c7e38823879487'
         'd0bbc88628df28bba21acace44682ded'
         '79417536ecefde9555c0f000b6aa166a'
         'bd833a4e97c8ec74805770192fdee795'
         'bfb98b5894e92ce10660bd7c2f45c2be'
         'e1ba27ec1d0312f23507613b15a83ce3'
         '3c252407b556eddfc59608571e602dcb'
         '81a6709982a26fcc895bad8ba2709d5e'
         'c65f924bbfa429e87b0bff37d9d358bd'
         '2c8ce4c77b895b3d1f6e3ffe3cff4948'
         '84464eae5466d43efaaff11c7460c012'
         'ef5440b484f9c2a08acade70c205d0a4'
         'd182576f48eb567c152fc38da099247e'
         '9e4c9f6bcd1003129b390a53fc306ab0'
         '767f3b7fea14ddc124f2cb30a9ba831f'
         '5b77a21ba0eff2a12a0a9f0ddc14d233'
         '0041913e36f6405074d71cd048048ced'
         '80b1c2dcb4db6ac530efa8e1d390f537'
         'fe158588f14645cd7c847d2ebe9ae266'
         'c388eff7bbb022f0332f8ad2cea30c64'
         '9dea3b041ced940c337e50f48fb6eede'
         'e1db23d696aeb45670a09a7641e528b0'
         'abf59e4077b8a59857675d39ef39f035'
         '645e1eaa4e7315227b512ee969b26f29'
         'fca0ed1b97a6ca241e2d22c315337c8b'
         '441f668fb1e512422d835e20cc90242a'
         '82e06bafcc8c1104938fd5120bb58f2a'
         '85b2d21b5c0092c591600e00f567785f'
         '5622fb7d18e7813161f81ebe7315be86'
         '6ce3cbd262df61490741fb47e4da9cc9'
         '883f8c18b7493cd9cfb27a18297b5f81'
         '93fb3f4bdfa769951df1cb16f2eb35c4'
         '33d54aca79c62af62d925f09816b4876'
         '742cfd2c2f9b187c0d63f2b5a33a00e8'
         'dfcb07c3b893186279eecba9b3ff3b1a'
         '9c15500d11f13a4b4bafa764b90d0d38'
         '2988b84e5ccaa3c3940da8ec6eda4b18'
         'e1003394f644b7921c2970c58113f4f6'
         'd300488a46018b551c9e4bd829b92cec'
         '37bcfa0a130c5d54d5ca4c98592019da'
         '678b8875e5b1cea10f39ec817807f7d0'
         '0a726dd8d995fc1e9b65078b281c0d9b'
         'b41714be0e0dbbe140cbf28969b2f759'
         'c6fd6d88d380bc502e1f18ec67c7b871'
         '2b106bfa1b7c55f4d9304c5781b0321e'
         '6631b1587159d59c0cbfc63f2a207f47'
         '83b62218c977ba8b3ce68936df2c7acc'
         '0a05354653d1b9e2dec172bfe3c918a1'
         'cb2aef37310a52b5b8c241294b0de86b'
         'd442159444042394e29fbd53305bae86'
         'cf2a7b6f37b1cd24f31cf008cb33c036'
         '08e76e67f4bef98b6c54f91e5dc8d92f'
         'e3750056e27af9d914f6dc5ca00e2d8f'
         '2e97a26b580b1fb120c6d9da99c69b0e'
         'da11fe5bd843bce530bfa797a3416016'
         '0387d351cc74ee62e93327a311bba1be'
         'c1051d4612e6c0d39fe6539cd45d9ef3'
         '285779fb20f0d8ceb3b7e0624d230bb5')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
