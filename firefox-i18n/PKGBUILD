
pkgbase=firefox-i18n
pkgver=36.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('854db58e0b03ce8c08e7819f2b9e01df'
         '042defc222d28ed168554098535fbe5f'
         'e752a99cb3cc27e13e18a8a49b8edd66'
         '9e9d099e6b94e18d2607d22fe3b0bcbd'
         '228c036652c2c1dec46eb00cadb41589'
         '49527dae6f19a2563451fb00777a3f69'
         '90e25fdbddc4a3f518ff2c30292d2504'
         'f2bf32c67bc2ff16957a34510359acc7'
         'b1efdb5bfb5b4ae9836998f9d5934d33'
         '925315bceb84cf6fe8363ac0a23915e0'
         'a2365173d87b4a6d688f5e782cf5d088'
         '921db90e1175ae6ade8fc3b43b6c7ada'
         '351cbb265214adc11285dc06f45487c3'
         '40efc73b1e5791695860474ec8bdb170'
         '7aa45a9b760489995bdc5e21937823f7'
         'df1da2fa753ddb6aef0ec942a8fb2fee'
         '6d344c3a38e335f4bad1330ff64ff8a7'
         'e25e8d3c9565ba6d7eb487a86031c34c'
         '39654a2f5b20d080a5b0f82a4c2e31f9'
         '0c101f2ca857e75210b9d6cd0584447d'
         'ea0b80411bb0168c788b251eb0105226'
         '5790a0bf38d6519e1ba01b608c9c15c4'
         'b82ff638402927708b0d9cb02da68bca'
         '9b2699a42855dddd135b744d77ed6af9'
         '3501106dfabcd86eb1d005f2c4790906'
         'b248d4e961d4c6bb1a9f2f9b8af11510'
         '3a3f5c7fedf2382dc828d41f6074846d'
         'a0bd294d67c293f9d3394765428e5361'
         'af05527046b348fe60da090909b05a00'
         '85dedf4f73ceec671cd7cde8304eeff1'
         'd0568a6723dd35568379299294ecf313'
         '179c2a773236e7639c8e16b1b13d182f'
         '21022aee82388ab3fdea0a5e92b862d8'
         'c0b3e45a749fb5a6cc97b86e9d27d1b4'
         '5b60533ebd21a758dd4c6ded5dc248af'
         '0cebc76b66f0fc6c3418fba62e438121'
         '17c0df33f052365792e06ab4980774a2'
         '459d657369cbeadba3f5b6689faa4c89'
         'b7cc4362effe16f50762073eb4a09a13'
         '57398e1adf2dbb77ab34f05508102400'
         '059303431446af18f6c3edefb96d7a18'
         '8e21c68cc0cae41a4afebbe315f6e330'
         '29e0f37d85c153085c42d21e4245c172'
         'abddd54547b945ba197ea49a6d889e1b'
         'c632563bee7d2f964c299a7e45bf544d'
         '3da8d8670a273c97090c05ef254aed15'
         'dc7bca47a95219c175030968b347469f'
         '253803d3d18802a9f7e1d15ffe709b56'
         'b23b9d2b839b90f42b37d478e7baa2f2'
         'f8c063f470346b4d4f6b66ca1605ec68'
         'e2e74b514d3536601a9f6a32bbc6b383'
         '85428fba92cc5bdf1586ebfcbbe842be'
         '9fff1f1076d34ff50e620e9f4fc597dd'
         '816b216dbeee6492856e82db30017bbb'
         '1c27b6a07f6c80452d6c61b95fe0325a'
         '08e21e0c21ef4cff41e0a1f60b51c89c'
         '7eba4487a1c9e0e5485b8fdff7ebcc20'
         'ddc71ea6248cabd6ea0bc558ad06cd97'
         'c4428417d5101e7e5e67bbad077c3a72'
         '30bdeeb173b3418c7f147f0816c998bd'
         '0b5fe3986089ef9b9e1c31ca7beaed23'
         'd1e9f765b1480f6ca3b964b8e7cc5cbe'
         'e35ce426e55af409a59af64516936f97'
         'bdf40d7a4f16a5d86540a5b88396cb24'
         '35e028ab2c7774b7d494a8f01d11bb82'
         'a7fbed24722a95fa9001501071e15e1f'
         '385df3c5ed172e1b65b80841c2d5cbc5'
         'a82af863b3ab7310a9fc52494a48cc54'
         'e381676493141f8ca1c29a38df664ec8'
         '3efe10c21a503b083f2788ecf9bfe980'
         'eac69182b74adc07bdb71a000f26c208'
         'fc9e0cdeb324223c58042731c01e6593'
         '7a5a52aba74c07f92411410a127f24d1'
         'b68a586f0cc72d2293ee3c5f8d87b863'
         '048dca0bc4df96d8deb4ee6fd000cdb8'
         'ec7afaaafcbfb4202ce81bb1d8e6169b'
         '10c9cbfaf434ef18335b9bdc21160dde'
         'c6507824aca44721021905c2c7b46f3e'
         '97713ba3eed2bab724ca3d3bce7adbcb'
         'b58bb3bc397698e74a997f60e87432ea'
         '9844cf50a5c71767f225efab143b5d20'
         '0d2abd5483b19aea77ef9dc39fcfd5f2')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
