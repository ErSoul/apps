
pkgbase=firefox-i18n
pkgver=45.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('67d12125aae5331f28329c3969cd1bf4'
         '8a4809e702d5f28297d7c4f9cd2d4a45'
         'c2a2ae5022f9270bcb100e992ac5f155'
         '59e3b5ffce70ecd396cca5f099a1378c'
         'e8d8d22cf103574d8876fe6618104da5'
         'd8bdf89bb3fcd636948738787456fdc9'
         '605343a485b3307da853c3857e7003ed'
         'cf032ba4bf02afbaefcf7bc55f127131'
         '9495ea19471132bd75daabb88e5ee228'
         'fa65766e1bac547eadd72084432fec1a'
         '137d19aa8415f14bf87912f0921d92de'
         'b2a0ec43f359158e60d894445164ae53'
         'b177dea2759c809b32b5098b59ae8b86'
         '1810a1e46d9265fac22d63ed6df73972'
         '5be78f7d766fc7c09ceeaaf01aae6455'
         '9b8322fe5e21cc559ccc19ba9e82ab6d'
         'a603d85b3d9e508077d535bbf4c249d3'
         'b3d4ae16edf3e3b359323c0341162f1f'
         '072367026230a3cc9506480f02edfbcf'
         '79aa0dcbab25eda126ba76be791ebde7'
         'c248b39b5be14626aecbe51ddc2872e8'
         'a6cdf0fecf0757cb8b8c14d6d48a18ae'
         'e72c5fab067a9b99c5ab79831246670f'
         '3c603b2869c2541bb2a7cf6695685483'
         '0f94adfb78bf45e669df2e15dc0d0a6d'
         '9b4e0ab27e4ca38aa209a569ef51d2fc'
         'f5f1658f94a558a7ae5d2f85faf41ac5'
         'e65d2b6d22fc8c1fcfc55d8aa7621512'
         'd48823ad66d4004e85949c800bcdc707'
         '4ff777599cffc89ce898fc22258c394c'
         '2a3d7c63fcbd65b4922bf441138ed871'
         '5fcb46b6992527e8611b01b90c4bb4e3'
         '2be36fd27e3c9d7583db0ac6a4c3a397'
         'a105140a2e446374c8153ac4fc656647'
         'fa7ce9cc8100049ce433f84eb2264628'
         'c0947162bf04b07f9a2036aede1191e7'
         '7a8c3566e9af598df9f415097f5c93f6'
         '80196b810c77c126c39d4ef9228fa652'
         '0ed6a32fa981b64480ec98b2de50d026'
         '28887f71e884ee6f9b4cf7ef40327040'
         'a7e7ccb96e84794197d73b6e23b815b4'
         '801ff6711510549f12c411241cbbb7e3'
         'd33cd711c9ae710199df347861ef4427'
         'f96e955c6cd536e84d9130c9e9c18108'
         '7c9eaa7b40864d2a83c901e54c90179b'
         '912567bf97ab3baf138a45becef3dabb'
         '380b35ecfd69f1d25e684f472323388d'
         '66d45692307d2ab47d9a72a7aae44e68'
         '63e7e2bc92182c45eeb36728d304e621'
         'a9d644f4c131d0b584ddb608b562e229'
         '22998ab7e8e0c1870f9f2ffdb654c813'
         '655d2ac5c1b169c801890e003ff3ef3c'
         '23e62d0989cdb509951877550d8b6797'
         'bd7fb0c37fe576a3a3e35bfe18faba13'
         '7672de6cf0409be2a6331d58d298afe6'
         'cba1cb9cf3c52468da7de731628e5c25'
         '02e47345543292929de2555b6f2fdd3f'
         '66c7af2634f85a1e595eca9a6e15e711'
         'bfb867df9194064e2412bef637e3bf58'
         '551520f4c43a785e5f06123a07d92975'
         '664a474834800b840bb36afee275e4fe'
         '86485e9c95416ea40cd9e18dd04132bf'
         '79a704eff1e9c3df6309f7501e56d4a6'
         '4ce6b95074ea180ee128634e802378e5'
         '453abebd58209d15489c7e4719e351b2'
         '576afde034086c66ba61dc1a736d92b7'
         'ed6e63691ac81365e061c7eef17f64f2'
         'ea91b2634f637e910213d9abbd576c5d'
         'c20e297d5028b2adbed19bc3b46074b0'
         '03fb2c812c27a550aa238409b886c3eb'
         'f4474fed72fb4f17cd1c8b254887d79f'
         '8c3d8a8607697e057e52a298b647b9d5'
         'c970d8ce00f61009228169137b75639e'
         '0665b62ff7ecac99f8a3738ab765baa9'
         'd4a4ec56f8fa64634f377327caeaadd2'
         '86f18fb6b497b14f0c5c8ce5f4c59a87'
         '1a765f3efe0ed02d8af70ee623b14a15'
         'fd5df378fd2656419c4ff58c53b25713'
         '57086255a4e3877c6073b5607bc54663'
         '584d62447876675651e8659b868eacc4'
         '0695f6907b5c2fd399a80b3e3356ff1b'
         '723b2bf4c0f97b9b1963914529b49cb8')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
