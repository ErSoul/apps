
pkgbase=firefox-i18n
pkgver=33.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('beaa2c7d0ccb4189bbb67584258fdfbd'
         'ca24751bd7b087d0adc8f924a431bf62'
         '464cb5ef7c32bfba18a43c90eadcb726'
         'e2979eabb75b239a0b313cd610530a37'
         '5b78029b08e27de3080ff037229fd071'
         '100477bb90a7f0a4f02b7e94505716f4'
         'b5758e0aca11be8e2d842538d676a097'
         '008a68ba28f991f9db5baf902e680c8e'
         '9ec9fc6a434a6ed16d3d27a76b534425'
         'be67c40999ab4bab53f20ebe1d90cea2'
         '79228ca0803d614fe1a3df7ed87261e7'
         '15dc2afcee57b04cc5979df2eb305d22'
         '38780c3fd70511374865925ae4b4c78e'
         '8aeff56f1ed477f87a1f50df635d2f78'
         '5e47a0d1977d12853704c790c958a63c'
         '4ade8126ef53bd82d7c30edb8be74f31'
         'cc5687b6d7bdd1b79929895282b37164'
         '55da18cb6184860b32c4342cd9855ed9'
         '58931719c92e417d6203f2b012515b84'
         '07b98113b674147d172dcc710167a860'
         'cb1231f29d659954c3c05d1f54cd6d01'
         'd22ab351e6b76695baf6c70f90f48884'
         'a67e7ff3211c8af20365c81384f0f065'
         '5fa2e2a15dfa23b363a99ce6b218dde2'
         'f36e71c53042ad0ce6e02c6aeddb59f8'
         'c159c6093ea4766b38b93b1f73e2998e'
         '8e37931b92f5a09060957f86e5ad0107'
         'd0edabafad1b62a528e6bc4083c2d8ed'
         'eaab4496ed135d17931749e4eee59812'
         '9a95bb27ceb1d9d23200a480a9798b89'
         'f50b51e4e9f4cdb2c0577387431d9522'
         '275a6f8ab25a792e65e7664261f7e261'
         '14329ec4db21847f2eaf69769b4d9635'
         'c99b81be6bba1e374de8a827e88cf5af'
         '4424544eb067931817e01c01e0dc302e'
         '30b8ad01550955b1291471ff6b856236'
         '6f6c3af7cce3985a21d4527c6d929167'
         'f98d7ebcbcebf1df089a8800a32467c8'
         '592902c4e0ef5bc83042865942046158'
         'dda8088f8c80072a5f709e76d5c11c87'
         'b772c08f4f88c2105e188e0773f46288'
         '22ccb38e0e9ab969f0e85c9d91159328'
         '2d388459815eb300147b64ba5333ac10'
         '9d6cbaa96c7aa35717e60fb4bd1cf6b8'
         '8c3e9e790c95e70852371d17579c7778'
         'b0685da9922ee2ec0a11d01e999b31da'
         'e9a98063834336bda8419697b490741a'
         '11e5adf7f725bd661b6ceafefe3c3386'
         'b1f6a82e2b7e710f6fd8d379ca3a4f01'
         '1c1acf2cae1fd357e67d2afeb05a8e80'
         '86192aedf81ee3e22158447b19a6bbc0'
         '3fd4432ecbb8fe43e2701ba63e20b467'
         '9f21047242197b583a0e18ec5fbd9c85'
         '95999c7f22d0d178d0a2608c0a7a61d6'
         'd88ce1b66d17d53dd7cbb96ae22b31ab'
         'd5974541023cdf3ec37eb8e367280f5b'
         '028d93c71ca8e424c9d53efac1ca2bee'
         'cb3be69c1c0924f096c312b4d8c4ea67'
         '9c2a06d1e008f364ceaedb1db3f1a5c5'
         '0c87564d91371c7cd239585a2321f7b1'
         'a0dc5723655fde50927127f5592895ed'
         'a01119bc9553c5c0e4882345c7d3c1cb'
         'bd72fd6d092e73c03bca302d5302f36e'
         'd1597bee7914e576b41abbe6a3d02969'
         '530c93bf06b93787005ded74069ef5c4'
         '44ec2d3b5c92d581dcd26f9350f8f1da'
         'd6f8e3d4d342f16f0e92e3010dadaa43'
         '16adc3bf533df485f1de7c7dfaaf8766'
         '944c5665004b7f480c976e44ca8df22f'
         'a38c1108119a8e45ce3d5d751dc3ef09'
         'e00b24d00b9c1f70c512e627cf5d381c'
         '301edb7b370aa0f33f33eff9306131df'
         '2ef12f73b9c0d4f150376358f08485c3'
         'e273ef95031fc9478d4e6f7e90bd0bf9'
         '41bfddf59ecd31545626b0c17a4270d3'
         '871a35aba77600a80f5d98e126cf7ab0'
         '35b45a670c8532ac0304c51138868adc'
         '6af07a185e4a2942c6b65cb06f148c1b'
         'fe50a05a0b930eb0c80c26041f6e22e1'
         'f9335005a56589319450d739666fa8c2'
         '417f917d60f33fb5ebb979115fc7df6d'
         '832da6ff7cabb42c02c1e8e97173d806'
         '3e9f4eb08cf28e8d1591b8818f564e50'
         'b3c8d19d4e833004367dcc70cbf7b358'
         'd66e5a42191dbc24d72cc9caf5e3b8a1')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
