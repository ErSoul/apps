
pkgbase=firefox-i18n
pkgver=41.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('c23079444f2b98018651aa73ec5e8782'
         '591af54080ac5124bb5ef96971e78cdd'
         '031651d8a43f0bdd9c01f40e3b6bb308'
         '6ea22943f470ac1f21b02964b2e5a847'
         '79aa52dcaf72ec0cfdcb8661ab6a267e'
         '8408f26068aad34f965991231398d186'
         '5d0063082072c595d0977d8f8347d69d'
         '7c97f0d1d6df41d35fe0dffab8fe7457'
         'f14c704892fe7bf402a269f638cb7d05'
         'b6a29fe282f30fd8ba45e8d0ea17719f'
         '9f719868bcfd3fa552f58721e0ce722d'
         '6b28f27d2c0c446dba2d28d3911fe236'
         '838f53584fc1237d34bb929b514009fb'
         '1957928fc89f4df82948181ecce00b2b'
         '7aa6829255121183a76190da81b5c866'
         'a79b7772149d411980819bedef48af68'
         'f9a3fe931f0ca62223369896669843b0'
         '309d0e07b5d8ffc662e4d15d999eac72'
         'd0e853200e63631221e9075d60bb1d34'
         '6532541fb8a06b9d66f79b7e8597a3b8'
         '99cd162fe5dc3542fa0e26ac3c0192ff'
         'a0d9576b3aa79086a31815ea708aa923'
         '996f157c37b8b23e7e9a9adc97aadb29'
         'c8f1066dd468d294daddc0b5a60bbf00'
         '7f49e3213044324e343bca6e9ee23060'
         '2cb920b2611de7fa531b89106dcfb6cd'
         '826c24ffa819db08ed82a6e5f032974c'
         '54e2a880f10a593f114ec5c5abd7f7bf'
         'e1166ac1febb62a7964ac8572b2ed42c'
         '59ce66dedf8819e6ce2177e78af8f25b'
         '8c731fed0ad0ac2946b5f48a29e57d0b'
         '590bedae821267bb1553afdb14126053'
         '010cec2bf1f31a52f5b81add3283b2d6'
         '975a44b145e61609a585707ce01b6901'
         'd382fb6e0f5ff7977aa76c404d325b32'
         '2426b3fa2cd3993a00f0f8851047bf6a'
         'ac8a36208637e03e518141638bf2a74c'
         '06ab85053d817fae0acaf3f4c662d3f7'
         '124eff7bc773e593eb5f227651e89b01'
         '7a1e2d258b7eb6762a99a5b4a88a3525'
         'a8302007d64eb2c5695d795ab96b8ca2'
         'fd73e18e05d927eea7b5106e2fb2a3b7'
         'ea38b18ed247ecbe504d559c0369038a'
         '2954cab029a91008a343b3079e87ae46'
         'c3eba3280bb56eacd98aea1f4f922162'
         '303f9de8906171f4309881bb02daa5b8'
         'a7fd912bf41a64dcaadbe81b2eb11bca'
         '55b76bd71fc7a6ccf1f0bb4d155b1097'
         '60ede47e259c9bd90ccd5088a9fe7a47'
         'dee6af5efcb6e69dd96f489ad781f9fe'
         '3a51120d0f9419742ec1a9d74a3b797a'
         'e8511d41e58faa55c7c4579ee478c851'
         '2e2deeec6abe9b9a286d32f3604890ca'
         'e43cf09f7263479f825b1485f22d80e3'
         'f6ca6bdac9edae71129061c6f12bb62a'
         '46064530effac576f31f66b7fa7ceef3'
         'a6ec715a96423549ac9cbcc626ae2c1a'
         'cd0974397cda9f1b5ecfedf693690da0'
         '4a1ca175b3e81463b4f9c8aa00b7325d'
         '4774d48fa29fb54725cb4fd262bcd8d5'
         '178af663b5cb617e8c81b690be687788'
         '76dfc33b6aa04c1fc0bf21526fa92065'
         '6bd027771bf283961a30b0800c662259'
         '85b25de94d93b637a7ff261e004be1c3'
         'f66f5cddef4e090a7c46d185b4bc7c8d'
         '360e384071fcc278f8294ec1dcd511b9'
         '73c2e0256c5c2e4b115c61729f6e98bf'
         '15f514b7d1b56b2e5078273b5efba899'
         '917926291460b7edfb8c1cbaaa3a427a'
         '21ea44604e405d64ed0d0bae9643744d'
         '9c84cf69590077533ac19dcd9b1b77f3'
         'ea7d0064980825e0f899242ebdd60da2'
         '41e7e4748316e6a125ef19b142b00c8e'
         '6fd766c19fe6377e0f5f6c50c7057ea5'
         'd09e28760254fb72be61c97b73252588'
         '5c58ababddb093e1eb6cc039ab81adfb'
         '9162b3d8d77c4781f9f1e3c2d68817b8'
         'd6efc85b63182e52e20183a2833d30e2'
         'ab105b356d11c862ad2e396655e63301'
         '48026671218ea48e93a21fef1144a009'
         '6bab5dd5d83c7388727754f0454b89ea'
         '7c69f066d25d2d6db06cb211bd79c530')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
