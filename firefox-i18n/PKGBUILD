
pkgbase=firefox-i18n
pkgver=39.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('9f91fc67e7250bfa681b7d0dd6b19d8a'
         '9ef462b366171bdbb621a342364e4af0'
         '124ff3edd2827619c5d3572832999e6a'
         '9b830e5ca979c2f7c5fff0e771f94eac'
         '19a62edbd8417579edf73ceb8b064ece'
         '723931be3b9fa4d4b7cf496cf750f692'
         '9164249e034cee1ab68a2239e754fd9b'
         '8f72da4d2317ae14322a893de6e245cf'
         '20a2600a3e4fbabeb9b5b42971e875af'
         '479f303240114d685faee078b7845d05'
         '20d21b487350cdec2dcea34b888168f0'
         '0f21b7bc2de8612b12c2f1177325c718'
         '7e38ac766ca112fa9e9774eea171c199'
         'c0314c20ec103d5f7c729b66f90a47bf'
         'b4ea84a18e9898c466055fa0ef4c206d'
         '6358d38a70477c536ed052749aecb390'
         '9a6cbd4c455710386db7b993bb9b1ec1'
         'ee72744452a52e59cecf7902b76d1de6'
         '232797e88f096c91d655261ba1f12efa'
         'fa827f9e449aeb5fe6bc55b31b261b6e'
         '189edcbb0c41193c1e748c818b7d35a2'
         '8ba8770ce3e93ddb1af19cdaa6034e56'
         '891c32469f7ad639f4146abfca0bd0e1'
         '3c75e590100a539623d0e1daf87f8054'
         'f9d97bfc898df12df5dfb9c76915e183'
         'fcb1c75323ba1d61ab645d6550c6a637'
         '394b49cc4c3553a0b1b15fd4c87de86a'
         'fe7137c248dfda77b8bb433255ccdc45'
         '167577bcba37201a155b9468c279356e'
         '4f3351eb071beb350535222f3b96269e'
         'd35a641642a75517ffc9c4e80dddad56'
         '5c3579573d60bdf2b6141e72781800a6'
         '76bc97bcb4267e49fff50b2bc6416f08'
         'eac9edf939e389cef84ea2a3aec7e285'
         '840eb1825819dce98bc98a9ccb0165f0'
         'f2fdf73ef6cfc6b59898678f8fb25a8f'
         '34e3053759a682c17c29fadf0b14cca2'
         'c360613701686958d32b94bf880b69a8'
         '4be849001b303c4c52b7c70bd0127db9'
         '91fe9c394b185574120e5f8871e4e894'
         'ea46fff5d27dfedb7b3892ea8e23401f'
         '242d4469b6f26d4de4a2b5c20e0689d2'
         '41464e4b3ace6ce15de042bff2ee285d'
         'cc235eed71eec68210986d8f9cd4814e'
         '7e8096efb367a1b33a792196b26c8bc3'
         'b74c9f91d1aa68f9346daa3720105ffd'
         '08262ec18ff2ac857b4ccb75e0e4a19f'
         '4349605f10bb8931db5864e86291e506'
         '01ad3d9eef8c981d45851901f8e93b25'
         'df2d00fb618d63be4db16b27802a7fe0'
         '7e3598ea291f6ce0e1b9debd3f317ac7'
         'd645026cdaee0951ca8ac7257d60098f'
         '2e029efef3e45d0489e6971a29c4e0a1'
         '9f0c8b54bba70ca41be16305e497bbf1'
         '75a1b00fd35a1569101db06903684384'
         'e7714a0c35e2817c347c42a667edb34d'
         'b743c6b7eb8a44f139d6c8f58c783ffb'
         '927ded4ae733f8a8cb4f59def01c9ca9'
         '86fdd2223c2f70c418464f5e7c319b7e'
         'e5b343b77fab3e28cd57f50545224a59'
         'be8a1bd5550d078a86f69fc1871e09fc'
         'a264fe475a98ac4efa6b120eb3c0fad9'
         'b2a8bd809b290a93f93bb9d8b4ac4e72'
         'fcf607204e2e75d4a976097c8170dcc0'
         '663a9228327e661acf51ca58b0d65f7a'
         'f5605e15a415d01b4f2a8222b9bbf5f9'
         'bf36d906eb45d9e57de003ce541e4a94'
         'd5b602f2bd5c60ce9bb73c4dc5fb42da'
         'fcdcf2481be5249fa2f45fdf471eea42'
         'af469e5196512ed7570e87b8ec0b656c'
         '3e35e2663fb9b648e785399d3970fbd3'
         'bf4d5d1f2334b8097619f562420f53ba'
         'f56a4df63a6efd4849994df89583dacc'
         'ca92912900f9b3e9a087e0422ec36854'
         '0f21c9ef12c30719afa9843077448d9b'
         '2fd5c59e7ff903b26eabf308aa54708f'
         '4f533d3844fccd5be1b87bcb02ff3643'
         'bf9eca5cd29fcb1a45317337017292fb'
         '3f14d39a85d7ace59299686d8d60f4c2'
         '4b3a4e963c10f7d1758a020b80be5fe4'
         'dd6d72a4547953d3c9c595e330dcd7aa'
         '12b52b53938e30049f3cedb366ac9c60')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
