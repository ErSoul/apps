
pkgbase=firefox-i18n
pkgver=69.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('4e4a0f5642ff4fbcd35a5db437e1f973'
         '2439fcb7a6570b122fed577b3771a82c'
         '961b4324bbe70f46218bc83ff9ace710'
         '727adf68c748881d0b54dca1f49570d3'
         '3e64bdf39f1d48f5ea759be95ac2eada'
         '75230bc1ae627421fcccec2c433cedff'
         '418eed74095cfa42d9e9005a874e8418'
         'e2e8662ad82e1cc877f2a8d51e2b02c9'
         '540827ca7e3b7c95fe9aeb6832bd766f'
         '23342f2c36e99eae55f11d99e1bbfa40'
         'dbd6aaad4409f9f7390f406660394243'
         'f112ee4ee1c361d5a92c1c2c90aab5a8'
         '5d445de1770bcb404db74600e1d5bd91'
         '33ca7857a6ba49cd2f2c6a1dafd63be4'
         'b5776a691a59defcd88048274cc4df5a'
         'cd0ff7d71ff2ef9ca21e10cfebae8b0c'
         '146e77f863e029be3b43123912f30f1a'
         'c429d2b265b4f1b9c36613eda8245dfd'
         '694d506f41269884680b8d648a6b373c'
         '814fe1006768e3245d30c963061461f6'
         '25ec1e8e016b768d3dd0ce5942df4b3f'
         '03ad4389627fde97b07acef6bd81012b'
         '09d467d04e123d22a7e8aefbb55cd59b'
         '5119c28d1922185046dc599d773c12b7'
         '82d83488b7ba7e3a36f6bd4d6a619eaf'
         '03f4934f9e045a1622bdd50bfe8bdbb9'
         'dca538564a6a786b0460b0ce977189fd'
         '7d54fb1b29be673a5ee5f67b0dce80fb'
         '7a0f0576ae587346e54e9fb40bfe9415'
         '17dd5ef731602d3d48f3a5f4bd90e8ea'
         '504ce7f45479be43e876e58f8484cac0'
         '22b4ba264c6cdc384322f8d13a27f8fb'
         'c8a7af93705d6465ab1e3b4f26f60c6f'
         '1056be2359c15db88e96a9efad4a5ea1'
         'f55e3a5b5291d1a040992dcb02eb075a'
         '873e082adfb72ae3dfff882300fa697b'
         '1f6978ea01e21c521c5d418b535575ef'
         'dcec2e54dd9edfe233ee0f2e31703fd6'
         'bb02f040ce02f9587a2b82535be0061a'
         '42bb9e38a4433f82cc02abcf7d634cb8'
         'fc91882533294c5f1d761d9e14eddec5'
         '7b76d0cb02b59472fadf7e91d8407b4b'
         '93ba4125c68de9b4cfd7ebfd3f160d30'
         'df5e7454a08749f3943c45838fe4d863'
         '469389de3756edf371b3731a5275d30b'
         'f44700bfb86f3a9167e7871eef036d09'
         '5f6f66781df2db2158f0cf344fbfc0e1'
         'f4737fce3749868143cb2db8127ee968'
         'bb8caeaa36ee5bd8ee58018179141928'
         'f63c3de89e34bfc858708c972367102a'
         'b24c0825a1919bab290f38b6ca8e5476'
         '2e30681153bae75395192a72f3a3b71e'
         'f0e014eb490e1899908046f6944a1e21'
         '67d16203ee95109df343aa5aba6070af'
         '5ece14a760aacca4ec691e63d6f35d9f'
         '57ba649219b0b9e3638074292944652b'
         'fa6ece0e8e875ce59c03aa76a363358e'
         '6ad2c60624babfd72368b6b842dd9fa8'
         '84c596537f92ea3be85d988acbca4568'
         'ed7b68a673d10e8766efdaa24f9be4fd'
         'bcf9c4ca59821645c15d4f2a0015d1a7'
         '9e60b6bac4282f46aa2e843695059415'
         'fbf207d5c973444ece9ffa974dd49eb1'
         'f4d05748579c50848d878242657781f2'
         '2090dc96992c2e15a6cf3475c35ea27a'
         'b5b3f0cb8364659b6f4974152d4fd233'
         '3973950d02754eb53d34771effd276d3'
         '746ab1f7d53cf707b92b137db64a455f'
         'd6ebb8c332056c24e09b37bd893103ed'
         'df122b403a592beea749a61915b6344a'
         'e002e7369c1698d27968e6e43d6800c1'
         '323d64cd01210bc8f813273d423fa2a8'
         '37e0016b2d06a7a5e3d33fd025b37b62'
         '8e83eaa0447aa7f2a6d4fa759d5b6454'
         '340a6a8c12b843f1fa4ad554e5faf45c'
         '4eb91f82c5327a279b0a1427d62aaf32')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
