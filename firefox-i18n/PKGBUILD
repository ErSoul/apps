
pkgbase=firefox-i18n
pkgver=49.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('2d57b3b4396552cd100f599d51d842e2'
         '16ae2c98f1751f66dd3accf18314df17'
         '36ac3a06e2dfd13c7a102c75273b2111'
         '31c4030e3d91f9ef2b59e560d574b6f1'
         '0804962ce07d0b1aca8ca475ecba93f0'
         'ef98746752921f62fca6bac5d6367aa7'
         '9972f2fc25ae9af320a8970203a018e1'
         'f516235990aead5d583608e910dff060'
         'e7c436bb44290e0b7c9eb2c521c50bf8'
         '6cf47e958dfbd4fece12725e1fbe8733'
         'cfc3f7c9db34fab16fd90d1ca9b72469'
         'f3e19bdab455cff4c30b998b58266b64'
         '5c523589fc4534bab290d0e2b1d8f069'
         'e154e22b6499a9c2b129a5d865dc21b1'
         'ff96464df04047418fbd4b77dd80fc24'
         '2b2ef3b08bdf1a5bfa8e81d9da6a8c53'
         'a7ba154aba09a8396ff781006be84b56'
         '10af37d568688301c6f0580d1e46c26d'
         '75510469b0ffa5047576739d0079315d'
         '9195dac5aaeb0d3d4b62895eb7700356'
         '5764b1474126a71e1eeb9fe24db40581'
         '6ce902b9ef54af4b65a12c34def3840a'
         '71ac8e8208cc848f81fc41fb7e286a1d'
         '8e648e610a5af9ce4a6be15c62fa6d60'
         '017cbab4bad93bbf8b9048e262beef77'
         '607080849b1d032ce06fca6fb3ae583b'
         '554037a01cea639e16b9d18256346e87'
         'd36236c56c7ee704869feb24ca0779f3'
         '60783b9342582ca816b271a50a163d8d'
         'c53f592a482b87bff45b948b88daac53'
         'ad823844fa97d973991fb9416d48c02f'
         '5300ef48da94457cd7135bb3ab8c8480'
         '295c891979fa0cd803cb0a63e66a05f6'
         '75590fd447f155cc5cb8c15eccd7f46f'
         '7f741d019ff946573dec0af4b5190a7d'
         'efe85159059c6a30a88ecb432dfbdc8e'
         '737520c97cb545b81d0a5fdaa4b57da5'
         'dba83c2727ad0ea06ff17bbcfe5dceb2'
         '2e1cb22ba4e3fbf34a7aacba6e655d91'
         'a6268c51830990fd4a8989dad3412bf9'
         'dd3187f0b779af37ecb4dcfbd70590d9'
         '7b85ffd525ad7fc4723ba868ffd5c78a'
         '57f71e7f2c1fb864bf0bba543ed99922'
         'd1be2d0dac454fe58940122f5c7e8613'
         '66a69887a24d11706c0b71d15a69eb8f'
         '180d1261bd7b36b362f481e2130293c8'
         '91ea3ab35ebc7710650e5037107552ee'
         '42344cfe7fc3cba346ef6f9a6477bcbc'
         '643bafbefd47079f4b881d6275c64d2d'
         '58aed842ede61e5bc9f18d9e4c35d4fb'
         '633d94c73f1663cc5b8d74246f895827'
         '7013a37d744914aea9d5ceedc5872faa'
         '5fe97c00b4ae34c89d3a065f52e507e2'
         '99256ba5f1e1b5c5fa69a2aafc0ad1f2'
         'da21a4a99049246caace90a03cfe8da0'
         '2a3962f3fa4182783ac5120aed47f3af'
         'd9ea2f447c728c94b7e42a4862d5fa74'
         '6c8ec4ca41ce75c9b1d4d48709097776'
         '6fdfda3db21b1bdf8cd3467a4523dab3'
         '05f4aa8db7c08b297cc6e1b8ffe4d054'
         'ec315f365e809755a59485e7513bf9a3'
         'a3403ecfb6b2dcdf0cadb9eda54656be'
         '1f789c3bf1f028bddbefc769e1e07ec0'
         '8d3ffca57a616e27873d01c7eb41f4b2'
         '3d12f7b0b3ba411e46b6db6352f3de19'
         'ac0607f1f0903d14c4b3d604a33d4ad1'
         '0bb9ff658692e8fff5b872cbf614048b'
         '2ec4698f797edd05c625b45bf312449c'
         '60d8f1449737c4599c15286a165f8b06'
         '8ddefe8e3de16e99422a92b1d17373fa'
         'f33867e4f4c01db1c344e5ecd87ce997'
         '3c6d0ae1e6b035d109c7155d52b30ab8'
         'dcc5888f5a0542fc5c5e8d22a55dff9f'
         'e989d26faf7b8ddfaa76925f00fb9f00'
         '514331c6c62f1ddfede70c93b7bd6e2c'
         'f1dfafa739da6351fed1260f464df8e2'
         'd504ed08ecd570066e2a6c879a235576'
         '46124f8a34b9787b4e1108016e2ba0b1'
         'b683af32f58de2ae1fd2109f031e31fd'
         'c130c8f1cfcfe2fb2e424403c882da54'
         '3e7d30d191cbe107a41483af70b26022')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
