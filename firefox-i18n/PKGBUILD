
pkgbase=firefox-i18n
pkgver=59.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('2745ce2f80a15d3391bcd22cdfa27901'
         '08b7a016a2e385db75e4b3bc16f7574a'
         '55a4c9781d55680822591480c701489f'
         'd3b81c35866d5054a905eb0dfa5dc328'
         '8b9ef5579b38a1b2ba13ec576d04e482'
         '88415393778f588c204efc4ac1a26756'
         '1a9ec5b8c91d254d20ef483c88b24108'
         '0f7a8105b8bf43349c08e8e08fa83929'
         '45ae251967388f345f2bf4109bce7ba1'
         '37d019b333cd270384d7d30479b49dc5'
         'c40c8d32030cc98182b61cbff1f119f7'
         'f6ce8f9b71786b58144851de3ba264e6'
         '95f22504bfd92c63c598171f8c9e092d'
         '9421607302f430a0388ea624f576b0df'
         '5a107a59f99e511341fc206e86800655'
         '1ebdfe3bf50ab1441a53c2a6b39c319e'
         '3d0404ff3b6efd96cbbbd7e4a5419edb'
         '9e508fbeeba55a43f1abb36c68f9f048'
         'a4f625074726bac8769bae6c99f0e84d'
         'e8f8c6473c54598054e459738fb4b183'
         '8c776850e192490c492a45f960dca065'
         'b1bcbabbadca87e2bdcbe5a917353dd9'
         'b3271ffa4d0dc5d2d48b3a74305a262d'
         '978694125f2362f839b5017969fe3772'
         'fdca584de589bd1ebe302145d4ce681d'
         'efa0c151f03cfd83311ee1f00fa31f50'
         'f8198b0a223bf46b77b0a70a80cd1f89'
         'fa7c6d066c2352a40171b2a7fd187e6c'
         '6fa5415d150ee2849b79ab7beb8dc5d8'
         '55c04dacd6dc6f077eca52b463819ac1'
         '63f96a7833b36f62e2233382c92727c6'
         'ad90943e1fe8441d1e24c0e455c67cfa'
         '4bea9c258d9481076933621e3843b262'
         '4dfacea2a423bbe495b6031040d4d121'
         '840b4490a7d24047e5c18df45f784545'
         'ba5d18075dd1dd7a559c29fdde822d5a'
         '58d354fbf4f7c3f7b6a07b3a5fa57347'
         '4a935075f48b66bf9bd800e2d2c5a2a5'
         'f4210b39f1791e7c13bc1769bb7786eb'
         'b7374a505198cb2f1f6d93f8a0a90daf'
         '9772b4687e37aae2827bd161ac364211'
         '8b18c567d8c08e9c68aa5a147930c9cc'
         'af07b2ff7935d46c153ca85b2fc0ca1f'
         '366be1bf79284a479e7446d895dd8149'
         'b0423f87663e686bc97a3628392c8bdd'
         '821410b127f3a56a83dd882e9c6a12c9'
         'f5281a656f3dff7822473ce414e57f8c'
         '32caa63d8fc2a1e8e649af25f1a87834'
         'd0c6d81f6bd5d77bf6e1b853076b9448'
         '7d84aeae71813acf55541a2c5148cee8'
         '09d6cc6ac183ce3692064d5f9b52583f'
         '29666143142af142f569cd3ab48c7232'
         'e7d8e92bd4e77720e42e4b52bebb02cd'
         'cc612e24edbb47dd61621e32e972b418'
         '2e656ac33ce444ea3814ff6c37923e37'
         '9adfc5f790613ba58bf95e0325210a64'
         '12718da4d29fb6f8e5758a45d47aec93'
         '5df07e2af8483015a8bafc5521dea854'
         'ff8f31cce2de14cbd34b4148f6ec249a'
         'd37893e98a2fe23f65330cb6b31febf0'
         '6c0da96105696ff8691f5bf0ce154fbb'
         'baa778cd191b67ec9878c9b7edfae093'
         '437331d9496721857159a870e03f6baa'
         'bc914e30b81b5d09d891a35e152215ef'
         '9280578f63b71d6cb3e55f3daa72353f'
         '8ed30e80011fb00cd7d5b634ac8463e2'
         'e7f6b4f26e4babcfeb619dfaa6ee0f63'
         'baf306093c40b0004ecd2eaf7aa9a682'
         '52d358d3a6d4164047aba041f0c411d4'
         '4ad5f006b1e9870e83b556a64782a802'
         'e1f685c2a8d302b2b8661ef80ac6ae3f'
         '3a3d3539cf219a7f79c4e1dd3a43e55d'
         'f0436f620562def3d1cd5583a74a2c4c'
         'cc7a2df50dd76c71e32e05627347cee8'
         '38aa3097ff04d3db11921fa745c048f3'
         'fd9c510690fd6bf6c8a9b3df332c6e8b'
         '2292e784906fc64bf706abc4d26034cb'
         'ad9544cfceb8f28b5e2bfe558a20e9b6'
         '41d9dbf83798a99b42165222ceb84332'
         '9da8e1f884e55f95ccbb01c0123bb9ae')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
