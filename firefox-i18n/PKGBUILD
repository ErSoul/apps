
pkgbase=firefox-i18n
pkgver=61.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('df1ab4ae550fb63ab3a708a63af9fcce'
         'f78c8405f5bf829c2646a7f9da247bde'
         '6ac731acc3919e315008797b83f9e9e6'
         '1354ac6885106ba01592a131b2e4a5fa'
         'd2cdd10af38235e8f6b7f01eb7947799'
         'd7e845fc5c0af264bfaf78ed3179ec90'
         '6851d4725b0033ee5af7c88d0d41dfc0'
         'ced1e67b41a3f0f04da7ed5f3e723338'
         '89caa98420a85d5e67e7c6c1eb2cb2ef'
         'c9ade30fe8399972064e63064947b7af'
         'a24f6a0a0c54ad09e1a78f7189bfb9eb'
         '76aac9e4ca089e3aa72108ffc895e153'
         'd5433aef381138db27d6003442a34fa0'
         '4b808d22898fac1aa5def57b1deb5008'
         '4ed0d54bc2592b06f4916b0ecd037ce7'
         '54404fe7efe82faa07496b137e67c8f8'
         '882266e02462eb0204ff0039029f4632'
         '448134c829a1e4c6d4eec023d690ab69'
         'faf816fe92ec0a538c85fe5dc9ff7c2b'
         'e5d91761b7fd3831dfba5cbfbb6f3a2d'
         'ab7167eb3b247a54000340e14965a615'
         '33e3ce90ee65ee4c98e422a1c11f2156'
         '256b2ac57096411144fffa4d51717598'
         'e968e46b97db2e0102ed305fb4201639'
         'ea206b635e924db3d5bfbd852d9d9104'
         '9e2f916a0ad00d8648b9379b27ecf771'
         '23ef8f5c311e6ffc0dc33509150c0b90'
         '55c4875e15444e93f017ecf668b750a0'
         '7490ac3b681c6897f62a177a7882d027'
         '7f61ad71e85bf777f604e9ebf6073c68'
         '401d2e87b44210ecfdecb7b2d5c90697'
         'db9e88c503a3a98486dc1018f5f56741'
         'c1dc45b323cb026e854a986d2e419ff9'
         '001b61dcaf1899748c1b55ef970f5f73'
         '949f551098539a90e09dc2e8ece16433'
         'e1c0e7e2ca20c269d00a3937d0b0fbcf'
         'd76121c11116f070185a12e0791d6b2c'
         '774d66600ef26c11c0be02662324660c'
         'c26019c799e8213f29e44459baf9ed01'
         '2b26399d23cc9cc567e0923ecd45a75c'
         '7bd6c52ed2f6dced65df350cb49d7a5f'
         'a0b9df0ff028a5043a16a80350c0e12f'
         '4179e1987c1dee26f011358c04d9bfff'
         '1eaf3e5b89c2f672ae784de1121595af'
         '50fe3c7a0076a463b56222452a0cf9b8'
         '6b5835418945de4b4a4c95780baf7e3f'
         '8e0f367d638e15ddbdb4f37de5d68ec0'
         '588ebfbfe45173f16a2aa229eb680f81'
         '11f70c4175635e519e899265b9c1e371'
         '74905ae31f8ffc8dd2d3754b58a2c782'
         '1483b3d21440b9701390c140985a8bec'
         '3d69971bda31c01301ac38d6c510586f'
         '0450d255560de5299e1c84e885a3f0d7'
         'ca4ecb4a844b7373e8381e7d9d9c290b'
         'c181d9fa7427d98f18cc0b149ec27c50'
         'de4aa7e0e253d73502581f94ba447e40'
         '1d893e0c6f1e4b8661f07ca9aa5de505'
         'fbff7f380fcd3ebca01faa7187c995e4'
         '68bd3c9579628ace9c514a89fe3605ae'
         '27efea1de6ee38b8a65d2c6e261c4142'
         '2f03a96c90a4adb03e326fb4b373b032'
         'cf7c0492d1b2a86a58ab74b30f989209'
         'f65660319bb11d542c6c0ccb95de5f91'
         'b1e0c2dfd9dcb5615b0e589616eb9e3b'
         '127e6c6b588bf7863e657d7e05cc8fde'
         '200dc51748e4503843ece2f1b95471c4'
         '03b394cd0530c0278216bd2cbdb447cf'
         '9c40eee9c2296d36576932bedc5c53c0'
         'b846c5db7dc77897a5f60067bdafcf6c'
         '9219e983f09720a10daa0fc95af03af4'
         '6b01611a5bca390a5a1b711bcc3b82c0'
         '42b0193620cc46fd1f6021b0dbf03fad'
         '7ecd6bc09263aafff29b3e64ebb96594'
         '593b6ad4af27a5db80087a9ca0a7639d'
         'c98355aa12f96272ef49fc1678e28da6'
         '3e08e35145cca8e40f5e1a0db6e2935b'
         'df37007ea769aaccebb43e506fa6ad96'
         'a7508481d84771543efd00740e5f69c6'
         '7342baf29f6e932ddc330d4932573934'
         'f165bb2490aac1bbeec6bf567f5dd496')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
