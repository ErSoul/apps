
pkgbase=firefox-i18n
pkgver=39.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('ed726fbbf9bc842d3d3e7a9b802aab7e'
         '4adeae784cc37a2995513ad68828c03a'
         '2814288b69ad6b801c9c8ec2d0f6c22b'
         '2ca00c8aa3ec72f2afd049d8797531ee'
         '05b80881b985a308979238e5eebcb039'
         '2615719dec0739c7f44dc1ec2d8db6c0'
         'ac5d5d9b20efa682f6c641b3b3c8b0cd'
         'e178801def2cf4618853fd12fa3a1a01'
         'e25afa0b5db46b68cb9300fc52cbd75f'
         '64339c0f5b61c18f116ce026b10f3ce3'
         '6033802da7ec7ab70d31cf056f2cca4b'
         '5523e896ea666708d871e26a08d71172'
         '65c243eca9d35c3517fa06f2da2be8aa'
         'd25e48ff8e2115f90e42a592450a1038'
         '2c90f58e873cca6757f0bd3372d742b0'
         '20e427c5fd1a0c669979757f4c04e352'
         '10cb3f37927fb6a53ffaf6e57ed30399'
         'd565ebd62804cd6e0b8998465fe40034'
         '74a6e8aace97e04aa01a529f8c3aeec9'
         '97b95ba5a9b6056eada3584a35bb4225'
         'f6efdd8e89d6580883a2e0049b1b4a11'
         '44cf3f115ae1cb70af0239dd8e67cc70'
         '36d5fed3a0e4f559d754c0238e99f24e'
         '3c9e8c769a3a1a7566407070e0355fa7'
         'efaa47e494f6db6878460a516d9c3ded'
         'e1cd5c0b091da6c8d4ab71b108e4b618'
         '7368fa1bead4089b1e6e20158b70934a'
         'd1b5c37dd8dbbaf1dbb72c12648d45b3'
         '5e8bfdd6ca729c095f2ec9a52c788ea5'
         'd906028ff6fcb217a76a07d0fdd98f5c'
         '43186743149712566206648a71723a28'
         '37e47ad1dc0aa0dd86cebe164b616915'
         '513ba618ae3ad2d98406ed3e25baa6bf'
         'fcc5cd3b2f4d6e6a35a3c80fe7ef772f'
         '37b48e3299255316bf9eaebe925c8401'
         '712f69814c915a40eb765b7a4679c8a5'
         '25f38736dcb8270471030d28bac62e3c'
         'de76700a9480512150cc8f99ffd59435'
         '43168bdef33b044e0452ffed6b45262f'
         '084e9519242cc51ebab326174c654b47'
         '5e542e3cfdb2338998c8d624dc390d0b'
         '5c361a9f2b24d8ea5855d8f83df58746'
         '1d4001c584bcbcfd0db4e19fd3a74ff3'
         '7572912fc3ae4f1f4f5b8c68b090b27e'
         '35efeba55614698cfa332b2964f44d70'
         'ef5df99daaecd93d2d31badbf232e8ec'
         '6272fdf98c6ce11b950de010e8554561'
         'dc6a56598e9af95b75f899afe8c7e302'
         '8a3f4328b01c583e1e83cb8b5eddea32'
         '5be9915b94d384edb77ba44de8ecf17b'
         '9aec21b7cf5429d9e2112812bc6320b4'
         '370f2ff97d3da3c00fff16380b319b8a'
         '9a6acb167ecdc95ef0559c7c8cc8c709'
         '799bc2b216de6998f27477103f08cb27'
         'b23d5548eea7f27b5564619961bc4e2d'
         'bba0a56d7bd39b7d524d9d6817ac9a51'
         '747952e455f5879af5ee903506362c9d'
         '4bcd42bf1256e4d308c63bef709f938c'
         '40ed6eef3bc444a1b8b86865a6055427'
         '0a2ae654350d66ced0f3ce84244c70b9'
         'a59c9749ebdb1dcdf84bb0f068fb95c0'
         'e0bfe2e7c164c3bee9c267bd355fd068'
         '2bf0eaa3de3e6c66cd13f687eda04023'
         '99a51a377bdd12741cbe36c9102dd66a'
         '6b12afcbe147ea3d8752ed474cc75c3a'
         'ccb5e195c70991a7de5d61b67d202fba'
         'a6a603fef698b9735eae59f06159edc7'
         'e779f39609842c1ceac9b505b2290562'
         'af6aeecc4ebbb5cabc8026729c49a5ec'
         'f9d6d6e8fdf6e9a858f48a7d07e09436'
         'a31cbda35bfb74a1eb7f32f8af4a51c7'
         '55720473283908b44e6afe71622dd3d4'
         '0b58d3f2c139e73eea314f78520b5461'
         'd654305251da50912af81d399300b4b4'
         '96b22eefefff77ccdc3b6ddf819e5eee'
         'd21638b39577679288e9d3407a3248f6'
         '560805d84bd8851e1677fc08884eb241'
         '3452f1df5fb0ad5d37223bfe452b537b'
         '4214a2961e2c77657beef398b98c627f'
         '489a721b3a04076c4cc51a00e5201a32'
         '3b4136de3ceff4f4472d3fdec32f3dd7'
         '02777462cb93cdf1d86eb0779d9be058')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
