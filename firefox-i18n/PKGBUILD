
pkgbase=firefox-i18n
pkgver=38.0.5
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('1047259f6064e18f5ec52487f5416aa0'
         '7a6194b07be30e95e84af70d21bc6607'
         '479c9a9c420deadf0e753cf20a5f116c'
         '2ad59634f993c95f9692aaca8ea56306'
         'fc4283b2954eea8462b76cc3a374ee20'
         '281d7fe8e77e7887ba870be5f7510bb2'
         'df38739f58ab1fcbe4503884d58673a3'
         'da00467bb335596114e3c47d449b9752'
         '3a392ff28ad2c486a2782f1d0070c4c7'
         '4997f09a49d8bcf9ce49cf0b48c036ab'
         '2de6253d66ab5af04ea56342a55459e1'
         '46c4cc7694931ebdcfd611bc485a9aa4'
         'ec6fba1ef5fc13c6cea0800a2f55f307'
         '3fbca43d35b6b3af69ac0c5b669d05e7'
         '626f306ce7c5bf3f854e5bdee8df327d'
         'c4cfe648071e5d275b63bb1c8e8166da'
         '49e64a73f94a9f9f8ee20d3d3667ee7b'
         '2b2c4e73f405a2c27520dfb809a85d24'
         '07bfccb9303b7ca5a015696c9e86b67b'
         'a5ae579d1534617f62c3f05e5eb54f3a'
         '37197f3ad2ed9d418266a6f449b74513'
         'b95fcf226624129d14e9f5b392627952'
         '30761e3d5ade1a972d5421bbe5dda8f2'
         'ce5cc4f77cbdcc5cda5754d63ab29788'
         '392341ba67f4dd01aa0ea97557b06ff5'
         'd89ef059e6130fa826e48631c920b2ba'
         '5de2748707c10ca43f286ff0b0ffb2b0'
         '68f913bf46fbd9b30bcecf1dcb379e3f'
         '37bd86210e0d613e640e5960c84d3a11'
         '00158317122b42b24523693567f888df'
         '58dd1cd21ef9807b11cb28cf789e67ad'
         '2ec62ea563d0e227c4052a6a444b07be'
         'ef86e91cc1b16b956504bed62611275d'
         'c06e1ba96c749da865af00dea8a90f55'
         '96dd02c726132d41265972eec6957f29'
         '46ed68955567d8265b6d026f7c193e8b'
         '2a0b26a9d95233cf42268ccf6ed9d526'
         '11e9114b424cb889b7e40089d529cd51'
         '64f4b9fd6dbf6d0bc84206eaccc01f92'
         'b5eb71b0e0058ab40a99faf8b583730e'
         '8f25c6b30505a230b4e31d7f3be55448'
         'a4690b1a0e279361e187e1080c8184cd'
         '6316e6ba1ef755165f7a635317cdbf43'
         '17ff705fc4a6f6260845671ab5afa84f'
         '66ef759c5430f897588d26473e9d5a35'
         '627947bbdfa06b19cead9bd0ff306aa9'
         '0b4190fe0aef88495fddd023b877b1ae'
         'd0f99c0cf4582a08c2ed5a123e128a54'
         '3e5f36ea4ad2ab00af36a03d06906b14'
         'b290aa1c04a6f139088a0896e4072439'
         'db29f876de56f454474c1dd07c762a1c'
         'fb2c3919f7c17f9c9b4baa8c60501ea3'
         '1dde35b98be6a51d2ef1695cfe878a46'
         '75d4c01b09709a4b1be674678e4878bf'
         'ba65f665bd3ae19a66d077e1db8b3b44'
         'f74205995b43d76192f5bd02f355cbe8'
         '4e05cd9ba41a652be852b72bb4e913ed'
         '93eacb8b51148a71584b7a440300ba43'
         'f57eb4ecfc514d3e5da792ae461b6b48'
         '23e69b4d252834ab8e04a3a05befdd19'
         'dbad57641b71a84bd6231c070bdacb84'
         '437b0b0655004c7b648d6caea5d80b76'
         '5bae66303d0f53634d151ac6845e1c75'
         '216a0e2e98bcdd94b6957a9957bac827'
         '787ae7b21dee4d95d75ac2f1ba622dd5'
         '37e78878eff985c485f09fba4945421d'
         '8375cd6adcb91ce91f7015e51fe91330'
         'f91f6548f079969d680cbd457172fbca'
         '5f1c47c8e293436baac8f28c3c72352d'
         '94038fcc02312ff6556b2a015cc7baca'
         'b29105cf666b3350807e21dfa65d33b5'
         'd20d63138f5e6536f187214a3515f64b'
         '17555d2e37716ab8e26a91d04dec1daa'
         'a3929261d67f20cf9314086c028c9c7a'
         'ebcd16b2527b2905243385cb58331e1f'
         '0bac9279c7e9e734a6af6d6623bb7d11'
         'f4489055696e9b79bcde2c5e4dd2b92e'
         '394c7ef9d7edef4af8c3cfabb1135d35'
         '142d0a94314daf0fdc46ce6f3fe56121'
         '137afaa85a772ee82da35463218a8ece'
         '1a82a97b2f4ed16ef3754c9c9df5bb05'
         '19a938ceb79c8d467cdc0444d3f04be7')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
