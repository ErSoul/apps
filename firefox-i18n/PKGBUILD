
pkgbase=firefox-i18n
pkgver=68.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('f74eaa84fb6ea37427c15a377fc74f34'
         'c67c780cb03175a551924642d2dfb8cc'
         '49bd7579cac0bd8952c71b9050462d99'
         'feceb8b636afd8071dc3103dcdd8cc24'
         'fbc99e4656febfeb201ba693dfcf5c7c'
         '3f23c5b5e1723b3f67465bde537abd39'
         'd8a234d64577b0848a6baef42bb27607'
         '5c2acceb4438b26534b6c4a59d32d7c8'
         'c26a13d39b8635d4b593985b3e6c1563'
         '676c02c94fb695d2b5f1febd033ca450'
         '13fa929796838d46b0e0a53731d13a96'
         '0233b92656c20d7bdd009a95e3608f19'
         '9b2a6624ec2182ad0f24369376952777'
         '377c51e923aa9790d2cf525798ab3d0f'
         '7b901e5290e2546c598507258a4af9d0'
         'f5d157fd5118f984f2f10eb1b358b2a4'
         '60b54b81a7ca2df318dd839aa758d333'
         '47e0db631a1044964d75147b13b873cb'
         '6e120372efb7eb508390353325f78653'
         '05e47570a932bfe1b06dff47037b8974'
         '9fcbb9064537005a5edfd1fee017e35d'
         'e4cfcb4b9ec06f1fb92c24def15121c5'
         'b3443912b8105a1582292faf8ed3344b'
         '3fa4bd248852e0c8cc5aceda4f5043f8'
         '87a241601bb9a090f2beac78666e7cb5'
         '6269d8616063eb3694864bc16e497933'
         'a3bed401dbeb2235b8d3cf6676636987'
         '04f1a202c543fc1c94ed2fe9e768e402'
         '8c07b86583e1294ae03c2ea50fa624ee'
         '58292df9127b1fa892f822178dde12eb'
         '2acda7228f23ee52c44473a0a65792e1'
         '53ab5561993d7d43c6c37eb13916d3a3'
         'b2131f2329df061e60afc8bc8c7d69a4'
         '50479fa66a59483c93a85d300a15efb3'
         'e21a3b793cf3b4194bcf825beba8a929'
         'bf20c574e62f1811be1f488cc18b89c7'
         '0b20e5ff58eb00fcbd0cc841ddf685d0'
         '786f551850ef4afb75e73da3fbacaee9'
         '791d235c70e13b70b753b673ba8bcda0'
         '49421e0b1abeef4f1d9cfe1a39d1cc33'
         '3a099ec860cc9dc96af596b550bec6aa'
         'dc8e70039bfa7fa24b1de151c8fee820'
         '81eefab0c8189b9dc0c95ba75d7f5fba'
         'd03dff3caa78b6f76c107b7affefa851'
         '0d3e541e56aa3326d73f8396963c6817'
         '673fe75ef5f439204e1c64dc4dd1cbef'
         '04390081eb941ad718365e004b085cf6'
         'bd9b5e69d791138e736f66cc49b04327'
         '91e7ff986a8014bb30cdc252b2248acd'
         'a3821891c5073a8e7dc269551810cf79'
         '7c6615c2647312b1a692669a5827a47c'
         '25b2130f97883728c9c27d35fe0ffa22'
         'fd35613c117a9d519b3db2aa27c15d30'
         '0bbfc43ad52495f510a2ef3b591f9870'
         '30c2153edeac7b64805c065b7baf7724'
         '9b1ef7b29d55373545378eaf55a0d5ed'
         'b5d42f5d76f2209ed4e244cd020ffef5'
         '04f336dd5750da51e426ee2635369620'
         '14aaa4b381f7f730f7c2ad444583a7db'
         '3fb06c03459e9823d6f5583467845978'
         'fc179e99b817e854bc7b45f5a8d65c18'
         '9d8592959568fce531acee8eb2f351a1'
         'ad6ac18a3e1d7e8ae2b3cb0ed3bded3b'
         '1d8e248ba6a7b11b27bab423a70f5de9'
         'f5a165f40ed29366aac470213f0d33c0'
         '3d4c2d459028cb7ac7c33e3c3106285b'
         '4082d3b684dcd9705846a1d6a1229200'
         '23c317ee681eea15feca03698d2ceb6d'
         '43dfeb1fe175f448477963c7b004468e'
         'f6287377b4d545db0c171ae95972a09f'
         'a34dac87d148929838c4aa586d71d718'
         '8dc18404361e0449ed58eb49f408748c'
         '186ee812f5c0479087e94d0fdd0a39b6'
         '63419f0429cfe581c6775b22ceba7904'
         'caae8224b0ba449c44c1f029905cec17'
         'a5665ee5822f77a17d7357a8ae38d217')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
