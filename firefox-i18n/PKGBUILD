
pkgbase=firefox-i18n
pkgver=38.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('2e91ff653955167e31c4a89864aa8b83'
         'b591e24adc04b5c55c2886698ce9803e'
         'bf42ad35c43e0214bd9c2d257a53209f'
         '8f53f982eeda782bae6d80e79af5da93'
         '19b31f35c2d3c99d97d1e04bf4f19dd4'
         'c113e79c87dd952f6300a961bfd8dc43'
         'ed62d16d0bae2c2b718605d373dd245f'
         '4bdf55c93dc8d197711bdc8c6809c0e5'
         '45b269b9ca8bf012b1a93688b7737c25'
         '699a899f94897c0a635a01737dfcbc7c'
         '335b538f5d57b85a0361630fd67e5bfd'
         '3b45084bf07026cf7a612578d807d38b'
         '79c3e8af59b46bff08e7fb55734e517b'
         'cd6184f3a3716755a9c5a906ad3c697e'
         'e3f82b28548b03f94c090ea9d489c637'
         '11327bfc1f89de1eab2e4593ba00ce24'
         '11d87ff45104bdc8998676d7ce35b42b'
         '158a263e58dbc550e7475c50f0a43c99'
         '6347f464b8b7b89f24fcfaaeb112a342'
         'ef08fcbb85e74718cc83a17e14e0c31e'
         'fffa0ca9fa55d3331d2c26bddec7478b'
         'fb924bdb81c541a4fcc25a7075274bb3'
         '24f6f8650168e4ad644442b39012c558'
         'dbade3e7fe6c065f9a9e46e47681f514'
         'db08c8c3b67483f086746bf2485df4a3'
         '36c474843476355c29044b5a788ba2b8'
         '6b9ee9cdd9e2c12deb572b8a9f097ffd'
         '4e647844c5800ccf6947092b6c7545d3'
         '40491e7f021e4ecc55387dd65f991dc5'
         '24a0d11390a6b3f9658d1cfa0dd7f1d3'
         '8a5fa82fe2d63915df21131929fa1d31'
         'a03db3e1a454397daf6a5a844f1c98e4'
         '99e77ef1e7eac4a937f9e7ea17a02e1f'
         '4e81ef627cca22e4df8aa351c73abba5'
         'b06a1205639905ed4ed98bbb39d3d382'
         '73938d802921e610d51655b4bda8ff88'
         'a01ac944fde522f8bd3e2abd346dfd16'
         '0bdf48824a2dbc527c098605bc9e37ab'
         '385b7db52793c8045a5cb564e9113d34'
         '9ae6581bbd6b014bae8e32cb7e50b951'
         'e14f2964103c68a725a2cc51507c2f60'
         'cca02a3976fbd288caaa1d583a74e42b'
         '4cb26cc255a7beb1f27700b4207f63e3'
         'a12df7b54fed7f241866759a31ab08d5'
         '4825b65485ec23a9155ab998907de8fd'
         'e88144b62b65036d992c9fbb84b8b99f'
         '8416e40ac0ca9794bed5e80fac92238f'
         'a5130445c5b7624e7ff979b786947bc0'
         'd540766cd48a1219764557b75ff033a9'
         '7b84a12f9b672704d4a6ee1ddc237793'
         'ccd75f2ea4633a67897f36628f755639'
         'e1f84a06c7d52908feb60b8f679fbed6'
         '79cf161acc3c1e410cdeee4b336c4fc5'
         '8368f956382dfeaba029fbb6c37a76d3'
         '90830aded00d93aca4b23d45f185d95a'
         '5faf4990ef1a18f7cd59b32b7014314a'
         '7d13b939fedca3d231f0da47f755c963'
         'ee83e95beb7a3dedbd4822b887e6c3e9'
         'ac7a3d7c56a9052815a251a14a178d4b'
         'ea116dc72b4fe2518921e998086adeb9'
         '25dd63266f76b6be483813b628e69bb8'
         '9a6ea704a698482c4630c03c6f974f2f'
         'acec1071dfd8a5e5f2fc97d37cf322cc'
         '1b6e8b5ad9100a484a34fc208e97ffac'
         '2e3868214364fc47571c67d9c3527efe'
         '05b5ebec5d9cb30a96edf5f40da642d2'
         '43f781ae457e8ee25bdf9973b12fa445'
         '39f57cf42af28cd1f5b6b213fbf0fb24'
         '587bd851835a63663a6a690cb0b41a80'
         '8b97547b9c3b2dff527fdaf79cbca977'
         '96347963267cc26e64c5dc147e7ca4d6'
         'd0f6015280574727e53cd85e7b40ec50'
         '37649e719235843a6b3a42c0b9a956bf'
         '581bab6ce8872cf4816e069c792610d3'
         '8f6fc4188630a336f68af94a2b6676a6'
         '60ee7f37f29b2bbb4be446fe5b50bf9e'
         'ed648e799f50292e1d3df551ab107187'
         'd83f9f55c3f958e53847d1f947680ced'
         '38fe328c17e10b93169378d39a0d8cd5'
         '04bfe417dd9cd1224142649d8e7ecf95'
         '219cd582e572ccbad5da039716cd9828'
         '80cb06db9503bfbe3dcd6fcf69f857c7')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
