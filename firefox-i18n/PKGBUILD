
pkgbase=firefox-i18n
pkgver=50.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('919c900986fa90d50606309eae6eaacc'
         'd1691dda09a69b847a235c7b02a889fc'
         'cc0aff9b256256a840a7747b6452c1cb'
         '4e1826097d0f3f5c42a2212e36721f47'
         '4800dbd87cad8d92bd1f71bab9455704'
         '925efa3f8b15be110a9a3d8b66068d50'
         '56b23fd8cb2dac816f697ab34eebeed1'
         'd0be2d0ad0598f1c5c927f5eed7871ad'
         '499e91c407e51cbe10238d5ef1e6aba1'
         '21a5b0e599508a5af0ee1535af451ca5'
         '9102e7ca36aa5d0f3fa35831d649ffba'
         '2a39bbb518b79cbc322a7a331df24ff7'
         '8b7c555bf3fef6718e77230aa8ad3939'
         '5c81a86e79439d83c6fed1d5db076269'
         '5ff225cd1f3b5ab07d634a63474943fe'
         '38a9aa827661c72d093c2039ce42612f'
         'a0c91a0fa5f5b063e5269a1599907703'
         '547e77c59cf42849a28465dc84209a4f'
         'b8d51810e588b2cd05aab2979a39aa19'
         'bd9b8b61a21ecdc3fa03c9df71e5db73'
         '26b6910bce1fe07e56b66aa961a696ca'
         '157cd2826adac698c96969da2ef8d2d2'
         '5f1b24371467fa6b994a928dc61e5cdf'
         '5ca18df216b745cda902676de92a3064'
         '25f34d268e67625845f55ad4062eefc3'
         '0734c9ad9631bd860455fb206c319445'
         'b173a4855b35a1e9545c207d80d5f08b'
         '925ba04890d00a5e598ac078b197afe7'
         'e56d85e90bcafdf36d1154410c14c29c'
         'f23ba948ba755979465eaee856e61635'
         '043a7eefe466dc3c77ff4a18d0f4511b'
         '4043e348f4ba021aa60ed855d484d114'
         '81cd436df6f06e2ebece0f0747a5a30b'
         'd94648edeeda8658a07725e81d6623ca'
         '19e0840a5f9945357914e234083eed66'
         '2bdb12302082eaace319e323a189995d'
         '019b0a9153662e6a6dff605bb36ab425'
         '73dd78b27b91d82a15b61e9bdfb1882b'
         '9281501910ed8cd0d509ccaddd613562'
         'e6ae16472816fa1d20747ba9834aa237'
         '2ffcc58b8a665653cd9a5bf9f5f83253'
         '35be4ddc6d4db805de70125aa21c60f5'
         '4c2e95cd3f6ae8cbb408754cb844d946'
         '5715b4574689485277422e8c843f4879'
         'dbcc0b1de0440c28392358f50ea8418d'
         'f5df9868887b215df05de8c3fe0e7ba0'
         '0daac3eb9b4056ea53651448be1cb1c9'
         '6de2d23899c1f0924c546d52da7acc26'
         'c8d26d2011d0998e38f901e3d26cebb0'
         '533c2448a147e9eda295c6aa3ac040d2'
         '1f315c50ef5669f735337cddc63f1b73'
         'b0a04687439ebe00f0dee2b3ab305d6c'
         '4d0f20b23640612da7cd34e110932e65'
         'a64358d08dfa7c6d58749e64b5b56cc8'
         '13731477db18d8af955e70045b446125'
         'e5f83eeba59e205d0c85bb9a6ae9d942'
         '28a4e5419fc7e0befd7dd82fbfae17a8'
         '4825e032ff0da192f4aa45bb5ef6e69d'
         'f562dba6522fba07c900ed3b30550940'
         '70411f7fc1ee0e3b2dfedd974f6d04f8'
         '57adf0082c43c0a15b8a4a8394aad5a2'
         '70eebd68030c140193ff14a442a6bf68'
         'b634db196ba3bf932ba9d5c2767ea4a2'
         '5f89024adbd9885d4e12417c8161212e'
         '5374cab68c7a1b3dde36909f7bc25096'
         'fe6e3c35508ee41308ab872b03e9b544'
         '8380d91ff18309d8d77af2136a333805'
         'dad63bffca6af70d605cb17e66388176'
         'ce9749b962098e610a661f5077033cf9'
         'd2b52cba42b64b99e61099e84a89fad5'
         'fc6b59be0940ce5baa4baf47af7a01ee'
         'd253a9ff4b9ff0a7b943b2c570e70d2d'
         '782e2d346f098a86552b840baddb3c42'
         '756af6f68701e87c8302a72cef6f95a9'
         '3df0bbc9a2af6f7394974535475bcf5d'
         '05e9c37f28fadf61926edc17c8eba4e1'
         '7facc6d94d872477fe664c66cc10578d'
         '0522cde50b70633479c78126a9c03874'
         'e25c96e134116d79c28baecff042346c'
         '762a4a8f01beb5a6b4cd150498736436'
         '9fd190aa0a59edc21576ed109953438b')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
