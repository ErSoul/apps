
pkgbase=firefox-i18n
pkgver=62.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('3c156a27895e543224fc65f4e2d5578e'
         'c6573026f3fe1ccf5d36d2c079ed9e38'
         '7e3dbf092b85fbb7b0c99e0851c34034'
         'cea3f3e34a4868fe8283d9dd511560a7'
         '1d39ea7e6ea0599005675d80cf10c12f'
         'a60a36786c769fac5698bd5022addca9'
         '86ac9ef9525cc4e4d658c29f0ad0992a'
         '74018c0d5f7fea20229d506e640ded5d'
         'c4b4832d24130b6493371b596c491def'
         '7d04e1c83eccb23f3aea6e16f2a457f7'
         '600da943a41873f1a6726f889a17442b'
         'f025b436c6de1664103e5b50e48ecde0'
         '3ceb01576ef9fbfadbba52edb4aa09e7'
         '295d64bdae4d34307701b19370e9117d'
         '3d6d7f15f722ac728bfa2472937de753'
         '9cabddab6974a9cc0a1de730f1558b80'
         '903c83f4083d8d06caa9d0b0b5d44ebb'
         '4360dea6d002d6e1860d05db612b4c10'
         '1003957cb524457870fc6e2de552446b'
         'a095cca933ce70f0e1a323f06eaffccf'
         '002a55a334171e0bcbc17b26635f298f'
         '830a11e625bc282aae60ee8220a338c6'
         'cf2e28c7855f7720472b64b554010be8'
         'd2918dd4d86916cea5c079d262e3ed64'
         '6f47f14e6033c79e396a9c3059ea0af3'
         '788d5db448ed6a4d7750ca3b0d9df82b'
         '2eec62d3c27f9584050494e54dceff4e'
         'cbc12105f726ad38af638597fdef589f'
         'b1faf249149826bab4d7b9ac530f7783'
         '64aaadf42a51037c4d484d58141f64c8'
         'f5e37d790aa70aefe7ee0983c4dc801a'
         'a5043e71ce3aee48a2f0b318ae90d139'
         'e6ad22cd1bbcb5b5e5890acb51362bd6'
         '0553d9ca93195f22a4333a347e3c52ae'
         '3df94631008011d4e42dd65aafcc5dbc'
         'e90b416145f2d1eca2fff7770e84e8ba'
         'c94a4afe74730a0062fc9f81aeae0b2e'
         'd4bde844f7f8987f6a7aa479e09156d3'
         '21ef7a65e01d999e979aa7cfd2876b02'
         '3a05ef1809daa83b4f4487350e0bfdbd'
         '41535d1fad3d2be7c060a7aba09ccdd7'
         'e2a9f1e705aeed5ffbbe89ff30348483'
         '9b349952cb110b0b37aad67376ddfc11'
         'ef2ace3607efa218894f5188c3792d4f'
         'e84e00a5fda901e283c72876177b6af0'
         '77a24c6c9eca672f7d271191e98580c0'
         'b839d588f4cdc56334cb64d52974c5d4'
         'a06679503c5705f1c432023e08c8c798'
         '42d237c2e1e42533988687106eb54e74'
         '4b48b4609359739896a3fc870a69ba7d'
         '660be5dcc9408029e813901b246f5447'
         'b51c40777d5b18a9522123f59adf8cb0'
         'b2556a0ea3b71ac61c1be5d18e7b948b'
         'd0552c03c65786a729e4b2ef6c46af26'
         '9ee09875ffa606ca52f6c00d54be991d'
         '696b1dc18ace386c6f7e08db54c7fca3'
         '512cdbda821bab1106e06886f272c52a'
         'a9dfee0af5b979c413f4d8025ff4d1a0'
         '6d9c04d409fc5e10b3277fc1fdf74ef1'
         '881ff35bf713d4ca741fb897fc7250fd'
         'a14386b1af91840e02e23c3ab04ad7ab'
         'e03b8902761c68bde2da9dccbff645b2'
         '7f1aed91bf35cc4c7ceca07d6c875ac0'
         '18d8543ec08b514df975336fecd5df6f'
         '4abcf6532860abd67f378b5816d5f344'
         '88fd66611046c7f7c53ae47aa2104d49'
         'b9683f727412d58d79d0fa1e9434f316'
         '6015c5503a07e6c7ce96ab96eca56449'
         '08b2e53a95f2eefcf6a38bd4af76d0bd'
         'f0b327e76dd42a5c66989e0eb972bda5'
         'e7b78b9a6c8ed34df229e1ee4e70ef7a'
         'c7143147846f2298aabdcee2048bf16b'
         '1b228a95b12df6c4e9a56b744fbb0fa6'
         '2f9bd3dddc1335627a7635f9510e8a8a'
         'c05c8d4236ea9fad30279a0c01d389e5'
         'e05baac5ba7c1491a95bc3ccceaba913'
         '61c459fe79943ecbb34c2198480e2390'
         'cde450ac3f4497a0723baa2d3c7c04aa'
         'c9c073fcba934b6a8c8a6c6f828ccab7'
         '597020ea4e73db2b6526e74e57ac201f')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
