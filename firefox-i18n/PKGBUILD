
pkgbase=firefox-i18n
pkgver=60.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('26ec6000dc38d48e8d22e2d10055de8e'
         'b9f97a4c582ada19ad7c4aea54d4b211'
         'cce86a7516540b3a420f8049e8b200f7'
         'ea19e244fa6e1d88586aa04e94e34ac6'
         'f46ba69d8da0d8e5117020a8eca8c839'
         '4cdcfb81236506a2a8197750a036ff99'
         'cb3c2c0d3810947faf019cdeef6abf7d'
         'fa771feab57e3ff6fa787ed583f8e004'
         '227d7c8df9ad9e7f82eb4ef14b4ee8d5'
         '04246fa8ecb059565a5731eb009b3776'
         'd3c0e3dab05c796b46c9927655198f6e'
         'c41c8cf45b868ead3364d2258d3ad86d'
         '5b51041bd31d25e97d3eb9471974c3cf'
         '8f914ba02d1043b4173ec7f1c43cb918'
         'e14e6282d7cb772f9db969e37c12296d'
         '1db05397ec1a1c8dca77347e8f81affd'
         '0d4e26062a7e96350a71ee09af0a3711'
         'a62132e85876b1028890553e4f88e818'
         '42b0c14df44a00e808f60a103e8571e0'
         '92d80da0789467448b7806a64281f3b0'
         'fb5fa5c5095f9253215328a7690d3b1b'
         '1e76812ad44a4b88c933cb4ca608f039'
         'ed9db361b24e0b1d2909127b7766bf81'
         'dd56a188b932a00664c714af1c0e82a0'
         'c98fc766b7d0e712759153b3c0ba3270'
         '82175be2b1fd316ebb0039caaf87dffe'
         'dde3327ee35a8999e7f4588cc60b3acc'
         '3118fdac089c7065587d62a82318273f'
         '89cd3b4eff25e7617b3a8238bf4578a5'
         '6d76e1cc583f379d069cfb43cbd859a6'
         '9be7b6418fed88b2cccdaedbe9ebfcd5'
         '434901a1ffc22a54a24e2fdd8ceed060'
         '6a1764581ccc61bd5b8a2514347fb722'
         'f46de919770cdcb07e7ed072b0d092dd'
         '231f7583b5ed1df0566311d7bc07b194'
         '7efe7c2a4ed1214333de28a11108d0a5'
         'ac8b5ffc7e30a52d12963067d58ee919'
         '1b12c2c5e20c53f2a506854511dba918'
         '8f082cf7eeefd3a209d585369d5b1a22'
         '7ed41f58694e45440812a024858995ce'
         'd870d5d8e121ee7fb8470e74a1711baf'
         '0e361501d29e91623b30d21d6109e84e'
         'c8be69fcfe022f55960d700dbb0efcd9'
         '1caec549f5f01023d92ff7391492a355'
         '490f353d4641d2cceb8c63f9411f6043'
         '523d97d0131722cdd1df09f094a1efff'
         'bad2ab7ad3eea1c916eea990c6935ebf'
         '7df5635a6530b8224a47719d5ffaf5a9'
         '56d786903d630a3c5407574a32a2f40d'
         'f40adcafa719e9ba299fa3bef8aa60b3'
         '1107a07113bb4e3ab36a1c0fd66932cb'
         '5a5c3acb14d4d716d0faab60512a9033'
         '796883f35e763046a7e42b7da971d33c'
         '7e7700a772c563bab0714cd0ec830433'
         '7a028cd2a52f49637420e0b6e3f46e5f'
         'edebb72071778ba57033b71a07d679a9'
         '57546156688885ebf2d68e2dfd27d8fa'
         '4977d521cf1eda9c288e13b35fba76d7'
         'c2738cd629b00f2f57524c78d92fa62e'
         '9f07992ff1ecb221bd8493b9a0915d0c'
         '78312b9be7d566130c602572a4126115'
         '3e69cf94586c99e6189c1ecfdfdad253'
         '11fa5783eac10701a0141c25bc8563ba'
         '0f9d71c405e0a6b83df25b3f7df6d0f5'
         '3f6701b199c6675fff20c81eefb972bb'
         'e014aaa11ed3d0bfd69849f666bd0fb3'
         '15782a0ec7175015c802df30618ccdb7'
         '5937c932766857d9b18e6d90508a6f37'
         'fce0a1815a45bfbbbea0fc90a30cffbb'
         '1eb20901ee1a03a6abde23402894231d'
         '76217233f70a7711ce2c3b43fe7d626d'
         'e81ecfb7b8a500658be84789fdee439e'
         '9a6561359c1a4f3e45ab589b092da91a'
         'c2ad6747236b0acfd81db87acf716f80'
         'aeb387887d793664c80e3e3fd317935c'
         '1c60b4d0dad024e86a38ddc79618f263'
         '04cb11e7c1a601ba89ecade63039e1d6'
         'fe1327e9dcf52fd540b0dc6902fe466c'
         'b4124551a685c5098e53f74dd6d86dc6'
         '1823cd4c6c422b802af7bd573f493145')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
