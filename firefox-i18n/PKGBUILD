
pkgbase=firefox-i18n
pkgver=58.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('be60d26b1af0066461b8dc4aa18c560f'
         '26c45c3b4931ef3a6cb17bda6234f1c9'
         'c4fb68eedde02bbf70b176fe6caa0795'
         'ed4ce18932fcefe1cfe7006d02e1a71f'
         '6f501f820c0e0385229150843b1968ab'
         '6faf1a02f0b1870c71ada748d1cbc530'
         '61d4b85ae8bd77068d484ce06a929058'
         'f96cc6454f646a9f46b7e15345b2f8b2'
         '0ac9f404f0205e4b5a0b7a47dc9d1326'
         '91b7c432559c21d2db3179d38c668088'
         '24c043c52a37e881b8c74846a7c36c84'
         'd024c883d4be57b9acf0d104342ebdd4'
         '2c5b3db3bb0928740714757d119ebaeb'
         '334825481d9d5f7efab149e3f7837bd4'
         '99fd406b784c8ddff8503d13fb97d3df'
         'f4bc667ae2568437f88824b31ba4650e'
         '6c94eca43d6a97ee84586db3d759baca'
         '2b064f28538d090e4ee2177539804def'
         '846d952f1e6edf4258430697da553cce'
         'a9bd88c633c09f7bdf05e0bb9dd24a9c'
         '2ff1e27c8ca9e0f7c142b3c0628d1ebf'
         '4ed65e154e7808d796afef56669ebb57'
         'c2e33220d648f494f9ebeba59b8c8939'
         'd3aa39f71a6b26facb6427bb7d88ab7a'
         'ca7f9ee6c382625f2c7247bc9ff8c550'
         'b2b6ef175022f5c98f208fef113bb869'
         '480acf8957752da276ef0b4f143fa25e'
         '19671d452cc5413e40f64e52a325ca5a'
         '2758b9a2ed4af8dd78789a0aa14a2878'
         '9066ec25fbdbc39112cc8b86636b097c'
         'da1d6ef3d1ac3bf8afc887c2aafc5c9c'
         '91f0caa2af6fa1eb67ef83d63e0776c1'
         '6f8d6bfd380c23c698c2e0566a891832'
         '6dfc5baf6f06ac279ca5bede285c088a'
         '8d6823325baaf3beea01c530f5e41f5d'
         '068f6ef5dfee755e2555aade62ee473b'
         'af10589c907abe8115067fc825dad060'
         '4432c805b280f3cd3c521a1da962e77e'
         'a318447ed9055f72e71ac98d4f06d64c'
         'b6d970233ccad563bb2742315fdfcd13'
         '3b0f054a87fd48ba69de08b58c21cf4e'
         '70faf7cee7d19c1852d91622c8476a7c'
         'c0c993e4dc78e3684beb8a5f05981ddb'
         '14255df3ebb38c3f4ced50e3dde74820'
         '322217905178dd0fb2179a838abba219'
         'e3b38a2f2e61939cd0780e9232ab94bb'
         'ee40cc0033abd47b75906a67216998ee'
         'a3507b94caffeadb7d6cdd6e6e6896ec'
         '240398b68d0e72d1619e4636f9019bf0'
         '964e6b4d5a557ba5b6daaef6efcafc21'
         'e4c877302790e4c06928a073e4869ddd'
         '4f8ff56663af9fb42bdc2bd3b16644ed'
         '632bd675cdcb0ece5f3fbcd0f073e49d'
         '1c21ff193894bd366c7533b800e69961'
         'd347f5866c75490aedc58b3e144e485d'
         '53e0008e9a9f2c93646ca8f94010341f'
         'f6bcab4624df3497f65c2f8688a8942a'
         'd0e997f7d7e410f001d323f630d23cf8'
         '558bf30b97a674bf0b352ebb129af137'
         '6a1789f84b8f026346b046339608cf29'
         'de1cb851f668eadbcfce108ff690df03'
         '73826accd81628ca2c3a40f54a910612'
         'ce0b5c481fcdf5e03155ef3817f4a28b'
         'e8ea18a0a516aad6b88bd76dc322677e'
         'e7a64a8b61dd8417a104d655593843dd'
         '835372d4833a79673da85661002dcd13'
         'be8efd4665476676602d0189a5ad78f8'
         'e8a2c28cff6769ff5ea04550ad49049f'
         '17032e8b2352e7d173d289a6621ee8fb'
         '4227a06d141fea2f6323ce34da002a08'
         '7139c961eca3299eb4eefc94bff57a21'
         'aafd825695ce3b34a14a068f06d3932e'
         '0944e91440152e49319e1a944d31f195'
         '7cec3beb99da1f96251ea6fa35adac9e'
         'f65d976f315315962eb81286da918b0e'
         'fc0c1e8fca0b75c98c2e5b04365e54ae'
         '0b1af6f6100f16e3da3a3fd981cb24c3'
         '01c3e46c27829e8458583d46c9146e12'
         '63a2bf981381824c8061bef270e1504e'
         'cea71455bd8b62bbf18b7d631388da97')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
