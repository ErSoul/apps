
pkgbase=firefox-i18n
pkgver=55.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('cd3fac94bf9d1091285bc1fdb88f1e2e'
         '0469b2e234a3e7b52ae6418a161e3b81'
         '715805ec4be9952e2d5a6c776bd67c3f'
         '9a0b8742df0aef1d1af7dedbc7dbc65b'
         '66d8a92a31fa7fca1980440e16049b7b'
         '614dfec82418b2356e6cac9cc01e110b'
         '19ed38c23323afd6791b18fe9401ba0e'
         '7662c1c240fe122cf873b54e8179915f'
         'f0d0b248891743933377ffeed567ffc3'
         'ae0bb61927a43950f95aea99f5a2c345'
         '1c51aaab0f48dab964e8ba66a26c70b6'
         'bf6d58d840b20805a5c284bd83684909'
         'c55d898a76419fa5e915f9a6cfc1e1ff'
         'b95b2477bfe627bd266fe63de900c5a0'
         '4f1926c2f7bb15df2db64c8a9580babc'
         'd05b089e89469dfde2acf49a68c881a1'
         '4723e16004b881bf6f65afe39ccb4975'
         '866e4503503b41651534ccf7e94db23b'
         '065f92caac59c19363a8db84852c22ba'
         '3371e3b1dcfbcc1bcde1475d172756eb'
         'a56217d6791667c156a8005001b58b13'
         '272579101299b6c993b1af8e1fd4ca4b'
         '1e57224050eb64208d11664dde9275b2'
         'f24353c19fd0b3032423a576b08cdbd0'
         '080f88143432205120e0aca478f128de'
         '1a276e68222a3f5f89cc3f09c86a0bc3'
         'a81410d6562cd151d198565fdbb5e3bf'
         '5f7844a583c4a827dc5ab6430735bd87'
         '2326e7f3a978836dc7df754fe6cee579'
         'b2b5b47563c7b039723e865ba4f8aa43'
         '1926d4899a90bc775bd367ddbccb92a3'
         '4eef51090b37285b1cb9d8fab3cbdb04'
         '5676a794bcbc90beb8805077e2f32d86'
         'ba3676b5080387bda9381101db61da78'
         '2cb906cac1cfd24e7b797b8eb9d4044e'
         '85238ec35b28d88386c960e233de56a6'
         '3bdf0bcb40c03a4083664765cfa33d99'
         '776786a22e9070cc3bad9ee919267ad6'
         'c00739f912f2c6c5103c24246bde677d'
         '868918cfb81e06c2fff6af6cadb65a32'
         '4630e546f8ed779f587026619c56dd65'
         '5d6dd16d0900a24ff86af6006c1a5309'
         '5eafbdf8ce13d3852c261857b69886fc'
         '7dc90bbbbf3537a153ef673711936b96'
         '5af4708ba4a6d2926394327fa35d8c54'
         'ea059568f1cfab30beee1c17f94b62d9'
         'b3ca08756d3875ab981a8242c222e15d'
         'e5556ef08f38c84d1f396370dc852310'
         '1b95c786e4dcfe5a0886a0465c68a268'
         '0550ef0911e1c36deb12e7de4c4523cf'
         '3223f84de3be203ed12eb646ad55b3e1'
         'cec3194e3a3dd9985fa6c9136ded90a5'
         '54d7d5d242f9e9e8859b64f648615ea1'
         '4a18963f67977cb8477cc1c312aa8c67'
         '699250f2c75ee69173056a988c60f939'
         'fa159ec022e47b5b97cbed5702969be9'
         '9f70f4660e86ecbbfc642362c6221698'
         'ee9c62d448a93cbd42077a8cccaa7d1b'
         'd3025428cf4afaa2dc250cdd12661fda'
         '369a0fdf0c303a6f462bd476d44143b8'
         '1ce394b57f5c6e54f6882e640c75eb91'
         'a9995b0d43bf475fa83fb67a074d33c6'
         'cb21f15567ca9bb14a4beee8c71bc0df'
         '8dc0f49bf246e4177fdb40bf0b0a5b47'
         'cc48018b24f809fb7d40aa7cf0edc95f'
         'f0aee8e13051f994535101b4328be5e6'
         '77e12c7bb1f98c5f4a267718cd8c808c'
         'd65cc0b01492c9fe92874a63bab7c59b'
         '738bc077d83b4624a10b3983a9cf6e39'
         'fc3632d625e63cfb5918736e9d0dbc45'
         '5224409c71cf54d8ad33c3b72c6f16b5'
         'ea28003b468fbaa6532226962f868734'
         'dfb1d776e246aeaca56088445a2a06c6'
         'a3aea3fa1dc543b8183b504ee4584c42'
         'a45197b6442d26be0cab4d9f1ab0cf78'
         'd8fbc43e0c98aac9b7eb238122e39aaf'
         '6a593b6b73085c18c22811cbe94cdc5b'
         'e85e7e5417edfb97bd144a4513dc5ca6'
         '39d96b2841287cb27f35195d7da67495'
         'c29c00176dfb17851de37c5616f6a82f')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
