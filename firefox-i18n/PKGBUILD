
pkgbase=firefox-i18n
pkgver=41.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('19ff87946d60a7d9d527b2b4cb22acba'
         '2f893f2dd15ac3472d6597fc39eb4659'
         '98d13c0374816df49456485c4dcb7b4e'
         'c2c87a62e3e69dfc021456cba94a0e3c'
         '0c03dcabc6291114ccdc048c012a89c4'
         '9b743f28345e06e85e342dcca17b1440'
         'ac1571f6d5211e238638753489442ff2'
         '75859980b18854f30c6c4d4a5e941a7d'
         '2871428b5ccb12e8f6423e190b77d30b'
         '755cb24e5ac0480cbd883222a70de701'
         '065c971ed8e729051eca322ecf32442e'
         'ce340b440326d5495731ccdf11a382cf'
         '133158565f3c0daf1bf716d04bd6fac2'
         '0cba6e6954fcdabb80532e825e94fdc5'
         '3af0e7693db02734f950429449ff06fa'
         'e9f39bdfe121869699e900e14d585a63'
         'ac39a976ee51032fad4fb0e21167b4e6'
         '6ab2b611fa9bd86e25cbaf7cff73b92a'
         '26441834e16f17008d5d7952123e618d'
         'fb85dce1731c260bd050e80684781bd3'
         '9a5f430f7e9f68d7f3979bc4367b618e'
         '79c66041a338f03ae90b3995882454a3'
         'ce3967bfdba898910323d893bdcce96e'
         'bb2c291be625f7c356dba32ba463a350'
         '7ec45455f878b9c0a9901e619cf41882'
         '6d3f1fccf061a7b89a0daf660173c03b'
         '80360430e32fdbf5073cfa666c295fec'
         '3de52e53f415da6229621e01c886c09d'
         '6a2da6c1cc3260ff474fa45ead7d03f9'
         'ba8e53ceabcb49face6ce2b6c131e6e2'
         '612afce826ca6c3aff4f09f0ec90cc11'
         '8ada72413b0ee7341db0550c26dfb102'
         '6252822f1ba5e192ddbb13613fd0996f'
         'a0222784437f1bf9639e9c46545711bf'
         '92ded1192a33ca33bfe7d8a1cdf20335'
         '2d9755377f2944e5493b33b522a8394d'
         '8c723683a541df8ac0ff2a513df7d0bc'
         '843bbd47ea103d8dfd0d0e64efd112ad'
         '701794cb0d52c5cf000ca69005d2d304'
         '6d7e911142d5f9f253a134cf5f6bc24e'
         '3486a62312cbfe4fe04d2ce589448b7f'
         '20c510cce3857295df5e126adb36411c'
         '7fa9e11a82b9ae56e4c5ffbd018f92ab'
         '15ea292cece0a7d5e4d817d47b12b3fc'
         'f2e06318eba63dad55f3a1fed1fe2be7'
         'ee4924ded330ae88a95671000ea58ccc'
         '3081f9472c4186b814aae408e6155e24'
         'c26c27e4ef21218be6e5a026fea20407'
         '810138374c34cad92cfce443d4dae789'
         'c7eddec704f3d123b7d2048da7064203'
         'bb5d7806ddac4acdde3d838f4e3e6e58'
         '0ccf54153c3c1aceafee24aed24d911a'
         'a9f09a1cec700f88ebbe69f5e94ff2a2'
         'cc3119bf56c8941007ad0e9328b7ab06'
         'a4779c5cdb6fbdb5cfade5cb0daa060b'
         'fc6966666cb8c1074b7f39f64e3e30f5'
         '808c68343a83af51a29636a724781817'
         '6da5aef908b3ae06754881641bbeacd7'
         'a7f074ae587af021e19e9fad71f92e7a'
         '1b634cfa693fcf9432689b942bc18b34'
         '8e1247aa4f7f015e32009a06b74c17a2'
         '289090af073fbba87b57685643990424'
         '546f76d7cc9b66c798f6bb2073024dda'
         'b8f05a1a943d8656a3db5cd35e1c453e'
         '6cefc9e354e632a64dda4faa5d61c8a6'
         'bf7a1e4ea5db0d4c72b77c5223cbefe1'
         '48a1919fdc04a8a8bfab83af0f5ec240'
         '137e1218400629eb5f6813b3a780fc5b'
         'b5ee2472d765212c971166ca6f869df6'
         '65a31ae3715c86991d80478b5c048642'
         'd4f60b7c6d0d11b454b7748db9bdca19'
         'b2ecdd77695acb5807908f77427cce79'
         'b33671b281f714dc53670261d3ac4fde'
         'fe29d9ec68c3ea240b9ba4ba7f968611'
         '0f4689e77dcc3833836a33cab1e83a99'
         '94ee12d8d49580f506cd1de2798baa8f'
         '590cd288497008200a392dd3db14411f'
         'c2b7b89c5461eee1870a1d804c5b67bf'
         '5a82d29d426af52012300f31d34c04df'
         'f46b468c05eea170d4268afe2c22ecd1'
         '4465b8af1e62f5a18f3214bd6e36733c'
         'ce96dba506ba1fa81df18d0ff28fbd15')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
