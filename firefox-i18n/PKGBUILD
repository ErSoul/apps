
pkgbase=firefox-i18n
pkgver=63.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('61dbf574f1bc7281ed1ea51ca504a4a5'
         'c17862712f47ee2d903603ca3d9efe9a'
         'd24037a2733a2b4a25a5fbed272ef169'
         '09a6350197697b52575d43c377470045'
         'cf5afa0b3d02b76394f85ac1e144225a'
         '597877e8561b983ff735a1f8a8d0753a'
         '98af6af65a62f872d0eb674d1438a53a'
         '01e056e123305f50f10c3de0af94caba'
         '28a275353d997506e43fff1c0d0ee8d5'
         '2a9a5b4b12a29a1c10c708817067cd2b'
         '5652b832a07d8e926ab89958bfe22129'
         'bb9e836b7152d18c829600474556bbfd'
         '60f69f3a4dcfc432613b26586f5c65f8'
         'b7edd5025f5c16bd8fce82c17eca5deb'
         '7238c5daffa295cf5008254e2adff276'
         '2ae9c768f91333367103a5f79da0e122'
         '937b54beef422df149eca37356893959'
         '8e1bb940b6356569f8ec6009983e9877'
         'dcedee000c18d788ce8470ff68c6c7a3'
         'f3990009f29cde5d7924c5fe7e258db4'
         'b1b2b02476be1b70691798676d562a5a'
         '2f597d48ee0856828e5c0ca3a16ffc92'
         'b9d28debf2f7e83107365417e0a3321c'
         'e9a8ab38acc4800a56a8c565aa100571'
         'b8d31cd9d3b76f709c369ee9910dc7d6'
         '8993cae4c5947441f2d48c6d548a6a10'
         '72ff61eadb5e230fb73c8d5579a11781'
         '6e8ec87957337546c8d7f183a7fc9091'
         '19d29bc325b1defbb515922017541b5d'
         'fe88258e739e3dbe9f5ce39ad3be874f'
         '32c96afecf42cb9b14d52626e357480c'
         'f4ec46df89a78af43d4bf13dffd00359'
         '6ad4773f9050c352d4e054128f34e4a6'
         '0c0e07beaf163618a823528da786be4d'
         '9e068af24fefbb8a7b498e51eed29a3d'
         'cafece5b2e99069d6de9845a8bdfae3e'
         '4abcb7f3f66825a542b645f619249bd6'
         'f2f2113f4cc993658b78d88f2866f634'
         '455cc1b30b885dcc5b97b878b7c7ff9b'
         'a858b5c8205f69be8de2b53b01752f27'
         'da1cabaf2b95f544de31bcd784007601'
         '71c2623ba4d683b212ce46abc44e89a6'
         '94b11f815d39924a830b56a8a2ec91b2'
         '5fe478036b4290c10abb63c60baf2f3e'
         'd06636d38b903a337d120b5ebb1ad0d3'
         '4c20885cbff11236951e369c5d8247e9'
         'f2e2d1e7aabbfc7d83d3b12ce5ddde61'
         '458780d7ee28e304b0beb7f5ccf39963'
         'e24250e29d89c94ec0ecfba8fc765a71'
         'b172fbeb6b23175c29f20f9c33c248e5'
         '004355d9e42953d386fb337519bea377'
         '09d63ad124ae689e7a582c586b0b924f'
         '6ced5f8b5969112263bf8c1961257f76'
         'ab4ac2123802b2b60f0fc68323f6e3c7'
         '9e1a5fd5a8da692a29c49bda01e49dcc'
         '148d63577cb6e845e1e4d903bb643168'
         '261fd8bb2aab4fd3af99679de0f87010'
         '8fb38efdcac43558b886c1a3586908e6'
         'ab46c4842139dbc3f2c5bbb5162ad064'
         'a6695b509c09ec205ea0c59490f1cff2'
         'f19361b35e73ae3dd6a15263abd82c3a'
         'dc5f3f9bf4b8844bb9c21c682239f508'
         '549e829cc056b5911665a49ca5cca740'
         '627bdbf682dc89a28aa184aabde103ae'
         'ace1c7b22241d51dba535c463a194902'
         '7dd409e66ce82b9bebb7c8bf5438215f'
         '3aea97f7e53e402fdc75ed74cc88ea49'
         '3f27ca6a7a4750936af06cebfc7585bf'
         'e0b0cbdb012e6d8ef2539239c9d324d8'
         'bf56a8889957e5af563c794730ec0c40'
         '3d6e74a582e4d062e0bc0dcf19024e1e'
         '6246ea57c5b600bc35a093903e4ae854'
         '21239f7554347e7a65d6db59427bf9d1'
         '7c4b3e283b4cc22514a50b9bd5c2307b'
         'e69dc4dd9f0ed374ee83a7390b1dfb4a'
         'ccbd6e5e5141fd6ffc0a0219d0171cbd'
         '86275cf5551cf031b5378ba6be3d15ae'
         '608e96fad08e123b53188acb47ee6ed7'
         '39770bae79182f9d648678b56bc9e4a3'
         '1d7e5b7892136bb2e800a8aca76819b4')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
