
pkgbase=firefox-i18n
pkgver=66.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('05f9c8ee1cdd0e65eaf5b0c33b6cdd6d'
         'f4709f4a3f38b5b5ffa98940481a4b9d'
         'e8a86e7ac7ec46f3424afa20f89e3e4a'
         'e8339c590d555f8784b9f61067b1517d'
         '0ac0f92ec1a69e90b0f8e13ae424b972'
         '512bab02b0472c5e53e5fe550990e2b3'
         '7c5349e91ebc9c1787c748479f976167'
         'ff0e2fa19731dfd4c8d476645f5925ec'
         'f29a97b3f29ba4a63a6933e49dfeecf3'
         'f248c704900c5fdb794c2e047b2f0f80'
         '0d532f0ca361662b4e71847f903a1c93'
         '5cc4cef3f7e9f81f9b46e191d27a4651'
         '28e8e920af5b795ba729b58a5bedc1bd'
         '06e0e7765b95b654cd40a7edd7c9d330'
         '45ac699b94cb54ae47977b2323653e86'
         'e247f955e8c2d65a575361e83a7798f9'
         '9791ee7b01beead656027b35584d8cca'
         '781d5c65a1f97d23d411873757612421'
         'e6201f157329d497809b4c20bc0d1fb8'
         '78c3d68679a2ae8cc6b6cf41c79eeb71'
         'c334695098b19bec12891f98d9f3724f'
         '888c9ec5f25d576018ed7e8b2158f063'
         'aab174acfcf2d9bb4a277a5f0ac578a1'
         '10b8fe61cada0798d8f8731be75462ae'
         'c34999160794e0109d99974429bc7730'
         '20451ec5cdc45a42ac2354111cb8f583'
         '29f3a5e8ca36e14a553a45fde5b2dbf8'
         '0a009dd2c27895004d0e73c204712053'
         '32d87e6a1af855e7553aab44d8767c39'
         '5efc238b4a5e58a9973b61e5714266fc'
         'be3e525a57e7e96137b8b48e8ef9ee20'
         'c52f1f693abfb00d8e6504d57d649577'
         'c29ecae096952af4d3084bfab648d524'
         '7fec65a3922bb33eb26178d111684876'
         '60f2915eacf8d45b33fc902284ee1217'
         '810e282896d3ae6e830da472536ebb8b'
         'c00a43fda832ad2f3d3e35964c418d8a'
         'ef1d1268c15b88dbdb13b4742d8bb0c7'
         'c19362c7791624b780ebda1077043405'
         'e49d66d3a95b0ac1811cc7339f6307ae'
         '71a9d832be4851ef6621fb53c19d5af0'
         '0e9537a5f7c7660c548e9f2f2f905a0a'
         '68b96f9b62b956a61548871ee9e7caa5'
         '5a000d63fd0f535565c02790d9a27d8c'
         'c33f4326e717a7273a464dda80bad3b0'
         '5940936e2277f1d37b39a791f5954106'
         'af4b19742a59c8d35faaa381d71428bd'
         'f2bed4cdcf21246388ebf63a7202efb8'
         'e038df8ac3dc9d3bba2258c16e67cf86'
         '7acd8ef877123c8bbfd41d7c903bf83e'
         '2e001196bb4aa10a676847f504d150ab'
         '016f516eedf3442e3eee645565a0679f'
         'f1d1ffa36957f90e2006d031229f317e'
         'fa02289c3bee55b887d8e0d547c416cd'
         '2b6987b182349a748106ce3da0a8dbac'
         '8de39720c99f6ad0cd9c41d0167f13a0'
         '065f918afecc66c7c046fabd8243cba0'
         '0aea5b14ccd4fddfb075a95d44a0af67'
         'ca82365bf46b61b0ee92f711b765768f'
         '36c7395065b499ee5051de1a03e25cc9'
         '3da33d27ce3f489c99c42021707fe6d7'
         '967775b20580e0101f7c741793126e40'
         '48663a97a7aa3752aadc272c98b3790e'
         'a435c3c48f6824330dd8122d6c3dfaf9'
         '6ace0a4757beea332d93dffaac973dd9'
         '4ab15e9a1f349ade084bde039104a1a8'
         'cf0e750e636c27cac69172fb9169a686'
         '147c9d552d41ef8836348ded0808ec47'
         'a62f6e72cd154eca57014edf5f69d45b'
         '947fd1c34babc40a67781a03b24e4a18'
         'fa6397531915c30009f0d0d48415c14b'
         'afe2df6547c638982cc36d6bd8769216'
         'ef22591ae4f2a6c981a646f92afd74c0'
         '6e7e2979b1573056dcea89a997c35698'
         '809968a4e5eedf4e453427e55d38a24b'
         '9b06a1b777d434edad2fddd6fbd34a0e'
         '3561951403839f48de4c2c1b5b0d7f52'
         'dd2aa57acb8db6df4266b86d1a6b2f32'
         '0acf4e0289201db6e89b3b9d41d09907'
         'b51c6054a03820fafbf4490e58bd0e97')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
