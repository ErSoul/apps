
pkgbase=firefox-i18n
pkgver=33.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('12b5060b579278a880f1561225da77ce'
         'd9a8d244a4e904036d871b369878fbb5'
         '2200c8b8aad75708a4a8d89829dc092d'
         '738e9690ecbe3a5fec3bbf356fa9f9c0'
         '9066c349d4b6b31c03a1649e085c5191'
         'b2b279968dc264ab1aecc4213b37032c'
         'ead3b5122af40756317be0272be779bd'
         '1c5f21f5a92c7fe8319194c3ed2eddfb'
         'e65da5194b586492c88ea4bd4c5469c1'
         'c611f07733c3261c5d70d99649b8ce08'
         '991d631268391e59e7daa5affa5470be'
         'f014b4606663f489cff3c157c777bed8'
         'd3f018b14d2f07b044f240c8a701378b'
         '32fae164e8e4053075a8e2d66206a9ae'
         '0e6fd1cbe154a9e0e71d0c2e77d4faa5'
         '8a315be8e6f00ac208b1138b3d6bd72a'
         'e076a162c36debfc6165294594984c32'
         'a8e3d48af919bf4846851d3668779c03'
         'd58494083d8fe2a30b77247e6b228eb3'
         'b3e7c53050991b879474dc737b9cbf8b'
         '461689cf44e713b40727d2b55c8bed71'
         '9cff09f8eebb8fda727f2a98fd1474ea'
         '9374c12a6cf7e53536ee4e7da644083b'
         '6d7347f27c85f2e377bc892a7ad2587f'
         '340868795e900ff9721d4bb4c04e6c08'
         'db01fa070b758a65a97db09b23e357bb'
         '790573186159caaa87a93a99662fe913'
         '1c5da3824128301cfd12889a612526d4'
         '9b9df680957ff861d903421699c857d7'
         '881b1f3c2fef926d41c415fa2680247e'
         '800d8dcd353412db13579aadc122e23b'
         '3d670c323b8474d368dd5504b3eb14bd'
         'f863cdc0c58fe6c9c4dfb6c35a7dc25d'
         '8887e604ab75ed142d3b2ba77ce5d00c'
         'c817e71253a3f4392dad085ccd231cf5'
         '973ebfaa5df7be05aa7604e61c32a572'
         'cac65bc0e0ed1d8bc5e36f5a7373961d'
         '19ec528544d2b6a8751522d6eaddfa3b'
         'ccbc00015eaf0bc2b1a9a10ec3bb549b'
         'f2d585374c761d3e3e0962bd59639382'
         'b3fec697d6fc55b1acd72f542d9f5c51'
         '5198ff13685f9f5a6e67a0983eecd6bb'
         '6224f9add47627b52efe88e941d78e89'
         'b06031585933b8498b5682dc74371dd4'
         '8f9d329fb57866ae902c37a84e5ecc73'
         '4f84b1a9398d79c0ceb5cb22682cb3e3'
         '4e411447d5112410cc408b8b6184c006'
         '5bdd6dd733c89014fe9e7504a2fe4dce'
         '4046da1bd0fc881c5187ed26c3ab3da4'
         '8d71d9bc56c3de690ee05f8bf60a71aa'
         'aa50e78a3862ef740b58a99474081cf9'
         '4a6b8af39bdecdf5f4506834134c0227'
         'a7a7741402ccf00e7aa6accad141a7e1'
         '842e2c2215ee91bae980ef72be9c95bb'
         '3f91f4decfd33a5da0c3cf2f5a50369e'
         '4f44d0d11d5be3f80ec3e9030a0d5cfc'
         'b0e58c740c4243175dd288150f7898be'
         '01852df2c1ae49b9e0f3ad15b05b7c07'
         '887e8e391f914994d44da94860ccb756'
         '0e944daab21c6ec459923ece7f978850'
         '0a4f30076607263a6d7a2f78991a7906'
         '28391246b1d3f114dac84d164296dce2'
         '92fd7bf8641d75d5fc0685bbd2a562e0'
         'f65e86fb2b0a62fb784c5a76656e9f51'
         'c1211b81f030193a549023c67965deb6'
         '34a72398535c00801cbc2091e5f02625'
         '0a4a296dc34346fe9d19223a9422a37e'
         '9167d8ab53a010249d3f31d491b14361'
         'cafe1b7cabb0498a0d04dda796792a98'
         'e7c9e60b19dde5ee4af792415b0b6703'
         'a38ec6c2700f9cf0c770df86ef6768f0'
         '35ee257569290d49a83c3f6b23231d1f'
         'e1d20aa8ad0a3786503893c00d4bcf41'
         '55ffdc0fa2dfe97d661c447ae0351857'
         '9049621ed76688c01d858eb26f33334c'
         'abf59f95a7cb6f6ddf8f61e99bbaecde'
         'fa9e35917205b99c7db13043b924ae69'
         '45b3209cfaf258c1cba05c4269141a39'
         '2eaf58f20454f601811fab69482b3e56'
         'a099f85bb135aed606ec28e6a82c7430'
         'fec80450017580e9d7f88f74c4839116'
         'b0f6307a06f6517bfe1cec867074ed53'
         '03f384cd4a97b699fab96fca505f2f2d'
         'af5a3a89a4014e12d797e892605ebe67'
         '7285c3352bd2a914dadb1bb65f419010')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
