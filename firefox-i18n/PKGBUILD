
pkgbase=firefox-i18n
pkgver=54.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('17df1292dff18fad7b47bfc45ace12c5'
         'b686858ef1f7dd98a2173d33960b5b5f'
         '4b90d5a2e34f4080f434faa893c8588a'
         '34ce2a1213ddb80fe03c88149fa0e48e'
         'a946f4e82ffbad43a06c737d3a9e2e53'
         '56aae67d3c150488063dda8f7f46e947'
         '6e41d1f8b78e421289a7045ff5f0d035'
         'd2aeb05216bac32fdf3f32700017c717'
         'b82c4134455d607e04251a77f119f615'
         '6c53fe495f6a18782dc25569774c24c4'
         '995b27204dfb2865764e16676e7c9702'
         'e4c5328be8eb6ce00559d4a29f64d36c'
         'dccb5d7a82694a054d7c067ccf3d5b1c'
         'df275943a410ed01ab10c66d8f7fd509'
         'b24515f1ab0b48ec3d67cf01c8e15f6c'
         'cc08cbdf30d4213096223f9ce49faf44'
         'd822540bea510c3a8794e7b38883c0cc'
         '30d886efe2ba3ff2c73c21ed2cd376fc'
         '748bce349fe5736888f658403fe42e6c'
         'fd9727dc4ffe167314334fb6690bc4a4'
         'bcf4ce0d9b064345d7f59540edd56ba7'
         'a97dcae86ea694bdf29a520278af15f6'
         '5b088152a6ab80dad682ee21f006d05e'
         '6c8af82a1d10219184f4318ab4cd317d'
         '1e2ea0c8fa6097553badf6746079db63'
         '4c5b05a2bf917060c5b30a7a44bc94ca'
         '8d64b4f74c0bdefe9c5cf39217d62532'
         '784d48a0967a2ec6337401b3bd777c69'
         'bed9dc353ec02c04f49c9f04a3aa4f26'
         '699ab4626a55f9a79fda3d9d860e4baf'
         'a42c23b706e6283bd480916162a44358'
         '0a0dde22072d729f6599f3d6c5f54986'
         'd14e7f8d633f6876cb953dc51c72a3c8'
         'edae22906ba16ea16d47a86e1f7f5785'
         '862cf390f6bd0ea7f4981373d9ba4d3d'
         '2ca669eb1ad2754b2c1daafe4285a175'
         '927e7a4eb734989f9debc01c9511dcef'
         'e7161ea0dadc55394d65a128b7cd8d63'
         'e4af89771eb753f3f5a39ebdd30c834e'
         'd99d9277d3ba2c67547533dc8e9498c2'
         'd20d6bc1c9087da81882d43706e9ad00'
         'fbfb3e066d336a4d2f08d87c4ab5df74'
         'ece5957256dca87665bfbf2008795e38'
         '2b13ce03f578d4ca52d3796bc77f7a60'
         '411137030939f43cd30ed7db36137079'
         'b4117f8a715d86d1457dd598f59b3293'
         '78664b45863e975caf63f694f30415f2'
         'c1b709562e57a4bb6a9b94ff4c43cb59'
         '49a7796630141d8cadc864fbfe984679'
         '16067214f9b26fecdeafbf329195b982'
         '70d47da9cef003fcd65f8bca3f1c4ca4'
         '2453d5c6d1eece2e5f8da1d8d36c883c'
         'bc4b3dd9e514bc82004c164fb27b2716'
         'a6f8329703048c67d4d62ffba1ce9144'
         '9b05bdec915e052515d3f56ad6f1070a'
         '7cda76e3e2008b1e40c2d06a8f0fb2f1'
         'b5d9b23d5c5a00e87611e2c663bd8e26'
         '933769492a06b4a916178fc69f65a274'
         '6eeccdd67d5aaac974ca8e42a90af7b2'
         'b4c2c9faa43a0c74bce7b9be8aae05c6'
         '0e4f14e86440e349aeb7f161dd8b4b80'
         'a821aaebf72afcc103cfde3176fe3da1'
         'f815b055b384907faae94a079b5b6dc0'
         '5368c6dab87e83688b74d20620e4d91a'
         '95e1652fb0b346cb03baca240545a619'
         '740cff2fc8d44b10a2508ad71ace1113'
         'f80a9fa7a1505a20a5a1cc84e1a01d4b'
         'cdfafa6ea21e18c366bfe690d4887dba'
         'd5ce3768e25b3c97ab1472ba0561a553'
         '1194e78a909a6ac3dc183f615c6954a0'
         'd070105c4d16c5a044f94a63eefc4dca'
         '1d29462682c9caf51133447d3d164882'
         'b9a0127ed7fde14854464e2c831cf0d0'
         'b4b030cf88890449d888b53d87e3d255'
         '85e1c68dfc09857ef32df86cc22f4587'
         '1dd36bbd7d0bb5f74151255ea7846976'
         '76a40c9b4afad875914fb7acea7226f9'
         '5f8ea9e175bce80222db4635673c038a'
         '4908c31c361f13e9a951782f3e0ece54'
         '3efd4779e9bdadcd8a151125e72601d8')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
