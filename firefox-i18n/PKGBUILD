
pkgbase=firefox-i18n
pkgver=33.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('8689e128c53cfde0e69ec7b792e0580f'
         '6b277e0b4b0a4bbd2fc846f1923ebaa8'
         '2839c923cf94d616a2fe808a90e57fe5'
         '59a14b5fcbc4d69e20483fd4db09aed7'
         '46a9cdd64cae2129459b43177beb56f5'
         'a1c6150b8676c3a00c1fc45ae71d3aa2'
         '21c5d439625c499a926563646e7ed02d'
         '03367683035cedf88bc40f54f70ca92e'
         '2d626d2732af2af95c5d16924e09ea81'
         'c99a70508f6dc3eddc83095fbf4f2969'
         '82f7e834f9d42e2ab83a665c64039706'
         'f4416940aea0da9889367bd3f05dee27'
         '82f1b78222d845089a55330fd16fd934'
         '925d6d365d0ad4ee03d4953866ca3359'
         '40b3116182544e48b27e133d4865cd00'
         '1169a15111008f59a4616463422372a9'
         'a7bc6e00f1f14f868600e8c81559d44d'
         'f89bb5525cf74563796981b3111f1968'
         '1b4edd54e826dc143cab13a76f35f0dc'
         '0c64a0d5696e7bf45137063a4fd38a77'
         '91c5a2707de204c803dd9b3e5672062e'
         '804b6400e2314ce28521ef96df4b2720'
         '0b1254c70f8b7bf39dbfba6bb2297b3a'
         '5522a330dc9bc2df130cc1e0a53f8f90'
         'd1a3e6b22647ebb93b2b0cc7445973c2'
         '327a3252d1a03588035875ee891a18dc'
         'f0b623d84232651be3e9da77ca991ca1'
         '8e7d5e848e49b12af509cc24d391744e'
         '20a7dab4003deb26967e73ddca950123'
         'a1f5b32a3599674569fbd589e7123cbc'
         '3c4bb18a707b341f79d5eb31d205fdfd'
         'a70e7a5c2b86dbe9bef55a942f101e6b'
         '748c62112d9059ebce1e883908403d8f'
         '13211990777719a28db9af90c719f657'
         '9748cf7a4677601131b9860037b90b2a'
         '0cc0a3c95df0a4bbb03820082b7e17d7'
         'fd83d3a8e7f2713a64ef4f3ab1201e8a'
         '29c6d9d02f3aaafbcbc564914cae64de'
         '3d60b849806692c830bee7784545d889'
         '16c3cc3c9f2f10efc5f13ca3a4981311'
         '21e71c74b5d6f6ea60b431e350bebf20'
         '57846c33883a07218586351b883064aa'
         '48e99c9953f3d9eed56e63a171a8ae75'
         'b5e94d591f3cab05e2e25e58d2373266'
         'e5c7233a1bff1d064405a0c55b6b4588'
         '752d481ad90a03a948498518a22865ac'
         'dd742ec4fb5725ccad4c5c0bffea461f'
         'c4f9008dc9a4a1e4991c1c49a42dc4d1'
         '70a92d56e5a17ce7b4523cbe84f81bd5'
         'a0f67d460772b5b46a29a2f6d4a56b27'
         '30136fab9e61c1e3432206675c485a4e'
         '503d8a17405027b0afb70b34c21cc5ea'
         '588dd6044cce84b35d6c31d267df92f1'
         'db25dc3fc7631bf7a28d688aaab15b25'
         'cda683dc924016983fd3b20c2286f51e'
         'ef8b4fbccd727deab966bb3b2b27decc'
         'c53836d302b60e07613f12b2a8ce8bc6'
         '8e02e53682ff4cae51b1017c51c256bc'
         'b22abd7a048d454117c1ef3ad07c66cb'
         '0da5d7173abeebe4722dce8743dde533'
         '37d34e8f7fb076a3a83526ffca7146cb'
         '43ff0b84bb3451a9c08e1f0ffc88a40d'
         'fc9a4760356361c4c6467c32a6dcdeec'
         '8eca5081ce7200a245a66c293009fa53'
         '50f7ca8a6c2bd40a41372714b833e3b1'
         'e2451e54115abd331a022d5cb5108a31'
         '8628eb15a2314387076ad4c83a933e12'
         '8fee750818bb25d2c594bfeb1eb03f85'
         'beb4e7c568ac1a4eecae3adf087e41e9'
         'c779754ad6aa72e85f4d732c386f0748'
         '95db6f2668caee6b0c4fbb0a3d465760'
         '43cfd467667dc9c662fee204944c7783'
         '1fb85ea7bca7bc289a8ada2b966e37f6'
         'ff8da5331580d621bf08d7aad2a403e2'
         '0f7c629f305d1449886aee1cf99fc796'
         '8bfde48ec39fe23d04eac66a2cc773fd'
         'a3ba7c6b8443b1f66842bc20b9dde726'
         '90e60d3544a5d2b3dbae9bb1ea59612a'
         '3e91ee9cb39e4982b32d12325396c2e7'
         '438588eca2939b8aaba4f066757074b2'
         'd57310c6890dc91d2e4644421734305d'
         '7ee7812745e8d8ceb3511a5fb47c158c'
         '658d7878aa21696c17c49476b1ef3dc9'
         '9fae023cabcbe7f750a6830b143c67f2'
         'ab2254906144e0aa2816cca7ca854c28')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
