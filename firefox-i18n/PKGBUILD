
pkgbase=firefox-i18n
pkgver=64.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('3984a0bb7276d06133453e04208a3df7'
         '140c81f350bfdaf425d5a9c6a81d50f4'
         'd92609eb7e066698710439c37daa9edc'
         '348f841de65ae408bfc061d30bfb946e'
         '6746f0acaae7429fc18611fb229fdf41'
         '1023332b19bba3016b422d4790846e79'
         'bcec93a894b70b00964cc2eda7417d73'
         '55b32f8723c2cea35be506fd5d73d5d1'
         '41fcb89bcf4d0e356aea9704c51df107'
         '738948d3e4ca76318ccd2b6c42e5932f'
         '778bc7ba2e1c01980bd6573370c043ea'
         'b6911f25f5a3fc1dc6750110d4394031'
         '09835b15a88e583315fa2c4be581e215'
         'feb99f1f25cff44cceaf5b302b6ad7a8'
         'ec6dc658d2a6ee1b4fae943c7bb7e25f'
         'cc83aab520a27f0fc0d2050e60b4c110'
         '6712d1db1e5d4bcf31062e000bd0d3e0'
         '4348a788b496bcff46506b61a866b1ad'
         '2f544d5a963d344c653e75ba357a192b'
         'aeb2666cd145118b819e11dd4c1a245b'
         'eafdb6f27e15244afb18894ba6319507'
         'a7762679a5513854d7566883624db823'
         'd96f746a36054acd89d08c54e172fe91'
         '8513d265b020687707452d6402fb90df'
         '30c5ccada9368c7518148e7f6343be83'
         'be21a75f9c428713291d815a8182e1b8'
         '9e6d08ab3d618e28642355fcbc2005a7'
         '0b387507518902c5b24ed13f112ef127'
         'e97ead180a958b81c5909f123d1d4934'
         'd204eaa58526b27ec363498938a360d3'
         '770e09299c8ace8862b98c9a7ad03dc6'
         '8f83e8adfb81edb78ce605f34c9abaef'
         'ad4c2fb3d4a40f837f7f620c4dd7c9d5'
         '949efe8eb563a39abc3796b59638ca5c'
         'aeb7d29d5184c131028204becf47e4ab'
         '1abd61b7b74a9eeef41fe4517dc50dc6'
         'd1a87dcb56de02ff84b2e3db7098b222'
         'e2a4277297f1ed4094adce4f2edb9247'
         '69abc41cd81d07f4a09b56c86d51dbee'
         '2b6956ef582d738f15fcc96386d8b1f4'
         'a148efcf57930f23efe6feeadf13cf64'
         'ac95a5cdb90e9c3a649da2219d1f621b'
         '9310100bd5355639bf058a9f24fdad4e'
         'd7207389ae65323c2ae6751bd89f791b'
         'f1c093dafec5a3b064302e6f0aa33021'
         '95f14ec6da5313cbc009806124d48e20'
         'db3db917193f2358b3074fc5af173513'
         '5146c13d0c279d39012adf4782b69387'
         '2a350bdbf0d336e1f5c7d4e0c21dc383'
         'ec7fb0a535c449015426c50c09973d31'
         'a24fd6be926706af8b9a3f54ad44c361'
         '40516f017ac0f6138b072bf13b789c2d'
         'c0599c0e651cdaa9f7f9a6bf34d1ea09'
         '597dbd56a7464dbd9565dbaf6c77836b'
         '9e19428a1600d0a173a05236b3ca4c4a'
         '8cd4b54f0c3da45d7b3ef82811c5de8d'
         '55e51c5f4c40ab668406045631552039'
         '0d194f0a0d11d8e3ccc97ce15c90df3d'
         '5620138dbacf03c8ba780143a335b1a3'
         '575d564f08a5e627995862b0bc004686'
         '360641057385d54b08c2f3c92e4432c6'
         '5b01a5512cab40071cff170fdff56444'
         '485d3f49dcfd1f736d401296630aa82e'
         '694ca2e330cd9f8d29860595f30a93be'
         '0548097666a55b8db442d9a0840f8032'
         '0458d0f8e391cc657d6b0357dbf9fe75'
         'bbfd0c6ead9a676799848e74594cbf5e'
         '603481c0eac049680539146c210b9a3f'
         'a92842c69ea8d65a1ec81663bae0e63b'
         '8be6a83ca926f66c9384416588f56bef'
         'b206ea0c918505c1db3def2f965708d1'
         'b74e6b4e234c347d3aea2790720fcbff'
         '5a9a2571129b21c32b6ded581f00178a'
         '1d6928fbeef055dd4b1044f45d9aaeb9'
         'ce6bfa4fa74d5b60308e8b04a4f370d9'
         '9197ce9baa2b51c37e48b9c44ecf63bc'
         '11b57fb5734b80c11c85f16c6274a11f'
         '2c4eadd650ed2b463c17bc9af0916f08'
         '78afdd86c7642d06f30ab845e8fc0cf7'
         '7413c5a494c97704dbdfe79425d28f75')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
