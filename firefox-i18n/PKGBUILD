
pkgbase=firefox-i18n
pkgver=68.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('e2e75511257e4d94ae55c6dc5de08c1b'
         'f71d5a8fac8f68d7b0805c5017aa2363'
         '74df7753a8c774a14af723f10c8080a7'
         'a6826f6402ba882087c7b26a2400a909'
         'd6949dc8866c427fafd6effbd3266720'
         'db8bd47c47e368604bb33626a6645c7f'
         '08cec3caf1fe9aa58e8ade8a6844df91'
         '7d0797a6f9eb0c4bb0ac5d70758ce01a'
         'f756b7da089e4bd5547d8f5f6d8c109c'
         '5bcb53477b21497b6a1fe4e09481ca43'
         '7a5a3b811ed1a9eb6ab207c6f173ac75'
         '032189d4506351f9a77022c6e7255fda'
         '0d912996a98a5ab3cf32cb32c82076b1'
         '3b30c0cfa8c78e81031444d540d41c09'
         '79a8182646067d86cff113857f0e1e2c'
         '4a3a91333242c8fbe0fa44719bca118b'
         '0020c79e3052751ae2a44d96f2994ec8'
         '4c0d30e82b8045d0c171f7f428506e2a'
         'ae3940910282c66bee47b2d70b6c4a87'
         'e3b37dfa12868e6ae595e536fec47e03'
         'fab36b37b63c1c09afd3ef491802fdf7'
         'fa49e0cf106eb298ff65fb5c3d6e9755'
         'b5a286e32b7a4dc4a516e670030a37c3'
         '3b31da6da6583db7d8f7e184d4e35bd7'
         '27e37aaa1fc1f48198b610411dbd0491'
         'c399d0740542558b3673fe8881c5df45'
         '42ebbacae8ff221e4140863bf59bdc2d'
         '55bd9d19e1c19f890a4531fb7eceddcb'
         'b9eb0404d9ceb4e97cf63ee1fe7835a4'
         'bd73b27b523fe3edd163b106ec785530'
         'ff8c948a5d8fe614f5ddf1a077e99c1a'
         '6204f66b2da3c816ba3dbc902192ab7c'
         '8641c9bda856ff584ee7b50276597a19'
         '2316b7be91621ca796e08c190efac823'
         '094a06d790a616cecfebd4b2f4f7fc85'
         '2106a077042dbdee31b8d3cfe31853cc'
         'f5bd171832b1c05336835251bc6b83cf'
         '1116523e97ed8dbec6bc4c597750cd69'
         '0a60a3b55cb4595131f31856a969f81b'
         'b26b06cf7dc69efa2debee421745a2fe'
         '4eb9714b06dcfae8576b203f21a4d543'
         'efe5d53be1aacc2da95a3ca60af1dc44'
         '1c188dfb6394610fe0ab1d889d695204'
         '12c12702fcb9d9008e7299d2ea3f61dc'
         'e85a2669dfa65dfc344507fdee6f3ccd'
         'e03b8af4f4ce19978a29f32c9c16609f'
         '629956112369ab51efac2f003c08e983'
         '9109d1018edd885cffd72b5971def0fb'
         '01c551f539d760378488ecfe0bdd75d0'
         '810e8e7644874ff70c5dfca6b504f244'
         'a2cd1d896690a6fc308b79e8e540a3ce'
         '9581f69a6b9cf2a2608593fc91c0a5f3'
         'b27d4d8c7ab93e5f8462ca11345f2e1a'
         'b9c818ff7a868374449071e6a92786e8'
         '700d6df45a339ebb8ac714fd07804951'
         'ec7611bd8906ddc737c86a01e9f8eebf'
         '4e539cdf2ad022e6c2aad6037bfb9a2a'
         'fa45c6189259250844d6af31f7cbc188'
         '7331d5b2bd81c179c18b71ed3cd9c415'
         'ce3a129287f415275024aab28e294410'
         '15f82aa49deaf68b8b3cf3150d56762b'
         '57c60fc2ba4c2870107c064ad51a8aae'
         '5afb8d173366bb7f3ead00389fe15a01'
         '45e9123cf174060a9db0f0aaf814e501'
         '4007d25a65e97aaf0cfa905ece120edc'
         '6da447b10fffcf63d0cb09c4f0d290b2'
         '88dc304bdc2eca68778fe84c8290224c'
         '98336907df02d1e3c9ae9459435b264b'
         '522f6c33c5db1e752263826b95f45b9e'
         '326e800d9eae0c8f8a1c9581222611b0'
         '4153adb64a578665cc37347de3d74846'
         'c65e8558c89b42114f02891a027609c2'
         'b213417ea647679062fb36c692fed01c'
         'a3fa39f82e59b6533eea1668d2d256f7'
         '2732d6b7241c290465f87bfee62deea3'
         '0772982860cfea3cc7c37e5332a51c65')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
