
pkgbase=firefox-i18n
pkgver=32.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('206b310361d82bc4380882e837d4ea04'
         '25cc3b8ec75d18892578f05570470f00'
         '4d8b3a5b57c89814b2a008b809ee004a'
         'ef91ac4f21c68ab6ed9a3af91a9e1414'
         '9bc36846027401d0a715a4343f63702f'
         'ba633929ceb11f2582582895237a5394'
         'eb09a59e151fb7dca15c2650ae7feb91'
         '31b323b81703cc6bd8ae5c7af3743a9d'
         'd0819805070c7718b718489dece65251'
         '06e62a447d440bd58777499af3780d30'
         'e0451bfcb48de53ecfaa7dda2d91a90d'
         '498650d3c75d2fc8c3ed371a56f75008'
         'f72171a09239860ace2ce68edd1dac6e'
         'b4dfebdaa214c69c89af8440cbdb2e12'
         'aae4793982033aeb205cbe0f40f1d637'
         '9ad68e9dfe6e333d9f40c7f518268eb5'
         '85689318f3695b8a4d211e59317f402c'
         'a9499e5abf07be5286f94708009e8f2c'
         'fc089f3c99f2c326fb7aeebb125c94d9'
         '6ddf8fdf20a425223d36b67f23d6b3c8'
         '98c5b89337119b294b6173983c97eef8'
         'fde8445fead85f841c7fe6f4f3bfe7d6'
         'c4c11aa5d8c9bdce39bc8256a2e614f8'
         'a7a772ae968f21368dd22182b1018482'
         '18ec2b482124685b2020e3637c71241a'
         '467c32755cf3c53fea17bc141053f5b6'
         '8247d7bc15e7c72a52b941a6046dfb35'
         'e0db340468e0ac8f95ba1e2927615080'
         'fd84f4ad7427b9ee7fd0cf56c834181b'
         'caa9a15d95c779b4fd50a65b2d15e45d'
         'e8bbc0de9223f8fb15d0299366be516c'
         '2db32251f061e88d0c40e7373f392337'
         '38ef9977f484dc7af99f0211471c9191'
         'e1bddc784e7a5976d63b896da8878e6f'
         '31a704c4d7e3641cbdfbdb96bc697f0c'
         '152cb3d52c61d37a6ef87ad545eb303d'
         'a1fd7d6050a9fe5be792140241d4c73a'
         '7d1d90d07438e76172931b0082133120'
         'a2fa7e64b6b900fba43579f88dd05d1d'
         '298dcf1655dadb3e58e099a0c59a759b'
         '5fc46fb734d28ebc7ce6b0b74c091548'
         'b86e4c914ce479b401776d788e77d1e8'
         '811ee47b1574d7cdbf25ed5ff43dffcd'
         'de2e5794df69167c12164159a97ee00f'
         '8ab811737411c06095eb5e0a8f78e08e'
         'e11280935716fc684474749570dc1e37'
         'dbced2a0bef06aab4566f1e7652e6cfa'
         'cfffee428cb134c64089caf24135135d'
         '859869a3671591fb25330221c273871c'
         '8a42749d5f0e55892ab7895bfa144913'
         'c70beeaf93d57c724674f5e1b6479b9d'
         'bcc12d566ab5aa31cfa78a0c0d8e4e52'
         '5a8ff0836028b1690f4296249935f24f'
         '02c6db851113702099121a78ce499062'
         '22f862b5108ff595c60a6756024536f7'
         'dcc3b2a2b8fc9c076c3144ba6c71f59b'
         '182948685c3a229eb522213029cdb758'
         '865959273a579b566aabd796175cd416'
         '455bc37648849cb40e2bded83209030f'
         '6f02d7aa460a9cb6d28a511b0902b9aa'
         'a3db254d8e64f25389851c67926daafd'
         '961cc951a177d1accb4710d1fcce4074'
         'ef9b107fa2e299249e1b8a278590fb67'
         '577bff89d98fea05c05a3fb69480df63'
         'b08535e6051f0153d449e8a0ecef979a'
         '9288eeb4c6beabfa59b52cd089f4ca6d'
         '858f1a29e873f2b0d392ea2577bac871'
         'f13ce8ef15469ef97008009d634c4b8f'
         '8d1b37b6515a52ec58d784f9153be049'
         '6913f7530fb58e96e1fc115be3ea0b24'
         '7ab3673c6208a7b175843ccbb2683528'
         '89a1d506c09c991048cc3bd1aecaef8a'
         '23f7c373f4d3f0f244278481822379bf'
         'f12398eddebc05f28ce02965eb49da5d'
         'fb28d57a3b1c16f1f44d1ac0a2d813cd'
         '786a9dda0e6cbf85eb141f0a9eb32a2d'
         '71a8d93e603c661142f0a9654d3ec115'
         '93e95a7a6e65845d8a4d08fa5521da5f'
         'b3f299f9d6bb1216d965d138ee79b86c'
         'ea7a61d882c19bfb3566ad49c8a73f00'
         '08d5b376a860a3e4721f80604a3d8bd1'
         '08b934ce8fd8ea6447021c01c5b56619'
         '6142433cb9ce14a521070feea1deecbf'
         '85f187216c90f06700f59260af43d88b'
         '0193f3c00a33786489c4d67f9bd4b032')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
