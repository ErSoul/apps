
pkgbase=firefox-i18n
pkgver=36.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('d0bb62a80287048687b0a0ae932b275c'
         'd6e57ea7d4af9fdde0acd166b53f12a7'
         '10f8db46335a091b40601c622567ee1f'
         '7f065c79accefdef0c3643fa33373043'
         '6c3a62448d38d93c57b63da5fb71b33b'
         '22104ee51f1a033ec02e0de44191c6a0'
         '559ea0bdc4a9e2f6a2a26b98b6eb3da8'
         '73ac0d6e77ac1760aa2b65bbc9c3e376'
         'eafcb68bc1e928081178d15b9c9dd435'
         'aeebcf49d274e1f8c195a608c87032a1'
         '402238616d95d01a216e0bef710e830f'
         '46a52bb030dca47580cd4ca5a9bc6808'
         'd65afbc8f21b14d1961ea69905c01529'
         '830570381baabea82e369e8feafdac70'
         'ccbd8c8631a84247b183d020dcd2c440'
         'dcc917925c1348b15ebd950aaa5bb06b'
         'c8920602123d66c9bb651a924971af4b'
         '6cf7b517d24b010c6d4a71320702b33c'
         'fbd6042206c2acc5b434486b415cc993'
         '991bb7deb7f54daa62eff6a099aa084e'
         '612d017c82c99bf9a3d6bc796b03b162'
         'bb1ad802f6d4ff70ecd393965c1ed78b'
         '646addf44c61eed652d43756a7018f33'
         '74167b199dd7f38f90091161338b5046'
         '5ab149fc2e3f95c94a9dbec3766d35ce'
         '11366205d695dc570cc811c7dcf1d15f'
         '85e22886f84d9d48410a1713a1bfdcd0'
         'acfe0111a82743b2ba336f6eecee579f'
         '3b9f8f762a2b51321ff4ead838afb2cb'
         '4509916cc5cfc950b65c8c82c65df7da'
         '340d46025a8d283ca0caa74c2e91412b'
         'a98aaef6d7c36ed808ebdc8d153b4dc2'
         '34f2fdff33d3d3055e44b3f844a658f1'
         '534df2feb2b215cac48a1cbb760332e9'
         '38730e3e669d9c7699c1c541cd758a7b'
         '331caadbd607620a8838a2d91c508f52'
         '62799dacfa739a7d958e65d5ba2f09b5'
         '4dd7a2482fb73bc289cc0b44ce871d3f'
         'b760491f24a93be4a13fe8bc7e46b0e4'
         'd8e0895d55f0aac2e5a7198e36a6b9ae'
         '90ba4682675aca28482afc0f1ff7ceb9'
         '01d6ce732d49c6f6bbfea7483b018d3c'
         '786ac1ad127f03f5bcaadfcfc4a3373b'
         'f865ae236123ee7413f210db1ac96e3b'
         'dfb9be5e82ee246c2146964f64a3acc2'
         'e44aa8b081a305bdb84575d2334d3c8b'
         '1a7dfda9becd5e2da6220237f3845476'
         '2a59086fdaaeeaa6484ab7b5b839e299'
         '0f70dab74db2a4bb45a053ee38c3a5f6'
         'dc5b842655da7fdfffea6ff6521228bd'
         '08b2e598e8e618711795221374d42a0d'
         'd133d6450eaee033a0fa12a6938824e9'
         '685a46a50a373ac6e757621be8334e65'
         '99524763a6aa52e3defe1d4700557af2'
         '96b215253f80dde59b56d480ab8cf06e'
         'f9fd022e1f9e03c5fa64b9f59df22ac0'
         'e102c3c3028eb56a8a11b268012d7af1'
         '0ef4612526ab10acc3d2d4597371b665'
         'bfdd52efef5c423c9a0f1177dc642a77'
         'bf9fb98c68749584e1ea1a68502c2464'
         '4b6389bfbb95927c9196c0ca8fc81821'
         '1bb3ee4ae441589f59c14376f56648dd'
         'e6a3bdb9744b12eab4e397d12f5f91fd'
         '173914b1e18e69cc2db6b01aab522198'
         '90a061852a409e57f604352c39e11729'
         '07d005ccf7e2ae3e8a26b5ff4f4b456f'
         '89cc930bd8f1973708c3029e97cc2402'
         '285672f826a3766ac43b7785528abbb3'
         '7c13a6af1f12463340af4ac89eebc8e7'
         '17bfd7e582aa605691040a25ead32e11'
         'ae8e7eae5efbee4457f101d625858aa1'
         'd76b08bc40b28da49cb0017e5f5484b9'
         'b2a6d83bb195399fc130862ac4ab5663'
         '678988915d8f2b7f2adc105515e87603'
         '98897d55802d12987e2d0bf12ddafb57'
         '48be39d28d44b3a808ce5de6add371bc'
         'd0535c1e772188658503b5efbbef8fcf'
         '6c84891e80184a190ff0dbc182699272'
         '885fadc45da011ca166891d2127535dd'
         '66d27a69c937566b347485552abe3be3'
         '01b144cde8f2115bd37d85d15760af53'
         '0cdd2e5204c98a62d2645f426740aa76')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
