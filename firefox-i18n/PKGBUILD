
pkgbase=firefox-i18n
pkgver=51.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('b86e2d8f64df9edb7983b957c856fec3'
         'd62c98670d77e2f745648c3c952f28f5'
         '61d0f648bf5167f040275bf31cf36361'
         '8b9b0491f23b6b821fcb1ba8b2f54647'
         'f1ea66c5b507df52413794d011478ebc'
         '9196f2732cf36ab21e2d93d3397d521a'
         '114038722a4a8dbe8db815789f4c6152'
         '4f8e12aad85821e49b9fe937c1b5981f'
         '6f8b53262fb2ebd3e6b325ebf1c98561'
         'b31c972528f1647a856d983b54ef159d'
         'd612e3cdff29d90056e364a455401f3c'
         '5833ec6e640965b714db8ec627bc98e4'
         'e3234b318ff05ffc8695b97363349328'
         '9638b8f224cb98373eda1871a87bd630'
         'f119123bea11a5d936913a7cc09bdde7'
         '6bfa0efebdc33f3debd3e3bb88f209c4'
         '9538666e80421330a18311d79c88befa'
         '03fe327b47ae608f91a1ce9b7421e6d0'
         '26b40e587f5de640dd89c76d59eb0ea2'
         '8a9623ecd8ae161165a3cd2b2c3d3f89'
         '035e889d9bb82298d6e85eae8f0e9146'
         '25e149be2181a4e70257b26ecfaf7639'
         'e953f1e31524cbaee9d47edcd4458720'
         '76e68e5ea3fe18ff62fd4ca91a016f87'
         '182e7e77283343df5fcb11a922e1a346'
         'c9005064a6b06a43b73b2e696dfe366b'
         'c3c37f60f094c3ca8972a6b232e16d63'
         'ea57a2eb8db281242a1153469255a1ce'
         '6ee5f6f150531fd02e04d224bd5ed797'
         '6a8a6a8a4ee72253b3c1eee785e0f61a'
         '0596de4779ffae3ad7341b46e9e661c2'
         '1e4f0503cec577477d02d33163856ce1'
         'ad0c0650dcbd9df37064c5d74e94b80d'
         'f8604eb567493be2e3820ae5ab669ca7'
         '3e56c7638788a2a7f7448f138a84e5b4'
         '5725c47d16aba7058e56e64932d81b12'
         '77eab4765064449896489297c8385e06'
         '996a8951c5c553cdf7e55acbf649a932'
         '8cc2497333044b3bae860ba6d245ecdb'
         'c6d2cd8a107833b19e3913dc031bbf93'
         'd523aeaefcc4e0cc0f6e47cbb8b33295'
         '7a769b04b727e2fb26f9ce45e194378a'
         'a7c80fc6e34283de6161edf723680dfa'
         'e0b4f0c54d6eada5225b76173705bf91'
         '028d91c30722613e8ead4f50fe98479d'
         '5db264ff66b98d041e8f9124de73677f'
         'a5cc8bc17fec744260bfde4ce91f69d9'
         '2bae6d65bd2c6bcdd63a31599a648fc2'
         'a290c27c37832a7f646156799ac1954d'
         '6868fca19727871f4bf2400a4604a752'
         '49b6d4e5e6aa17aecf72533234f33aae'
         '272cfad54c9b28eaa43ed668bdc926c1'
         '7c5c24dabca2b065f1b1f1b1febc0b12'
         'c8e52b4fde41ab8f18ca288c052ed0de'
         'eae04bd16fb699eeee384fe9cfc48c44'
         '65be3dde6da98665be943358c0f55230'
         '30e67a35677fd3a5b9d3871858efed58'
         'cf185b6e937b1f5515004c926ddd74b7'
         '21f58fd258650f243a7d3bc0ef1f2edc'
         '71a55e20d498b4c0a4bc744976fc95ab'
         '5dc6ebea00277314599a1c0240410594'
         '57fff5b1061fec425b1326280ff7bb87'
         'a7a442c2ce140b50c29c8f96b060a052'
         '991155e1a7f9e74ba83bd4c6e2e30ede'
         '3c718b54ebb3df66f92943e89c7f6b9b'
         '44caafccfc9f26696194558317debc79'
         '59e01ca42c21347d5627c526e00b366c'
         '709143f1206d9cfa5269fb277e20763a'
         'ae7419f341703002e04aca28f3f9b2bf'
         'ce0aa8e044236b4ddfabefe4f88a367a'
         'f684e3dcb374bd3d95b32933143da838'
         '8ac6f503073a84ee2f50a585c5acc74f'
         '2b387db063674ecf3afc6a95f2f6c150'
         'ca32c854bc785b2ab25cf072afea8180'
         '4575a1390dbf1a478c6cea5a10a33baf'
         'e07d4eca6da8c93ee45ca675df7bdbe2'
         '446564646299a4e613ff9a6f058bc0ed'
         '98e96bd5eb6cd44181fc95769bc3d0b4'
         '2743fad3c919284cae9cb89b8ad39a9a'
         '2104b8bea803edc5011845be5eddcafa')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
