
pkgbase=firefox-i18n
pkgver=37.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('8fafb95416de767ba010f06b55866f6b'
         '23a7dcb825a1600e3f4d52c32d06ce63'
         '1c023d1964c9ec2270aa34f99e867d39'
         '4eee81978fc821c390c513109a35bd57'
         '64fade47ab67268182e97c3b1d92a496'
         'c733382b582631569270cf05f33f8ffa'
         '1b3cb1167d409e9a11789db69a95b5d4'
         'ed7ea6c486b479a56f1a727932daa41d'
         '7a0a8bbaf3784c7f15a0b90f33327474'
         'e2b2104b307c41d0b47e162c2fd4a394'
         '526a20d4f5a1878c4ae83987f6cfca03'
         '28db69aa64eeac5ad254b759ee7867d3'
         '1df5a10077a8e43e6b043e94d0a3ca6a'
         'db1124cf564f66d17fb8df2419569697'
         '1c46741fe3a61d6149ced28c31b10717'
         'bf29679ed4be297ac9e37861ac39ea8a'
         '66692d291f730c51d711e845b36798be'
         'd933a990b5d9897b95c055835f448d2f'
         'a393ee41a73e2dfd22152ed902f0eebd'
         'd7b0fa107e1d50501193c8fb2f225047'
         '8f94586027504b5c70c6eecf3bf30483'
         '21b134b6d22bb670d616b61332cf3dc3'
         '49d1916ba21eec5891a9d50f29315293'
         '83087a86071761283a36aaeb11c088fe'
         '35a664fe458ca5330a6a284397eee213'
         '423d92ee276f6a982777e6b59f428e9e'
         '1a00dcc7ba4bd4c8f25cc95229ed16b5'
         '16c38d06ed392f678e522384aee6ac9e'
         '41db564dac0a51ee5eb160ee729e4daa'
         'bb34636ba6bb35c394f8dcfb4abbdd97'
         'b38fae173e534b99384abdf50bc8a481'
         '9a840c6ceb385a4bad26c083995388cb'
         'd602abd1adcdd6fde5f09a17023f333a'
         '04654bc7282ba4111b5f98977a2d7850'
         'ec26a9418b9d9236b4bd841aa941536d'
         '2ad0c4d2f7fd7cb86455fbd13b72b30c'
         '4d411dbd237248c6db387660e4aafeef'
         '3300ee8e5bd318b2d731bee5feab4d13'
         'b54f157b0dbcfe9c6c305885d492be1c'
         '5806ec91fc1cead2f1f8652ac4377f11'
         '6b4954df2258a84b15a36bbee99e5bd0'
         'd5935038eed3b06c247b322196f3a316'
         '0413ba9cc28bf08943b70300e388e2fb'
         '07d74bc093fd615002779a229b2b5156'
         'de0583b9fe9f0108672dca4b57c766ce'
         '1d60f01173d402a265ccb52505112ba4'
         'd95d3dc3954022567bad5e794a03c39d'
         '8f3894bd966ffe5c62c9504bb392e64c'
         '23d8b3489833bad113438a0676400a61'
         '543ae089085cc77fb84d99bab196fda1'
         '90559f2dd56817f38b87445428977e0d'
         '8db5f492a5dab7012a362a6d86dd9a05'
         '67b1de1c61fffc45ef4cda82edbe93d6'
         'ae6a1d6eb90e6006a9a573cdc02a267a'
         '86f3206c6dfffd4455e01866076c3620'
         'a9617da450b87f254d5962df396a10a4'
         '83d616a11493a7e43e76e1bed5519187'
         '87861fb9e9c1993c4f4677760f0b9e8b'
         '4b26563593eaf3cbd45f68217db30d55'
         'ebd2036a0d036b86139ad2c01baab9e3'
         'f013917570b274709028127ae1ff0568'
         'b2742fa31f6e1f666c5de5f076f69263'
         '6a6c57e2190a9ca9ab6ad710f384bb4b'
         'd0b848525f2e429364cc4269818f149a'
         '5cc817f2d8b73b753be4103b95113782'
         '1cb0c63a9ad8763ac4b15ffd685e27fc'
         '148c1d0486a48548fa49920bf7308fa4'
         '61ca36e1efb4068d38ab719459c143de'
         'e955de1dfcc727a803f5a96003e8280c'
         '0a2976a9aa821a98b89beb305f2f7833'
         'a54966532850bc92c82ef7267acafbe1'
         '35f514291b801676529ea6834e005bd3'
         'e039ac5e98fab6255b69bd978e95e6ac'
         'a2a6f5aa144581e0ef5a060e87ed52d1'
         '375f52534ba4e06e819368df913609d3'
         '10db24c4bc4f920d12f430edc18d784e'
         '6afd8c4c59b53e55b293844098fe1b3c'
         '73d46c960e5bd3f40ed670683e9ad8c9'
         'eb5913d3d413be0f4442736e2d323239'
         'c74afd7408cbfeed2883255c36135d5b'
         '5b58e2e8af5bc18e339a95f79c3be5c1'
         '04a1ae66c3c92d90809babf7e336c7d7')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
