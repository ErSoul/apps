
pkgbase=firefox-i18n
pkgver=40.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('54d6a68b49a4be7b270f89c8db325931'
         '2e6875a2c7f1f8c4297a2a0413ca59cd'
         '6873380f2af71c564c8811007a646bae'
         '34a4b964ab00c6f35a7a16485e4a0587'
         '0514b3629b856824747da4a1df0d70b4'
         'afc33e60066003c6f014d1113048416c'
         '0b990a8f3ceedb92249f1af1685bd586'
         '8ac4300fb38e108675a46b9b0c34993e'
         'dd7684ce5ed4d1899ad85b78da26de26'
         '1259a75f9981d0ff4726e1e35212721a'
         'c64e584dcf394afdaffcc678aefc1c7a'
         '022682e761cae97b9f93ce52a41ae09b'
         '5306c82953f5036b3a7905ba7c30f955'
         'f550bff82385c78910a966e66e0d0098'
         '7e8f72fe3a27a6cc5a0b10f93861053d'
         '25906a2aec324e5a531c4078e79ae93f'
         'd394e4ff0cd432807813df2b23101f00'
         '489e7b16b6e1b44023983fc3a9879262'
         'aa1b8754d7176c0fb6e47580c1ce31a8'
         'd244d18ecb4d0e566ed4235e2ab2635b'
         '50542a57c52b323b7e90b3f9a3586dcd'
         '1fa0377d8795ccba1fc45b55045f3360'
         '7e067e3fe91a39a7f28be726ba6dd0f2'
         '0b55ba45ac9dac3683df7570df54b37a'
         'c01fb348cce2ba53d53eaa985ca19913'
         'f23d86330341f9aa7c4aa3e74d17f1ca'
         '42a2d2ca1d6774a06dc1e3fd0d89e420'
         'c7025b74d0644f70742819a16d66543c'
         '779a78611109342f18b110780d537b91'
         '6118fb0c85be13b8ffe46e2cf9e24832'
         'c86690af71ac80f22276bba70118fe07'
         'f543542c7079fbba7ee7d56a4a4bcbae'
         '205367754b91896fdc1fa17ac29e7230'
         'c5da2b027366af49fe262debb1edf26d'
         'aaf929bc89088e93d20c5dd6b9678140'
         'f7fa43c5d6948e36a164b7a454233694'
         'a500d57260fed1ceae25f211a7c2b639'
         'c676f40c4b4483aab823f324e1ebebdd'
         'ee07f37fd6701134f5920a8a6f3cc794'
         '83597bf6ceef349ddcae2635d7e4ca33'
         '3fa04cc8ebdd0eb83eb151773f932dcb'
         'e398ecca98aa7e6e2ce20b73ea105e49'
         'e44799e00b792f2f8562a469f4051c38'
         '2f5456f5aae2ea1dad338eba309a7dd9'
         '93e9f14a90666ae2a53aef61f62e91b1'
         'c82889b1cf804c268a5a09403c173360'
         '95374d92476eca4153a3402e5bf9c4d5'
         '40635c4e4791766e7aeceea3840ea992'
         '6c5d85f480202f700f8a1bc883447b77'
         'efcb324436fb53923e7c4e0b9bfe0888'
         'd91a12928dee4488aacfc00e2a500694'
         '10d74dc98ce5e7b94bce7eb66a95f74b'
         '6c89be67490f4db10e11171a7c15e0e1'
         '84483f0959b45177c63c0d98d2962866'
         '12f7e53b0f7c105c7267230b310be455'
         '6e0465e0b9430fa04f62f8721940c708'
         '6f97cde959cf7460aab8601f146fe735'
         '58889163e684f976665b9a6adab73e96'
         '838aa3868fe9f566190d119a1a2c4962'
         'b764ca301de6cb3c0d1a5584669c5188'
         '2dfb14a48664836e2e05225b55ccc406'
         '6fb2bb2c2aa8f1a0f81851f3407c8146'
         '53cc50e6a20c5c193f8d3efbe016eef7'
         '6d31cda241b07affe40685a0e7e1c0c5'
         'e48b4020181ad7997b5aa95a516e12db'
         'a71a286f994061f41778a5d14c1ceda4'
         'fb97cdab122c844152536acd985d31ef'
         'de5a19019e148df4615fe14dfeae04c6'
         'f6ada112139f983b749b4e48a1ad2e97'
         'fc89a1cb05017e1f35b6c640f5e0acd2'
         '73b88dc5d06b57551235b3037f69d77b'
         '0aa6e2480c25ff1ebcdb4a982caf2319'
         'a03b8b9dbf2985665abd014bee36f17a'
         'f00364bd77c238511939bbd53881560d'
         '73bc5f03ab52172792f64f851249e041'
         '066dbca3ea8ffb83591c83d2c08e9098'
         '03d2e19c2ee42fd8f3dc658e4f267737'
         '8350ef124aeebcdab6eb3b69be5dd7ce'
         '09c07de4b99185d0b3595e8d2af35898'
         'd2257f8c5adbd7b0452482c50e1b4793'
         '1176f49e28f5c2c5c2703af01efaab47'
         '1cc86ca22b2ce0b77337285076a6bc39')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
