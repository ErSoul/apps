
pkgbase=firefox-i18n
pkgver=33.1.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('ff7258cc8290b15ee1242eded9892c1d'
         '20f1f98f8363789d18345a6b31d19f3f'
         'abb501abef2a7f5d30271cc03d8f36ec'
         'c6aadb9c325d14777157caeac3cfaa36'
         '3b4845cbb64c441f8de0126d76b4e669'
         '7136c466eff2456ec344b7f444b507a2'
         'b441fe6dfc589e922edb281b92784e7d'
         'b1acde75c328810e573f7e0a20b65e0a'
         'd4f1079d11b1340cb7e1b68c33ccfe58'
         '4e803515755253b97881e07c77f64f98'
         'b6832e36e74837e4901108f18fdddde6'
         '762ac34d404567dd1352d6200f5df9f1'
         '2680a3361d005eaad6dc23584a0ed853'
         'eb3983a7d222f3df0729adc50ca8f962'
         'c21ef07236b2e281542abed8457979f0'
         '5c3aa190976110b49b1c64284192da10'
         'e153c4a67fad8311035300ec17d08a3f'
         'bc3c008aa68dca25182600b4a091c416'
         '43d75771caf74ad33a18ce0e57486816'
         '4940071756c3b5dbd7757c47ed5bc4e0'
         '449a94b4a835d9271fc7403a46ff97db'
         '01f360d4d0416811de8ddd3754498636'
         '66d56ffb2f543ebae0b9dfbd461c2ea2'
         '70353bfefa3429b34f5dd5e49a92a625'
         'd89594d67ef2e1bbc9d5f64756af6659'
         'a278e644e9897d0e5889822c8222f96d'
         'add5faa030920d16e8ffa177c8b6e4f4'
         '404506b014d046cda3a43be61acc63a9'
         '8939964fac2359aee6ef3cc40ed9873f'
         'f6c8a219c6423b1683bfcce7f9ef75f2'
         '5c5fd1bbba7b373923ea5b44dce281cf'
         'dcd7d349a4e648eae31a783365e53dab'
         'da448d8b3080e604dfe1e7663cb4d261'
         'd518fd16db61af8007ddb62f72927852'
         'cb86acf726f35ae6ab9b18da9f9bc4cf'
         '1f4a591f7707c39f02e53756e0b7f5c0'
         '77b8b936388a373cb40a17928fafaec1'
         'ec5e8b9516370eb7b727cb8b9717a86e'
         'cecc987bb751cdb41a91e9b7e012013b'
         'fe99393e320202cfe5bbc022618e53f5'
         '61797e0b029725d5288eb405241f196b'
         'f89af7a1e9acf053a7e960ea7cea1ab7'
         '8bc8e8dd912b6a62f3e0a9471edc291b'
         '15d14cb96140ac09f32a747b96aa300b'
         'b8285e575f66d5e8aea69bcee269ca7f'
         '9a9a398666c9d0c1c346a35bbc12160e'
         'a7b483e404d17341f27f02472ffcb761'
         '1de7fb23f7b409e176a8603483268a6e'
         'ca85226449e1e08156e27e7e6e011be7'
         '6eb0bb24d3037e5e8f196785137955f1'
         'f19a1fb0fdf22a1921ef572458ec894e'
         '327efcd107d91f7457c024b9a77f0812'
         '1c5d24cf01d537178276687a5385b54e'
         '5c29cfed6a80cd3c599e66d98bc5a98b'
         '5c9371b4a3bae04e450ce1c0c59a72df'
         '75e3c403d89f26d64a74690c625a5193'
         '17710e3cd1eaaabbb6e73d4400094a66'
         'fd901c37b17d18a99a46af33ecf43f0e'
         'e59474523e6144efc999f855a793cb5b'
         'b6a5fe17a629e6335a0e682b6fd4ff48'
         '01645822ceda613f59829af90c64d8b8'
         'd709aacf32297cd2fcd8f53f00c3e756'
         'ceb1d3a2902bc73213630138d373e147'
         '52f9e84453adf58c102f00821a014a74'
         'b4e5f27d9351deb20a8c2c250e4aac2a'
         '00d5deab1efc51835fb571ba56d18be6'
         'f37b6279227e3e7d6c2489507622046a'
         '7842ca19bd2e138f6324d986ebc4d109'
         '721e5ead70e20c854885e4dcfbd8c730'
         '220a294e504e3acafa871543fca04ce9'
         'a8284585478481ed2da61b77441b5a97'
         '32610ad9c492b2bdcf24224af5c0fd71'
         '893a342c88519a29c475e8b6082b3a7b'
         '688dba851e4aeb5cb8df97d1b9f099d6'
         '796e1831f63eb0bca971086fc35bba90'
         '80fe5abeebe7fbbe7714c84e51dcf62c'
         'd4912398ccf06d3d8cea2e573c4b04b4'
         'aa5f6934ce7778e6046a612b3e51e6cc'
         'fd3ee02a4755b410ecd640f89980b804'
         'eb66a29629c2a2eb5b84fdfa5b4ca41f'
         '1852baefcd3e88998b0b04473dfd231f'
         '2a26bda518f1578d6aa2b61b81a3f89f'
         'f37b3e6df385c7c25291bff4d450f908'
         'f9a3f5fc0b404b0d4cbe18b6f110056d'
         '2a504d7b9c5681c720cab2cfc7644547')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
