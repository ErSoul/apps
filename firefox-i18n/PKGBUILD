
pkgbase=firefox-i18n
pkgver=51.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('e3c65ee9eb3f591f0428abd754bf0bf5'
         '54dd277577c884c0756c2fbb3cad3dcf'
         '41b2162dddf2291deb5029a484739245'
         '45545fc00dfd77720297fa4c589b2fac'
         '0bc3e3a303f12fd4947b09fb7e2acc39'
         '3bfbb14f5730c81dd81422befd74b2c4'
         'a73281f58a502794f0ecf21f7764ca0e'
         '5df3bf259bafd00c456ac8b751c31448'
         'b7a35b0159de7bc98d716bd8965e9874'
         'c8b5999a4db1c9638c1a3b56fb02049f'
         '4b31a274698a3cae5bbaa34583ee59a6'
         '4e26b5707d884c8cc4bc20e650c803e3'
         'b1819c2af3dd3f8d5290e15e3172b131'
         '872f0d1d040adf276d6a82bff7f1fe86'
         'f1555d3544dfc81e2939c97dddc83f41'
         '17ba9b08514f3699fdf6f5c17d040f76'
         '487f3b0d456094b60cac5ecec7ec77be'
         'f16be4c7913c059373fc00f07e0ef457'
         'f4afad2b294c251c3325f82d4004cacd'
         '903cfeddc789d545dca3cca484294193'
         '0d0e4221b49f5948b015578e9d0262d5'
         'f2ea01ef15a189ae2f4bfc31471edf7b'
         'b11c689cf203914be3620832615ad786'
         '0b4f6aa42a9635ba214efd5f39bbbe01'
         '60786c33e9ada3cf8388492e1e483eb6'
         '821e48d7a8e2b577727979ec6e6caaa4'
         '1e3b90984ff2d1e2071a008170fb7627'
         '208dd8bda626be1a3a8dbb367c0292ca'
         '9f5f19882e36c7efd1cf8ac26e3e1cb2'
         '6653bb37ebb89e2519498df64435dd77'
         '212e9b7b2d43be8159456641cecca01d'
         '0952c4bdda3983756e16cc8cd26943b4'
         'ade0b96003f1b212f5b1a99c13c850d9'
         'c86506b945062367df36dece06de3f82'
         '21b617c078ef35531209d02102241cb9'
         'e18aa6582eeddd4148d8c670aae3c052'
         '1fc2fe4ce2dd4b17b7d56edb803a84c7'
         'c14e6c0ae748b2a7a10c0ecd79bff518'
         '680852210d7aa76fd35585d51975ccea'
         '48124e64fa243fe560448ec3f667fd55'
         'aa7675aa98e6abb738901b4399b4ee4f'
         '48f786d8ec7dd1b2ca6b445dff8a16cd'
         'bd45ec9719bc5c7c9015cc4b355d06e0'
         'c33d4474584ac335347926f8bcdd0b0f'
         'a02834b126f01997b7d943ec0f9d1927'
         '55c79033199acc18a700fb6b29f403e5'
         '2ffa0134e92b29033f46de840a4b3e39'
         '6fe4b4080999dcb232e38b8e5174d737'
         'fdd9b5c545c411cd8bb7c2eda8fb280a'
         'dbec08ac91590334d5e8f7de61426ec3'
         'f3df2c9c9d75bd4079a24c7192cd0ed6'
         '53a764c657ea67b2c87c15c87e872703'
         '099de6c7807114fa222950aed02a871a'
         '47545875720afa2b9be78b1ab8ea7ad2'
         '7d7a24392b496760cee6894861b4eedf'
         '99fe17d8da3b23640e82df1edf887a75'
         'd78920c59a6821a5d268d61301baa535'
         '40428f57864fedb1c24603c364e3feb3'
         '87c99dfe8a6352e99a745f3afab56029'
         '3d95f98a9070c0268e98d81848778961'
         'a5be7d440e1bba5cf1c2f0506d90e168'
         '7aded14b78d827a16c09786c6e136f19'
         'd8c83fbcc8cbac6707c6b2fd181bd3e9'
         '2781387ce0ac6ebecf7ba3d86dc31961'
         '2db77ff0a4bd82c990f0bb193c812b98'
         'ec62e4211922e25bcd77b82709e14a9c'
         '8489675c6ae2a7d6bf15d75e3ac07595'
         '45b93fdd289293e089eb88a21f8e1631'
         '3d3c96e4193b0b1b0ae4a6991d2c956b'
         '358300d5e5819d635c8d347d1642365a'
         '9920a46a234f0a23fcf552374a38e75d'
         'ad9226f5bd0962c2cca7c2a8c0b94903'
         '5379e8a8a4b3d9ca5cd189e3c578dd53'
         '10a5b2fc94e3001d15c5e7f4d80a01e2'
         '9fc6f76a67253c57b88740e17ec4f2b7'
         'c01eb67a89b0d88c362f27b221ed257d'
         '84bc8369d57976d6df859760b262d59c'
         '4d6e9b42e2b6f6a470f5c5b60414e331'
         'a6c0fa4e0e6c6c785a66d4c94e04c7f8'
         'ca51fa77ba47c06479daf6b6564fa3a8')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
