
pkgbase=firefox-i18n
pkgver=55.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('d208f84919fcda2fe9bd5bb415bf5865'
         'ab944cba6837f19356d237dc80e72429'
         '1c83f7769578acf62c608a804a84fcd8'
         '68b9466d7879b4b7a86b94a1705647f9'
         '54278c002e07a483fd84c2a83ad0ba2c'
         '426a2bc4a934506b60891b9c29e57dbb'
         'a33450fddbc52dccc7ad28af53bde29c'
         '2858ac5042c31d125cc7f1b15c5f90e4'
         '6f40850fff9183676ea7c4e2f17a934e'
         'c5abeb2e2b5a5590ca93f491b37d1997'
         '89295cb531839681145e2203e16088ec'
         '83aa4257bee8d462d40b4075e69a7a1b'
         'f5d27248199f5b881b11d819cca47932'
         'd04bb5ca3f0dbc9504a833d9a60deebe'
         '0ac696ce941faa174988e7c75f9b0d0f'
         'ff5acaf883c4920038fe0ba78c582f87'
         'ca01c9fa4e82dbfe77d2d09464498d18'
         '383735ef287f57d5abbe1203b41a7f08'
         'a5a0fbedbf50cadaab672beac40aeeff'
         '108e7074e30e9fcbaa731a437e7e839d'
         'ac101f634bb2e0627bd118dec0e43b21'
         'a6a8115ca5ec1f7cba00246590472e74'
         'b7749872397abd049c20e2c7e42de1ee'
         '4b93e29fed201caa210dee0ccc551ff8'
         '2f098afd6eb9f6fed5bcd84e53c9a9bd'
         'd7c2700a61cc907b4ee172367254ef0a'
         'd404ff00d5e331d9fb47f07d916486eb'
         '14ca45168d5ed9d04e7f518e4455a97e'
         'f9d8463f3a50f4d062f70539f1d6f5be'
         '82168dee61e6c46719cb539d75e68b64'
         '94ea9ce1f320e89f2854ea7b1a6b306f'
         'ab425e69c9ae2e06c23e08d9158c3989'
         '322bfd7eb6dbc32ce68e80b723f0cd89'
         '07b70fa88fb2d47e6fca2f03cd61ed6e'
         '7625e85b112e853dcac78e038ea0005b'
         '4c67b5878f3c122ed9bb6e139dfcb8b4'
         'a5dd103a259b915de4836ec88eb7fc06'
         '4ce8fb88209cb13dc522d1fbd06684cf'
         '6d90cb7bab7a246520d26ea3f7141c31'
         '6603e60258545305c0cd642cd18be681'
         '86ddc713fe01c1a84b000238c6ae4c87'
         '0b249b85272ec59d1c5fcfb5d07b014d'
         'b89876e9b3b7819fd32061b27364333b'
         'dedf44c633ebc79744f2a4d143aa6c88'
         'cca4c0bac41070f63d47a54c929e20c8'
         '9dd2dfe35347a83dca63565566710a5e'
         'e88b2e849dfeb2ada1e157d7726581d4'
         'da552a08facbc7bc3bed3c40a21ab63d'
         'a8d3d40238187cf90d8164933cee157a'
         'b493c622e2c71b2d915be1550d0df6b3'
         '7d449cdf9aa4decdc8c1bc7b30270e77'
         '4c6db5bf7f5bade4b1a6168ee4ff5cf4'
         'd4aa0d48f8b48c3539210ee54f5180f2'
         '78169e248e6990381e3f827e604b81f4'
         '52bb9f955d5c68b1c3e39ddeeb3fb34b'
         '96f5d28dc63a3796322a89093496a03c'
         '87d95000d44e7a36f0d35428513a2de9'
         '94b23766d86d31ef1250bc128ff72e27'
         '5219b24dc56e31c75640a7433bf1eba5'
         'dd76542bc8680a6bcc252efd1ef0692a'
         '1daafa1a750abe0969f7f6710612b790'
         'c2a2d69f13016b5f1951788d79453384'
         '39f91ce7c39b47784137eb9a4c311dd9'
         '7cc5207ccefd9f0b398278b1ceb60bda'
         '3a5051ab30f1a114bf7b40bfd40b7091'
         'c0453097c997c06db41417db510f1636'
         '4c6df0c7d84f09884b9d37b1d5acf93e'
         'a7710d0953b4c27fd29d75622f64d182'
         '6eb35c9d3c6a100c022b1298715932ae'
         '1c42c3b7db8fb91abba31fe6814d54c0'
         '80db799960c047e8d4975cc7fdd7f376'
         'da77d58db16416a8c5d90a7b63bebcc3'
         '4c25c1e80d249aeadba75f29f1cae8f8'
         'd2832f855ca908a7fb4723aa9285bc09'
         'dae1a89537b5944c34972b5fdfde2dcc'
         '6eef60faf0d6597e237e48c6547ee820'
         '777d8aee9b9075b2409f39d6231bd6bb'
         '16a426c63e80c6f1537c1db826ee5970'
         '5e8994757e39df92dcf59ad4909b3595'
         'fb34d19a643c9f7e53b8316034dbea71')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
