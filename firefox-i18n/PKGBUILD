
pkgbase=firefox-i18n
pkgver=72.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('69896eb08f78157ba414643abc84f3f8'
         '2b9eeda0eafa793990eb589a82903441'
         '3277cd1ae2e364b30e70a17678306e11'
         '46cff7c946681e4ab4f691b6713086ce'
         '649d7a4dacb06a0076ebf172b91b5060'
         '83ed0ca493e7e9be74c3063c40df536f'
         '8605a01896d507362e59029540bdcc3b'
         'a5e323e84ddc65cde4f39984c34f763e'
         'e7feb9fccf65b54bab693025c7947b4b'
         '3afe31189c61d159a3da5add2886610f'
         'a18f28b333d32d1bbc19ef9272c58007'
         'ee23576b4d9e78477d09eb0e4354a346'
         '98c9da1782daf3f1af62ef20b1bf5809'
         '142e171fcb32388e1807816b1d9f2de8'
         'ad9dce450d1fe28ceaae2875cf371899'
         '7236e819670e2a5653b3823c6d264066'
         'd0c415be4bad0ba87bd4f7ce01b00b59'
         '23f469bc98dffb5d673c9f47e4c56a48'
         'cc923c1cf272a032e95fb3ee1813c408'
         '424651bb940f586adc29c5a61406873b'
         '3316011a38db2a539251c5bd3a65b3fe'
         'af5da1862ddd6d70c520b2793b4d50f3'
         '5e991ea4cf2bbf4bbbfcad29b5c3ebf6'
         '3238fb3fd7f6c6575c9418a1a7345d64'
         '6808210c99c675413a61bab434177c94'
         '9fc7186a33a8eebf84c17a3a904f0b2d'
         'e19d2bcf58c031253a85ba1c8f35034d'
         '4cca1468b9af2c133e65f0f7d2074663'
         '89b6e716049367c0c8f0bd4467d93cd0'
         'c5373034eb6fbe08d2d32bd056d86c14'
         '3080a06977ef23144311730957c1cfcb'
         'f4bb833f6f25bb67fe918bdd256eb6fb'
         '54afaad1a77f3ff0b611d4a659871fcf'
         '285b8dc7f918be0e0f37ec845a4f4351'
         '2e642275369d86713545d307ea0f89b8'
         '4a243655e604bca18b93bbf1bd893543'
         'bf0f0d105d17847e95f7deca54bad040'
         '2b7cd56ffcfb441875e421e699835b0d'
         'c94d92a94db93d55ab076067ed8766c8'
         'eef76e1b66adeeb184101f1e199f5017'
         '8cc2e26bf3bb349800159605d8f0f108'
         '298a204f463841d116a1a3f2c9805696'
         '188f8597358ee5aa06b672221424569d'
         'dfa7931e8cd0ee9d4dcfcef08457238c'
         '1309953ba64c2d9682a3b699bfbc69a9'
         '4f6ee76e123fb94dae50b315b28f35d3'
         '4a4a2ac710ddc34c89d4aa7c1e417075'
         'eb677e26e1c54598a9c5aac77d116361'
         'b8bd25a2312ed6fa1f04cdc2f982e6dd'
         '598427df3e739b857fd72806b3da2942'
         '83eae05560c28cf129f2834974cf5cc5'
         'ac43469bdae8d2ff247f13b8d8413483'
         '8edb049bfa4e6375f6657fada9e675cd'
         'e402083e9d77eea80a2928e5a45b81b2'
         '8aa77050d5ebb8b10240be4bca4164d5'
         '81cfa5722c2c494b9c9c77c3eacf5b5e'
         'f2d2a694605a6db3ddd2f54deef10d3e'
         '55f3751f4f1e8d75371abc6f7fc4a413'
         'cea01b688c24e32348a646bacc0f7e11'
         '00fe89cb5fbfeff12c7da648854658cd'
         'c7ca9f01049b1d03d98cba5355f73f8c'
         '58e2d558981484435363fe43afd43cf2'
         'b1022132adeefc9105e5cc6f2b9f02e9'
         '045fb4d4a63b7da19f77017e3e7f3158'
         '99804ef5cc945492343d90e8ddb13335'
         'b7213e570fbc0c59668b91c133b071c6'
         '7147513a02bb4833908652e4af37bdac'
         'eef458ccbf5a3b7b8c2aa40611c689cb'
         '3c341317a3cc3018413cc2c6fa4d016b'
         '0ed66b9c2705b597cde2787d7618d553'
         '038396f786dda0a602b8a4866c17f57d'
         '3a2e2687ead6c5a00f50f50dfe0ad571'
         '9e6164964434cbafabd80dd301b8f4ac'
         '861bc9180c653b89f4569c98758496e8'
         '2d7d1c5d8773edb954bf88a582cb8d84'
         '75c09a9629d951fed59bc394b564f229')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
