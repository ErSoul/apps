
pkgbase=firefox-i18n
pkgver=66.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('3d58832949e4a83d493dcf370cb1c521'
         'ec7a33f8cbed83bce64676d3e531d980'
         '3ec23f1b16523641dc203ce57957a2f2'
         '92aed3aec8753153f05b0b8b81e0655a'
         'b101c052f27e5f4f66602e08c3671f5e'
         'a45b00225aba299fb1ec677b14aeac3e'
         '864f84db5d0ef64343820824dcfb902c'
         '4ab25e2086e76488aced589206ce0144'
         '751bf182ee1788c2131257454d4f326c'
         '1cd45f69d856d5621e2b0e8dcfda5bdc'
         'e9fb3fb80b55903f1ff2ce955226d38f'
         'b0dba61f97682876262b13802f14f6ab'
         '54ba372308d563d15a209095104aa59d'
         'e7ff08ca4cabf7609d52692036dd4a70'
         'e6d7fedd3cacb84619b9acd32f3728bc'
         'd8191377a9ad89ca8fddec4e1f9161ef'
         '2b7b6224eb7f67a86656e0105d334aef'
         '79486e26f49a8307d75053d2f0b1caf5'
         '533fedfeb3e986cbe86662d0759564bb'
         '5542ee713d36623b75226738ac059bb2'
         '18d0c51caf400fb3e0949d6fc7f321de'
         '5d948ed59ba08717472eae99731d6b3d'
         '110cbaa4cac3190844a0a5fc652b89c0'
         '7e154fb46995873eb10a14e6964530ce'
         '32a281997f8800540cce61124a312193'
         '7b96e9e87767bf8ef644bf322c62277b'
         '14be8dd9f4266e2c1a09e23e78919aea'
         '299c5602039b3764b6310097d46b0b37'
         'e9640439d7a66130a24d5593390637e1'
         '6b530c41928e82f97b46f77412f32dc6'
         'e0849af46a60a5cec15593c479969b9d'
         '55f6b621ee4cb4fb74038a5999bb0847'
         'acd62fba77359018ab757421c09c43d8'
         '6d7541cb3540350455b322416861028e'
         'c9a53313ce0e4ba6b075d0ae418dd61f'
         'f845a5cc8751e126104551be72f5451b'
         'dd0af7a6efd8509b32a611aff9ba0dfc'
         '8316b49b42e4fad868ac1824324b196f'
         '15169f12c55c3b580e3cb5f4b835ab63'
         'd39494edd4efae06244b5c8f3d472537'
         'b8872bcb783a9e9e003760e8b1641de7'
         '6699b92f1ecb9081f28b8ca1b9670219'
         '605dc32653326c71edde5755595b0de0'
         '8776bed7891c2bb9fa3cb182c6ceb394'
         '0b9926dc88bc8bebd094add33da34182'
         '75a4c8a7d0336707e000dcf728a4bbf8'
         'a8212bc4774a028038464472d5cd1714'
         '6d0411fa97ab30afb1741082d2f85c78'
         '287e449eaba942900c9e43a8a1fb41ff'
         '4c126aaa62d94eb1336fee2659410573'
         'b52b1480faa8fe808079b060300b9af0'
         '0ece0f17062881446a11f74cf7861ac9'
         'b3f48dd1214937193a9c3efef4535bbf'
         '0858158ce33f490c2eb819e2a1daa68e'
         'd90ccb4089caca64dca93024c1e30ec9'
         'a85eacf314996e103d949960f8250d1c'
         '25b8f60fea431fedfa08ae77a403f5ba'
         '2096a680526713d4aff0912947c3ad0d'
         'd8f9d9e20a33eaa7d1c41fda5f842009'
         '80c8b67ca526af854ca9ca245b728684'
         '2372e68ef552e009f51ae8bc511a0d35'
         'ed0b63575dfe7f5d175b7f71748e8e01'
         'c2baff653e97bef7978ed22863e58211'
         'c09076d2d7da63736f6d5c366bf6198e'
         'a026e49cf4ed12e135f5204a64abc5a7'
         '1114387e4927df70027644d90b577d51'
         '500df52aa54f20d9aeb9555cf1102d30'
         '6a8acd6ae915408fcd8d7a8255829808'
         '175eb4a6e589bfe11c9926475076879f'
         '34d500d0f2828ac215c3c50f28e5a96a'
         'ef0a5ba98906475c083ba1ce2e1542dc'
         '258c26944f679c1e2916abe111d8730e'
         '745c5d597d0a18b51d2aae3ff57ab20b'
         '0ab44ee7ae6e79b1c69bde33a4debe71'
         'c433102f152ecf23981e83ab4b2e8c88'
         'd1a55816cec6a56ca346e2d7f8c13ac5'
         'df3b2cc68f8d3056004a8d6d1c5b6fa1'
         '50fa7ff3183233e2a4643b4b3573a9c6'
         'e05e62bec085f5c6959240f3dc7cb4e1'
         '679a9d480bdf49a2519a05878049f511')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
