
pkgbase=firefox-i18n
pkgver=56.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('dc71e7f75f67f333c1ebce5d18464366'
         'f3dabc03fc3aa236cbf04a2d0bd1e3ca'
         'c63976cc84c682bd2c85fbd9105f71ab'
         '0fb2042626e3e09afa4b7e6f4cfb1644'
         'dc22370465f84f69bbe0e061afdb9e7c'
         '5c800da5fafe6640d7042df7025942b7'
         'e6866405ac7beb6572a4a99ab9afb831'
         'cc8ae3e34ca4c3a6510c2711b83cbda9'
         'd0144fa2573648c4ca3bfa1ed61a8aea'
         '19f4d8e9cd89ae92e72344a01434c57f'
         'c36057ca0db8c5006ef97925269c2823'
         'b54f712382ae9aa44807253f0e634c3d'
         'e96252a745bbb1168ad37f4a5dcf7ebf'
         '6488674cba3a6c3c33243ca1f49e9d01'
         'ce24a0381eeb4748bb6e11753b8aa61f'
         '0309d0298299fc2335f6da148cc3fefa'
         '845164f1f903408bd6cdf5d022b7899e'
         '2e59a1d7f79f0fd0927d0ec847c2d811'
         'e1b0e2134cdbf1bbbaf43e3b6a17e579'
         '432166c2dc8e6c9e1ff9dee0e32f3eab'
         'bac0b20f9832f537e810476cbdaa8dfc'
         '2d16037943e4ea99a81bd6091ac85ce7'
         '509f8617ca22f29305138da11aff75e2'
         'dfc6e65981934159f59f5aedb55771b6'
         '8032a40b3a276a6d399af9208f5a2712'
         'ac0a3e8e6aa454c1597a13a98783e56b'
         '1eab9cdb7ee941f2d20abca0d8116519'
         'f45cfa41f5c885132ba4e2327bd95f1e'
         'a1c3ea804eb605ae5a03581dee43ba4f'
         '44977cbac54fb413b437932de7895edd'
         '7691737f5428357f385e936f388d592b'
         'a47804859f1bbdab4ab83e1be489bf53'
         'be8a858a30ed831e0ebe174a605f9d14'
         '0c97b39db4b3c074d07f68d85fb16cb1'
         '5f3939ba68bfe51438a6cb3767ee5ff8'
         '2e6bf5a89f9e8b9ab3c076f0ec771f80'
         '7b55915ee63a02d31fc805c4d3b6419d'
         '8a7c8c5cc639568bf3dd7799986dda12'
         '5f9731c7b8c41aba89806b7af9cfea5f'
         'd88d781f9aceafbed7511dbf9e859cd8'
         'f8409eaedf76a164c32fdf16c9707339'
         '440199b56f596fef12f41e51b548aa46'
         'ab32c2e4f54dfead230c3dd2dcff1d07'
         'a1c67fbee4aa84dfdc5e79df69597e79'
         '70ae992708fddd9ce7a9a8dd6fe10bda'
         'bf8071b3e87103f44619d90843fb2037'
         'cba290106255110d420b434a4d65d552'
         '86534baf3ebea97360415d9882aab648'
         '5695fe731dea3f63acd8da5161ce21f9'
         'd520eb58f0bd24bd8c108fbe271ee979'
         '5ee7375967d6f329d9b6ef42bf3b7949'
         'adee25e423c7fedd769c3d9d4ac0ea82'
         'e15fa708b4a0a5509735adc1451c2a14'
         '2da59788f2c432760ba2ceb3f38c8db0'
         'eda9b4ab061c043de7dc7300d08be172'
         '4c6f307429eeb4ed802d3b5f1385745d'
         'f968adedd25dd64485261665daa17abc'
         '1b1702f1be4d1bd161525d40310a1d84'
         '83b22f7c7d57599d0b65f31c0b88bbb3'
         'dc22ef947469b85ddc5f0c1549ae0ffb'
         '0c54f1492a027c3cbb4c7943780086f5'
         'f91e7206689544ed609acf2c03230100'
         'b40753ca062908f2d2937fb08763d74a'
         'a9666dd68ffb603b4f66f735d1eb02e7'
         'c4a8daadddf3ecd29dc8896d37c64bfd'
         'fc615341e855b7c71719e2311cb7e5a4'
         '56c0f024c34f199bf357c8d5c226d68a'
         '582963767790212e277000f707eda76f'
         '80efe8b85de296e5164e66cb0b977100'
         'f0d7552f414201de1c6d6be74e3ef2d0'
         'a4dacd13e5778ed47619b2dd20d1a09d'
         'e8b227d2ead419507d8ddbfbac74b6f5'
         '55138829230385015dff8cd43d4955da'
         '0cb5876857699978b2730a79efabdebe'
         '8bccc76fe8ec4317236eeb0b2e688da8'
         'b9ddebbef20034d7c56da74085699b4f'
         'bba5f4a3a9f83d1d4da8eeadc47a100d'
         'd1839461ca221e117edde86f343aa1ac'
         '772cbd6ff61695aa245ba612bcb96749'
         'ea873a8300942d8ef1d06a6121304005')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
