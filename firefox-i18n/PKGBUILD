
pkgbase=firefox-i18n
pkgver=63.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('12aff07855d584cd98c1d38a71e67c07'
         '4b74acbac0e6b0e7fca92df166dc1c50'
         'e4232ea93f4ea37d9c03fc7e34e4fa47'
         '25a81111de117c6a7658b4b9312d16eb'
         '76f5e4e52fabaf18c33c76fa692b6c96'
         'd36e0b48f59ebffd4cb191e021646347'
         '0f9b5c26cee4fea94f45d5a82674abb0'
         '577d49fe17e077d3fc92e39d196b62e9'
         'e85106028964b17cb3b3cc84b358b089'
         '5a59dde738f8c91609ba6d6acc4997bb'
         '225cf6adc0066672d7ce8fd5bafab69c'
         '96b127a466e3eceba3b1df8fa40a8e56'
         '44c50b4eb50829abc270a9f8efb5d216'
         'bff921017496394fc38d8fccf2cb0242'
         'e72084330f6968992e161cbb5a5db7d2'
         '8b548ccde3d06c81c3691d7d69d86d9b'
         '3e9f16bc552ba673141251ec90b20785'
         '21e0d12f2a420170452e446087b2673d'
         '9488d50637aaac2718e2f2c8b9d20896'
         'b6810de345a004b1c02164590a3a5ae3'
         'f4f0cd5e9555dc2dbf63d469bf17c1df'
         '10f48a811009b6892cb9c7933de07cd5'
         '4042005f58a498531d2d2cdad5261a6e'
         'b4a8a7d04df5552346a66b64a0a0e93a'
         '754995014f73a2ef39463e2bd76bef89'
         'dac79bb1b8915adcabd4cedfe7c5b9e9'
         '5e30b4bb9cea207fa35d267b1b55f7af'
         'd54af48424dc764a9df525e37c248b67'
         'b0215a956287c88446adc300689827f8'
         '1c336272f79359e831e4a3ec478ead75'
         '3418cdcbe812f6cfc71338d3b3e14bf9'
         '4ab81a6fc981b3963a4525991dbccaba'
         '81ab09d6107f92671cb2c1bdb30832df'
         '1c88c439b7f68e64dcd4be2bc80f78f8'
         '760618dae7146b12d02b6d77ea2cac42'
         '939c327d666106f739a7ad88a4cf2b92'
         'fa3d95e7f9a2eb563a4e0df434a7c3c1'
         '0f6d83eaf6216cb7013e395c8defb473'
         '74bf026bc6592f2302661ef5761a106f'
         '1560838b06d6b6f23dee51cc735372bd'
         '5173b12dd98cdf814748946fb27fb1cd'
         'b25bec1b89a415ad3f2c186ca1a4910c'
         '0006674573dd7a73df2d0f27745a3541'
         '6d838d2b8d61405d260fd2e60d0e2164'
         '091fde457aa0fdde66e824763c71b95c'
         '9061dabd96dec3535fda8fa82ea65bf7'
         '7b5d36f492534987e5465cc1b7950fc8'
         'b1cbf90f1cb4542eec5df3d3171419a2'
         '37db9e453ef69ad84752e03ddc5ebcd3'
         'a07ed8a1e725e9b09f0f484c92628056'
         '52a5666d3aa73cb15ad16a81ecf53500'
         '5c0dc83fa091131ac2e041e0a904af97'
         '9ca398c09972f5f7da72b8d69e9a0aa5'
         '1fd6ef5f7efb9e56513792d8f893cfb8'
         'a2facdff5c902bcefa41ca40c6ed2915'
         '490a81ba89ac547c7a5adf1a7c72152c'
         '67c41d3b8b240f2914be435fba701fce'
         '28108640789b311bbec1a73524f95675'
         '1ce2cffe9fbaf8c309da683ed57d9abe'
         'e2df918191460f6a8e3dca35a70f29de'
         '89c6e206b0539f8fc3523e42bc052593'
         '7d07e6093d34df6382e0424993366677'
         '1850d0f5f26a485e4ad8ce8f3f41b9b4'
         'b99f692590141514b2bd6c4bee2a2503'
         '425f978236ac8f130b78aa748aa1246c'
         '1bbb154a4689647fa4982aa6d1de5cbd'
         'a4968d933c08a2b8e4de4af2dc36b76b'
         '2289f2b6740881b046cefd67ef0e48c2'
         '4d4479b903d332cbc5c5d38909062f91'
         'fe7fa2f752c7c528459f0d7fcdc4bbd8'
         '252956367dbcbf4e6ee06234c0465690'
         '67bf4f1baaf51a7548bd073410aec438'
         '721de72ec4efaec2b4a7fd9469b5b01c'
         'cf8110aadba024c5f484d165ce303b4a'
         '0fac6dd0f70095ff796d2915c9b16d45'
         'af9dda9cf4e0f3ead07b28603401ad30'
         '72d0159a91d0d59d6093dc6990d0d0ba'
         '21feef607bd7c6d30f5e4994ba5967ea'
         'e0732d5283c4b89f1bcac9a9e6805c05'
         '22fe350e01a37b63bc3a2927b2c05d05')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
