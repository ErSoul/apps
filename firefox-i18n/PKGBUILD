
pkgbase=firefox-i18n
pkgver=68.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('f2b3ed1049f0100c428f203170f34134'
         'c60c8eb6c3f2a47248cb6a48b2848cda'
         'e5c07a826fbe29ac21344480e150f5b7'
         '56bcc85976c2edf159ca6258e3d72baf'
         'ed77d02c64ffd612ae77487b6817a326'
         'fd1c0b442a1c890e143407d0554da234'
         '2638593ee5de2788fe9ee0ee33821dbf'
         '890cf1bd954dd8e75e4ad0d4abd248c3'
         '10e5a9d6258e4808d2f9cd4106c8413f'
         '19d8efd751e2c467a0546f28eb754c5f'
         'ae97adca9cc7c12fbee6544edf702a25'
         '533986fb441dfa5716490bc3af71c1ae'
         'e8018bc2174b752b242652ac442002bb'
         '9ce55b1488f0645b6b18bf545d5c4745'
         '3713d2b2f7896a3f30d1267ea508e2f6'
         'ae91b42828b3ff6a9c90f49c71fb58e3'
         'c04702fd2c1d7faf180b2d4b03d5d925'
         'fff5b0727f25ddda82ef41407285ab8e'
         '72cc9c302a86a6d15333ce9ea121d6f3'
         'b51e6badcfabdef8fe6c3eae592037d7'
         '808da59254f5935ebef1a8f67f37b7f3'
         '0bc4d1ae51fe8b52510401f82b4ba4e3'
         '09df0223ee8ad3a4f2624aee23ea6088'
         '27c19f118356c1614e06be8b231c2d9b'
         '31ef1d88a4ffde59d338fe364cd53990'
         'ff22439ffc7865ed930f88a4804c7d8a'
         'c15db59a2d82cb9b6bac0efed57b1c8e'
         'cb7d9d4f394e169564bf89ea165e8421'
         'dc0e06d599e699e9b9073bc99ef9799c'
         'adecd3eabf2e0e7dd1c548408869729c'
         '955664993211c0123f30e5240dc2d424'
         '41a7b005a0a59dcd17cd08519e5434f9'
         '85e229381406afd6f865d5c09980f145'
         '7952ba7995ba935ab29d00002b9a5e22'
         '19e37bffffa2e0f9a32cd6d5790109df'
         '36990de6232649a7090b92159b57c618'
         '0ff557c36822a853ca5670158b88e689'
         '1dac6992e2c417080f242c7111396610'
         'c60d09c63a297d337186f0610d96f3b6'
         '852c7b1044934e39dc2216fea51b5de8'
         '5729b60dfa9210cfaf065ba6f9dd8a59'
         '53c33c820a006c356db315915890cd28'
         '8e9ce27f4de58ca68619361da98da9e6'
         'd93f71341d68f3f17b01eb17997d9f2e'
         '38d7e723013fc38ea9ce18c066b9650c'
         'b6d2f4ebb65a9ad40bde3fcab83e2fd6'
         '69a8059a6b3b1a376786ebc65c709b5d'
         '550bfdbdec4b0878a09a6a88a2f7e2c9'
         '457c258f04b0180ffd461906565c35f1'
         '85dd6af135041ddd2bf6357a23bc7104'
         '2f076100a11fe2809cbda6d11ac27c69'
         '5a836678be9a0822fb6ce802a173be8d'
         'beaaf7b4cbc78dd7ee90ea0acf4fb981'
         '301d6d94a61d3922b8caedef9dc642de'
         '83dceb15e86cece62dbee2baed70328e'
         '554c13066f43570e17963e6112d0da37'
         'd859209334388695d49cbe1a91db979e'
         'a4b00de3d2fc847043fe0cb281651406'
         '168d6158042a98ebba6cac6ef445b036'
         'd91f6bfccb2a513de9ba1b9fd13c8c0d'
         '7fa1c1d0371830b1d06f3e0deb043cad'
         'a887f2fd9c60c87b716331f1da381783'
         'ed2932a66ff73516ecb77be1fa34150e'
         'd5e07d02123679848233dc2b88f14209'
         '33f132a01fc06cbec8aba1a395a3c6c7'
         '2c94da12b7f5e8f9e2021f08287a5331'
         'a91fab0f12be6524ed1c32c34ce9c0d4'
         'b11035dd702e9d6098a8c1a7a7f68f79'
         'a1ca192a736d791b08371d512c7b276c'
         'e9a02f6d96e11966533eaf0df26536bd'
         '886bc35b47901bea91ad95a15a815275'
         'f4cfc8dacb8bf5a50245a7f48c431072'
         '68735a7c5513f609c334b036c425c1eb'
         'b6ca7d5e8504e3992c321eb80aa27d6e'
         '5c6aa49f5aed245d0385e4270f65c54a'
         '571d5330e64a232030a1ec2b19fc744c')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
