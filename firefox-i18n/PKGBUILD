
pkgbase=firefox-i18n
pkgver=37.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('b35d88832f0f4c42fc7ef45fd22416a1'
         '7699b4a596979283a6bcf0243ab2728e'
         'efdef46d05e2604e0e4132940c3c5b8e'
         '055dd3141f759abb90f81ee61e2e04b9'
         '2549055e97aae3f0e010049bb0a045f9'
         '52af1a05ccab5198b83eb585daf143ae'
         '68fb518d5beb01f84cead7fa538948ae'
         'f9f244fd5b17f057df7ea39246a31c2b'
         'f645ea4500c529ce60f1b14302a3f6b2'
         'b7e0400d3d5584910ae4f71a1abf0b2d'
         '8ef3b824eebe5569e45167e2ff0b84c3'
         'f0c3bfccf3c9998c23ed545bc9494967'
         '2e7309af66ea3b92800a53ba5ad3f307'
         '95c8d2327b567fffda30f8193e95a6fb'
         '0b1d628a3c7ae8505ce2547e8168d171'
         '99066846890c869321c3463593f4dd51'
         'd9f9b3cd88f9a1fac83db80b0365eec5'
         '289561326043edf6109aceb615976c77'
         '0be750d28ce3ef85e17d217fbd067738'
         '0eb30b67c0866959407644b0deb32fcc'
         '6b581689b41f14596262d558351eb952'
         '0fe5fbad2bdffe5a86d9ed06e709a093'
         'bdadeab3b7514a0e0f489f8ca9e83cd0'
         '68066edf9d9e80cecba543dad66d2ba8'
         'e3cc2070418fc432f27407369d3529f8'
         '6cae489feedaf3d617864c6ab9a5098a'
         '96001c6aad4ab7e8b5f6bb7b19598926'
         '69d48c966c3253a279efcd772b4eaa05'
         'd0452162a0b3846cce579f8379e7d864'
         'b91c3514dca5f18fdbf0fe2a3d4d486d'
         '97df1f710bf8b8da4d14d8129caa5630'
         '90b37a26b4b51c264d088d9d53a1ac9f'
         '8ebc1c0dd6f935d3806798f0b9282111'
         'e4d057a1154f25d4f134ed370ae9010e'
         '8967058bfc8a5957731dcf9b9b72680e'
         '276dff68af8c40d6409528c0c4251775'
         '343a8999bcc0023d789d7f8e495ca4ae'
         'cfbe6955c6c6c8ad1fbe7fc42d0826e9'
         '87d6f7bbd751cb41f1244842bbfe3d74'
         'fe288af5ddc84571cf80b30db3858ac3'
         '8d97a1ec053335338ad20fea227fef6f'
         '78bff71a54d8959feb879c7051edc9dd'
         '2220604a6d581269c13252a6021d882b'
         'e198b39f35a1b96d0cd658465c211ac8'
         '31c0d6e7cb2932dd4061134e5600e5f5'
         'c4c3e45f86d6c5e9aae8e948096a4976'
         '766a4e096eb2bd663249be1a1b037094'
         'f629d3e0b32fbbb645cf7d5080da2e0d'
         'f04ebe0f275845e5ad01176707c96130'
         '6f617b352243e5cf92e7bcd76d69c91f'
         'e2a48d59d435ad00e24c32390b0500fd'
         '91a9309346b5502b0e1633adf1f25209'
         '8db04612c3b56621e07cd3bfbd30fdd4'
         'aecb2d6349ae1fc84ef4084dcdf29d19'
         '701368570c0eab6f6ead23511092f2f7'
         '24705768bd3fbbf7558914bb9b85048e'
         '5a4693505cf1be912779066db7f5af68'
         '401fbd76ee9682ab664fdcfc9c549494'
         '2c70528ecb81b6e4ea6d41747e40074a'
         'cc0de24eb69f36c57406cb34ca4f5444'
         '6d66d5949fa8e6a286a3b4a8e35c6cce'
         'a6ead34d12d79682d5512560d269d565'
         '52c15ce5218cdefe097eee16a07ae39b'
         'bccca5f6d837540043f7b1682ad014cb'
         'f2c3cd9119b9b2e2b98a94e875a92b94'
         '78252328d515b865261f35a952690c62'
         '3728add6660d48edc99394e5e883926d'
         '04e6c3e1d9732e0f35134c027424ae96'
         'cf3e3a128b5ca19ffbf84ff2ed596db4'
         '405eeb720ce6153b63deafed8d113ae6'
         'f2296f917c11fd35a5b0f7c90e9d6ccf'
         '09c89461a1132137a1ce41a9343ac7ce'
         'c7cc7aa673288b13cde042b42d76d475'
         'fca4f7779e185102df919bef5f44edc3'
         '774205b4c47eb1ae8543e6f950d2f5bd'
         '1796d55c70e6a7a700416f04e0235681'
         'c902e584f3df0fab647a5f7a944c19c0'
         '970473a45dce537fca68d38e62e46d47'
         'a252b4532f94e5ab31c201aef861f48c'
         '655b4ad60f89a4366a925298988d1e4d'
         'df9eff992255388333ac0eec33843380'
         '7d2dd81f43a2357070898f3961ce390e')
_url=ftp://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/firefox-${pkgver}/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
