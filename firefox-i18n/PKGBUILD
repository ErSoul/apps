
pkgbase=firefox-i18n
pkgver=58.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('e4ab270af50dc0da37ff0c7d91e9e216'
         'c591a79ed64b54a52059647836b86746'
         '94e74bc418b1e031d4059eb2d18103fe'
         '194b1b150e32b274384b8d77acd0c401'
         'aaea546c7fa3ff67c347a0a542315ac9'
         '87aa20ac1d67769545d102b957b8c0b8'
         'c585b36a8ad324edd70d523911437f4f'
         '61ae6c119d33c927d5bd63de7609cbde'
         '3a78c0ba379796d5de9215efa763c247'
         '4d680d47aced556d71ad3987acac5646'
         '6da029320597331af2a9323a73b7feb6'
         'd9373559ad8191a250273a698b1c8b3b'
         'b9de2c484924fa7c8637d44b69478bd6'
         '2ec9d95896d5ad81331879082d580391'
         '38e99f6789d8407ca6985439240bec23'
         'bafa53867b76db2d6866969fa410b806'
         'b0313059e52d218dfcd45b38d0a33a74'
         'f9d0432eaa04fe56596fee11cfb0a9f0'
         'aba429a9e2a036b98a0eb838f227a696'
         'b85f5c61e7e2845f2b3e98c7a31f63d9'
         'a2762d34563e57d3f9fcbbfbb6e46bb4'
         '07520c76d9bd1512b90f20f4da1fdc32'
         '86353036c2d9c6cbaea07c163e42c195'
         'dcc302b0b5e130156cf222c3818865b1'
         '84a889c2ba01c7f767bbf90e22868b5c'
         '5d9f72fdfce776bef011e245b924f725'
         'ba8f6fdf492818e2d0d88c2fb7b8c6b9'
         '417c78b1cf71b383c225c0bc0915eff2'
         '9d5c15363cbd2e1418e77b161cfc696c'
         '6b884055e3b50036555690a6c63561ba'
         '068c14c3a8ab0c04cb763180b2f5a940'
         '1cfc2b4e6eace37df407630c371c1d8c'
         '36ce982fd2c5a58cb2a3a0cd3577edb6'
         'eab790f2879cb618af77bffb263de015'
         '44d3918713bac030f1682ff122fcde0a'
         '1e22b5761453cedc6771f3e6e6f58b48'
         'b9024c5a77bd37a91857dded1cb7028d'
         'd524dd34c877c7445030e1ef20f8cda1'
         'f76f8f662318b991240c59a341e61c7d'
         'c878e2f2ffb3c47fa504f7d6c5917feb'
         'd7da6cc6155865123d9c385e065fabe0'
         'e7110847ea7ccc89c931326842781115'
         'd6aa2b93bbbd7ad4418727879f92b352'
         '6c9dc6f4839f02d5b5cb5237ed690665'
         'aeafb25a412e0d352c74d2b9287a2571'
         'cf2d66d47e9fb3c795cc00e20694a047'
         '26259b71400e591f17833f5231fa504e'
         'ed85280edf68cbb2d90a1b0882512b82'
         'e0cae44e940009764abcb7db0db76963'
         'a5ebc9428b6c03d205c1acae8472775a'
         '60c49d88e2a92698d49e89107abc0665'
         '064cc7395bc1a98f3a0b78080a311b5f'
         'a82262a37205e608ba0406c771473e35'
         '4987fd6cb8d8b9821be78b95b9048f0d'
         '65d6a0976bc483ee7dcb0a52da73607c'
         'a17a6a75f0173cffa92daa5c752223da'
         '481d07558d7a7b6bd26633cdf0b3b47e'
         'bfa0441b33d2547cba2d77beada29d6d'
         'aadf03e5584c1b5d478655527f77b9c7'
         'f6676f2329b7ec93415e65785ce79629'
         'dafa9976f321eee32236658c13db33e3'
         'f7f5c4ab40de22fb030ac02196b0fc52'
         '422739ec98a62ee130c66e63ac831e3e'
         '2a8973127b0164819f1f9c4d2e1eb8e3'
         'c13281c453053e0725dfea3d9e564be3'
         '4dbab0779e90c33ed965ea645cb475fb'
         '88d829002662b854a701ef7d51dc374a'
         'd31b2bac1b3c23938b98b8302de47b41'
         '15a178cbf811a37d473d92044580d1b7'
         '17431c2b63b6f1a6c1a9db8179e4dcff'
         'd98fca0b667e72028f069fe9edf43d25'
         '686c24db9527b10fcaac8cd07258334d'
         '715ff53409b8ee2ee663df51cba366f7'
         '1f40a5a31cb7a92893b1f33447df5551'
         '0d33a5ad82ff702b57e99d75af69ce62'
         '6389499f0e45f33d0f88d21665b5b9af'
         '258d62b1d2871741a2f0acea175025ed'
         '7ed889a5e48725ce37782728c36f6aa4'
         '93f22fe6c8fe82d1f6edd1ad95bee98d'
         'cfd1251ab0457c86fba5d40fd97e2c30')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
