
pkgbase=firefox-i18n
pkgver=55.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('2200db53871bb2909d9fb2830bcfcefa'
         '5d2e77dc66a47770c702ec4d58a59b08'
         '29ac3637b6266a8e89dd3fef95c3dfd0'
         'ecdb586a74cc3250fbd72ecb1e7cb39e'
         'ef7b074bb2384eedd1f39ccef473ff1b'
         'd8f6a05d563efff6f8171202cefa1b02'
         '01ae45302b8d84ba81f674a29b89a446'
         '2eca242f9f3028946a1287f0b268bfdc'
         '17df817608881c7cafe5fe05544341b1'
         '847fd04426a7a6bde14acc69e9ae3596'
         'aa6cc76354967587d787f1fd52a810d8'
         '4e74bb286851dafa2a151a7163b2dd9a'
         '607c79a2426cd71252aa22eb728e30a0'
         '4b0c39f71dc2724f0aecd63e8e2d5574'
         '875869e0b2ab2e1911bab7d499741ed8'
         '1c9d336df573aabd31c5218dae72d2aa'
         'a6af3333db16b482c8728d7beaf265f6'
         '0553c4eae5dde0d036a27ff898267ee0'
         '959bfb32ee706f0b36ebfb3058b8b33e'
         'e98e4fcfb418b62ed752379cdbebeacf'
         '59437d577c82b5240ed279f48e5a6f26'
         '26ed0517e2075134307e445913248add'
         '405ed9ede1fe843efb5cc5c576b04de0'
         '232445481a4b2d5c6c42895282366e0f'
         '8eda870c66ee23223de63b4ec533b395'
         '31807112237c9061ed6e58d5e91cfb93'
         '45af69a5449e7e1ce1933fe78338a845'
         '35979ec31bc77dcad147f4e0e68cbf2e'
         '91055ceb9bd4043d65ff1ebde40f3a92'
         '27bd16f3b96d8429c0cc183a4724285c'
         '73981adfa3b3450b1615382c46a57095'
         '80269f21c6a0135c39ebea2f70a2b73c'
         'd1bef465b3a4131e13f395d6d838ac93'
         'ea46e172255b2fc095c6266ff6526564'
         '36984024c6433f9ffdbf9383ab90369c'
         '1835d66793e182d003d5ad7370f48483'
         '04a655fcc6b6b6c306cb2a013af195d2'
         'a2c5e859bbafb4344b735eaa4eedbfaa'
         '80f13d871f36c24ce8fcf30d1349cf9f'
         'bca2847906def449421931bc782db7b3'
         '7faa40a1ff3ec74e0b1879ec14601759'
         'eed3c494945f56bdf20c594b1b60508f'
         'a566fe5235a9e2ff68e7338c6c889f09'
         '757448ea9dd180b6e3ca6f5f67d5f4cf'
         '60e0957394fd13f71121222b8c760f54'
         '5c3b04acb23226eb3cf7123b3602b053'
         '649060c0466fb5d62b189e68e87c2efe'
         '89c07a3f4fc86f017446241ebcc47017'
         '2e7df85f157e64b02c8e05519a4d05ce'
         'a14571e24302872221068fd3342a626c'
         '4cfa4c94a3b936becbfc870a1d19bdee'
         'f83223b84374bb256d4f7b83c349f242'
         'cd8b8dbbac1146fed3d2bcf6af222598'
         '0307939e3b0a6b013382f8d0d5c96f30'
         'e23fbdb9aa741b6325c5aed0c53267d7'
         '724d5e4fb505bbf9037fd12e3a091788'
         '43a690649f29f6afa2586bb716634a2f'
         'a8c8c05c9ce142dcefee313e4ee29dfb'
         '765a40491033a6ec5ca36638750269b2'
         'f5066ef30cb752df6fa230693d1993f7'
         'ab6dcd81c7ec57ee0e42e60fada7e005'
         '8beaf04520ed82b312087ab7f1b9c1cf'
         'efe2309d1c5aedc9f29f66a15f9aade9'
         '0c009cae4f007092f724c5b1eceaccf3'
         '1a93b524a77ceb4256fed8446aecde3c'
         '9d8d85105feadb20ed36b5f6d7071245'
         '05272026ec3d25bc80fb2e3c9a0b5e62'
         '642948e0fe5df36a793bd792c2c11746'
         '347d81411b9d7c5b21d179c6248e1b72'
         '0bd97db585b31e0fada5d92f119f86ac'
         '027b76be1a844a63995b301e72182b27'
         '321320ff2bdc2c70dc71f4bbb2555b36'
         'c83a50fe0ab86ca2f7c8962ae52644fc'
         '8d094f4faddae7955338fd609b830f34'
         '958a214040f059ded09031d3b870b728'
         'ade43489d1001df784536e85cbaa1447'
         'f1b0f4b3a28608d95400a3d6de3a548b'
         '359a5ceaf744ee06e3fb21ba44c95b55'
         '7bd041ae45f2d9770c06fda5614fedf4'
         '48da721a8b4fdd05b90aee7386802ae3')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
