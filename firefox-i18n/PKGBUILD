
pkgbase=firefox-i18n
pkgver=67.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('956563e5960e1914ebc74af7ecffd5c5'
         '3451e10a5e024056c10f0164cb8f093a'
         '9934669de9d2f874673375c6bcd8c55c'
         '8472f2b3a3a3c528db6a12a99b2250f0'
         'eb47badf6ba8a1f7914a825b151a337d'
         '5718471ae0a1062af30e95aee911253a'
         '4d49b9970b001852e75d6d5d63665716'
         'e225a14e6b22116f27e2e6867811638e'
         '1ca290a65cc9dd18bf11b8854b401070'
         '5356c99c07710437a32f7dad7c0da95b'
         '9c2830a27cdd021e65557638a01a237d'
         '93e60d53db62cb54742198438d6a431c'
         'f89cf54601b423994ea9ee1513cdd82a'
         '43263942ed6a5852e769631b30087ba3'
         '03a37d3a7e1b9f812c2ce18fc0265b93'
         'f746d2830748812391b5f94dee9d1d84'
         '7871553750424a225918f99401f5e0b2'
         'aaa17fc601d4d827371bf86212d51574'
         '2eae53ab8aad42877d9a7c283b1cf517'
         '1ac768af2928409083a6a6079828dd1d'
         '3d357e41d4ca1858fdff6271978c5aa1'
         '4c09230669a8cb3f632543d8ffc039d7'
         '4674521bab7decdc2af9f5cc9f420b85'
         'dcc96d0dacbb3723468a56e6e41dbee0'
         '14dc6c265aa7e134c27486a14f139218'
         'fd7427044e73bd837d7687637c6ead87'
         '29c91f185526f77d23fd7f544d405444'
         '90b1561a8bc3fcd2c808000507761d78'
         'aa2e02ca7e93421ae367ffdef4fb75a7'
         '5be206fbe809087f9723dee9b876ed34'
         '1940d7966ef7b6d801d4879782cb52f9'
         '473a6f61b4e9f3ebc2b322b1dad47643'
         'b9c4ca3e71462bd373dd4afcd2b66883'
         '991797574dea971e32d32e086d50c216'
         '1394cdddadbfe7d379696d85dd14b082'
         'cd3610e2343def7f0be10d8464f47c02'
         'c0b3319f1e67d1589a295fd40700a513'
         '5ca1d0e25d4fe58c69613d5881308c11'
         'b8fe5ff2a9dea337695ee830f587e1f3'
         'de54eb1996fd3213190efed3c1b95e0a'
         '65c2cb3a8f708d5b50c878eb6177acb8'
         'f47e18c9f9101a3d7008cbeaf5cdfa2e'
         '4ab472cee8fda7fda24c61ba00e98767'
         'b124e66dec24410f6fa6153bd5e043f1'
         '675ab7a304858137fbe3036eec79ea1b'
         'c9d0adc8b951dcf9c6637b7ddd8ac1c9'
         'cd2db7685a1982b8cbdf92a279ae6849'
         'b964a1b4c4a58b5701865de453c5d34e'
         '19b20058df90a7d6ea753c20abfb6991'
         '50fd85077e3966866f0a1498261da138'
         'd7cde1fa063fb0e485511b8e28141920'
         '9e6072147c5cb641e5be14233fc204af'
         '6649439eccf6a69dccdc1a5f5845c7c3'
         '1455d7e68269421d6efb0bab2709c28d'
         '89b0bab607166711e0ea9eb12d852a49'
         '8b996485e3ce1a1f36fd4e03f3b1c35f'
         'b4ffaa75e41c2975c14ee8fd7f376cc6'
         '4a394cfc2e455ac7a6b4d65048445a57'
         '9eb858f7c5e8a8d9ff317427560c2d59'
         '1884cdaafdb22a54c2942971c4bdd326'
         '6ff6754969195a33fff7ca2681ba4374'
         '6450ba222706db39828c9d4e37f15cf3'
         'c9a806300eae1b62ce2f16bffdb925b5'
         '5b834c3549a50e051f99ec9e81816f1d'
         'afb65413fa7885d2d11adb4d462fc98f'
         'f305c7ec23e8414529758469887fea4d'
         '6459bddc90631f587a948cec79b4150d'
         'a0f646fd47e997aaffc7a358dd146fe0'
         '5817584202e5599fb18074b62635dd73'
         '1bf0004994a852421baa0214a41b3f64'
         'a6e6881e94d0b6aa8117306b9ca4b614'
         'd423ea9f62da4b15bba0932447b0d4fb'
         'f443daabb6ff44bec9e0073c874f6556'
         'b2607210b18f02667f7965036110d13a'
         '6b5689c4ff843c4133113e5248333a6a'
         '7a34d62d281787bedf91fb8c4ef6d275'
         '94f34a737b4413d4600eac9ff0055311'
         '7b46d68b1dd4cc9d29d2a92b4e9683c1'
         '5344d7125de715bdbe18c74804a1069e'
         '7acabd87d13f1e5f2bf7f83000853ada')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
