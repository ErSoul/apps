
pkgbase=firefox-i18n
pkgver=52.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('fe8f21ada418fe833a877024bef350f4'
         'd5d9e3171d47953a54f368c0825efb39'
         'c52513e9f7c0df1045d95cdd9f6c2a77'
         '5ed1d6320b806f504353a89f0a70587b'
         '02bd7527ec779303903c8f5270eaa4fa'
         'a7fadd5d64bddbf7f3423b340ce2cc8e'
         'd636bc8ea56ade1c9bcacdef8fcb5e6c'
         'ee00147cfd8ce7c2afc76b4dcc1fa96e'
         '6d82a16cd47920b6d92e110e05d956f9'
         'd1cd303c76296f4a2e04f204885d82f0'
         '6e7e1b6fe3fee2c9aeaf989c78539a93'
         '6ce2bdda6504355553f1994063d00cf4'
         '351724d0c5557a0f9c09a9b2332a8c76'
         '9c6b68329a8d96f40c44e7463d4a63f3'
         '8cd1d033293786d54bc5fc5a8926c5b5'
         'dfac60fb2c7b71e1d79d48825ec29a79'
         '564f9d99d961207f1458b6e71d854b78'
         '10100dcab35961970b3f48fe4c1c05a6'
         '2025bc710bf92012b3de3f85b8a55870'
         '52a0846d410ea99683e8f245b96f217f'
         'bcdee7427b9a36ce55b9565af57b6a01'
         '61a8be808dd61998d249f41e8360e1cf'
         '0b92a43ce441c352e07706f04544627a'
         '909c2fb67c24319ec9bcdf7ec8aa1634'
         '3951ff15e7eee9aaebc9a3f2d6204e58'
         '613a741e913c663f9ce5aec9bb34de06'
         '5e80364b0b178f0cffdae37411f1dc90'
         '23b24094fdee6de6203cee99172b7ad5'
         'f61e1528024674f4a55fce45705488db'
         '234265c889a83bb207ab295a0092dab1'
         '571451a50161c320cdb84f88b0235d71'
         '2e27bd07202886ded4b9011ee3b280df'
         'fcddbe3b0491d09557ec8013df15900b'
         '15f7f3ee7b7627dfa6f0579a554d8c47'
         '2d8c1297e4021a17f424697e20d79ee1'
         '54df2fa95d409158221ea00c60b1afa3'
         '35566cd69dd07074fee89714386c012f'
         'ad601b72bc38aa031696b96bda9cccbe'
         'ddaa560bf50e249101e1eaa0a5f07586'
         '742077663e5e4372f16813eadc738fd8'
         '734cbc6f4032280542e87a2a64aff257'
         '8d1adbc086df5f8f864068c28dd320c6'
         '0a758d6eafe9c8fb2d72e68a30d7b8c7'
         '62d7110682cb16f5221a46a96af3a703'
         'dd84259f8fb4dca51cb8a59b1bdee87a'
         '0b1e967fc790349c6a017b4457508a9c'
         '586beee9ecfd99f9fb21c6feabc1d7d0'
         'a39f0877d7deb5df9106b46cbeb74918'
         '6410856547198bbdfd57bdf4fd82f5c8'
         'bcd15ea4814bae1f6c494f23fe92457e'
         '8e12fd1e3ba65752b0967ab375e86727'
         'f810fbd09df46fdaa3614ce62d29a33c'
         'b4497348b2dca38f1a554cf7e423f109'
         'a4902941bd08f8e6dbef402ec6570c31'
         '07768bbdb02629c102963826ee8a33f9'
         '1cef8fe544a86c7356ace4825e437f29'
         '768cc628fa40fb4066cbf0a167a5c62f'
         '20b00daabcd9136bf6df9cc800a6649d'
         '16b76fa75d8b946c508bdba985e0a1f5'
         '567e13cd957b9345524894d032c3f052'
         'd6bda725fc2ac33ee3ca2967f8fc6c40'
         '4e42520dcafd073c195e6d65c082f8f7'
         '1dd3a7289942fdce03a5c9f3676a8543'
         '6a5ab8e16dcb86bf8405b3ebd19a50f0'
         '9943fb3af3aa5bd29df6091c9dfecb86'
         '120b15380b913fc3916df5ac55c36c90'
         'd47b5befc75f1e272bc66fe46a16a817'
         '0f683fb068e442a589fcbe011442602f'
         '06f55f82029adfbcfc8bfd6e79e54f31'
         '1d90b65b07a06ce51d4cbddef0ee0fe3'
         'a9dd9c65d49c8edb5e22d9e90b07ead0'
         'a5898d5f27307bcdd228bbf01f3672f1'
         'd62085f29924b7b2406f099735decdf8'
         'a9e15873e5273cab4c36b28a3b2349c9'
         '5b60bf1f71bc3bfaf40dd553900934be'
         '7c1c3d4f81a9f974727f9e4965a0129f'
         '702c48696e2f993411b54eed606db1b7'
         '3c70b1d24f78e299700b160aba9479f4'
         'db612c4d58c938c388f62518bc6f1625'
         'cd6ec0be6b382f078e6bed3f71bb0ac7')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
