
pkgbase=firefox-i18n
pkgver=55.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  #'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('4d73b824912ba83c09cdca35f0e071a1'
         '8cb9f6256495c8472338a1b62bec237a'
         'a818afaa54fc86029911ef441d0505d0'
         'e3d7c2bcfda42661c9554c5575f5863c'
         '6c5d646bc24b41922795684be1defe7b'
         '314a53f05d363c64e55e9e3c7c40a583'
         '431ec69fb28b23ec9f4165b84706620b'
         'ebfeed801151b90a15e4ffa251ba5e94'
         'fafe09c996fe9ab528978f7cc14b006b'
         '4c394f924d04c15bca2d4ae52684ace3'
         'd43f87931179bd641dcbd0c634916bb8'
         '6f18ec8413e705e0fa88cae552024ee3'
         'b609705c17a1932666123f6e33f05f3a'
         '749ef20f55c84aae0a61e1229af2bb5e'
         'a8d1ed65c8df0c84a8407b2799c22358'
         'aede19c4119942f7d43b257dcb53828d'
         'f50c3cd84bd2fca5ec7022dd696096a9'
         'ed9ae32538f49285032824d7e336a7e5'
         'f980b5d7f5de6feaa145b5db09ebf680'
         '2de746cfaa6156dc99e239bfc66f5924'
         '50dc86f6cc2c9c11ff8459c41a679cb0'
         '51da3d714b2c46141aca7e4a5b18b490'
         'c05aa90cf9b19b719d7b18e5b9f789fe'
         '2473a303295c427df09e60c8af943407'
         'c1eaf68bb218c7687c9ba81bb33740d5'
         '55668522235519f98200df01ee6c202a'
         '4f75a84fc8505ca271c45dd3f5dd31b9'
         '5ae6d1b4c938e520951d2d8842a618c8'
         'c05c3089d42681a58ab2b3c20455ed10'
         '8b21dc71080a0f52f45296d9cd9264e6'
         'e425045b2f6f8cd0bab3af2623720d0c'
         '84f66ae6cfea05bb2df60ab5eb7db746'
         '3bf8e56ed4b4c85a807c01357648c5d9'
         '5ab660cf2ee58aa6e2143b0ebe055002'
         '981e81119642c1041edf8ed61ca0f00e'
         'e6fff626b4af91247fa3af3abe650700'
         '77029481dd8b59f0e6bc2c7c1d497126'
         '71b55657ad1dcb0df1d5b66452480ce2'
         'f1f4d439b69692f71dc28488476964ae'
         '915c98277e22f224a7e4e56dbca238df'
         '7641cbcfaf5b2c1958c254a3a6d84757'
         '734295678704570dbfc14352eb0ff8da'
         '33d49e9feb0dc847c90965f359a4e615'
         '2cd6a3ae0739da88fa36d8f8b22a5b5b'
         'ac9395aaac64877de3f72b4ce6457a07'
         '22bac46e6678c4064c38264cdb2f2722'
         '24dc1ff18bc653c55d37458e876aa7ac'
         'b66182f3729304d93ac286677ce6d744'
         '38892c163021fd4b5f018dde0e62bee0'
         '88c8f7aa0f159b0794fed766b2e9052b'
         '769a617c7107dd73ceb5824e6b0889fe'
         'cb6d04d7facf0cfcd1a65537b1eb1c7a'
         '048ce0af198bcb03c5f4c6136aee9594'
         'fd0ea29a8d699c53091b41e33da6d4bf'
         '51853b6389626e1536ab37ef94c0a4db'
         'b844ca9aef1498b621ae8a5cbba75228'
         '0c8398f501609cd135e88c96edd1c97c'
         'aac117654138ec88430a44ec980ef5f4'
         '56024a175bbbf9bb56e274b66a93bae4'
         'e59ccc6d3044f9ba8c47b23562d3d117'
         'b60e128d4a564e007cb3a22e24c79dce'
         '0b8c41f4cacfb2e51756fdd20ef0dea4'
         '38a99965018b61391b15f0788ef76311'
         '2660d281d544dcd3caa105b2383e0465'
         '71d4c80466429a247f006260cc28dfc2'
         '11fee059d306cec66554581e9eabbb59'
         '7156a15272f9ea80f2b02eaf229bd877'
         '83b45378dedaa524ac48f461fa1bc017'
         'edf2262175ffb995872830376bd6b7bd'
         'beb058687807ad870df9da2082c059d8'
         '746dd0bd097399fca9b29d044a61e3bf'
         '08cd800b366b776e5498df385fc152ba'
         'bfcde2408323beb4391ddcfacae54a5e'
         '7fb4c77a901b808b34c4d6cacf894344'
         'c1f67cefb98c8c35492b8aea8735bea7'
         'd60ee69c34949c016bde8a366b9a20cd'
         '8132905358955a660c63e2377ef1eaf6'
         'fa6eb6b0c762f6044aadb27831c9af69'
         '5af9020b5bfbfd96619b7545a31664cf'
         'a8b136237bfb8a27b934705b61c2ddd1')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
