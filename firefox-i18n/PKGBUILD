
pkgbase=firefox-i18n
pkgver=72.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=${pkgver}")
groups=('localization')

_languages=(
  'ach    "Acoli"'
  'af     "Afrikaans"'
  #'ak     "Akan"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  #'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  #'en-US  "English (United States)"'
  #'en-ZA  "English (South Africa)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fula"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  #'ku     "Kurdish"'
  #'lg     "Ganda"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  #'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  #'nso    "Northern Sotho (Sesotho sa lebowa)"'
  #'or     "Oriya"'
  'oc    "Occitan"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  #'ta-LK  "Tamil (Sri Lanka)"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
  #'zu     "Zulu"'
)

pkgname=()
source=()
md5sums=('f3d368b5cac4e6308fd9c113ccc318a4'
         'a24c7c2c529eaf282a29a03d49951d5d'
         'dbc48fe9aa3641eee0b881f67151dcfe'
         'e120de1b3c140943debf5626b994910a'
         '62a83da1a4bdaeebfaf1a8a3fcf2bc8f'
         '74a311b7b0bd776157c4656c09633a51'
         'a86e6019bb762f763a8d9061ebdccb0f'
         'a8e20be8f42fbd0e8ef0031826f85f45'
         'b26ab2ead18344f2c1cd7437715a8aa2'
         '543244dd7844cb5fd9b20e37af927a05'
         'da1274a4d9db811a5c09b0a35e2396d3'
         '4746f9cec6b8f6b681706b1328b6f054'
         '852dd26c132d18d59cbff98da235ff80'
         '38907daa82b84233c6854eda3d4d95c4'
         '6d77d1d84b13a87eebe061c05b37c770'
         '2d91d275660bc1ef7d36b22a642fb6ad'
         '0d39fc11ef4ab497a93e95e4bc7aafa7'
         'df53d3a1247425b37d098acf19f0aeca'
         '28c7853bdf4071ac83ccb5bc8ce2e78e'
         '9c5792ede9f0307e94a7be60f11da10a'
         'be69c7c614df11a2e2a4513ed57226fb'
         '28d7ec97a031dbae8dc2fdfab454c13f'
         'ff0eb02cfe14fecd4158a5434017c776'
         '18678e98651a2f377806c585e5f352c7'
         '38c541068dc0339eebf46ce3d3629f7c'
         'fcb8bea0b00516f343e953d9e8888793'
         'bb4d6ae3a02baf6d9194c2ebd2c89067'
         'ceee18208f6518ffac16d92ac93ac9e1'
         'c4bce896e177ae240eaa7f619f2dd5d3'
         'fb952dfe5358e6d4b193e63f06f1afc6'
         '86ad5414b2e7395ed9fb737650debf80'
         '8f37b79cb8798dd5966e68f3d0e0880c'
         'b2750245411476863f28f903c60526d8'
         '17452d9c5c843379996e4539586f664d'
         'dad9d039ea38fabe28fe421c052f89df'
         'b6e6f02f6dcc0a3bbcedec0fec83f3fa'
         'b18a5c9205fe585d04e0b089ad770e73'
         'e879222d8d453aabde1165988c1215a2'
         '8970a121050cb9fdaeec5da503016581'
         'cba4b86a06d8d30123f1658931335c45'
         '05f3562e3be0abc226f532399cb4ac8c'
         '28c242624516f29e19ff15180c7325b2'
         '5053fc0574492ad78308e378fda79a74'
         'a5701847b300a4a33d8fb56a0951ab81'
         'e46ec4183de4b963504d6dcac0783244'
         '0ba588a6c36c0f707ae479d43a0ec7fc'
         'c78dbc7188afc7d2cba8627b859f8a43'
         '23a3d82dd667579348cf9fbd9125a0fd'
         '8eb8213b2272512874b6fa8c192ded40'
         '125064ac37630901ff460b051c2722a3'
         '36ab25dc3e48e20f04cb2bcc89d137e1'
         'a188c47a1bc0b860464fa1223c1c04fa'
         'e88a4958065866062dbc3de4a12b03f7'
         '5782f6d1bd66d0d4280c8bd4a1929cea'
         'd585b7eac80f24fd2bf9a4a4e0477aab'
         'bf3dd9b174e47a7d05d23b0ebb5a021e'
         'f7ba2309e08a5fa1ba704ce73ab6ece4'
         'a86980ef02be08037597ad5aa2d4090a'
         '92b4762e814ef0e6363002cac07ab720'
         'a9363839aba287d30e836fcbebb02fa6'
         'e5a61801d3dbb069ea3bfa349e96c81b'
         '79a2c2a5a5f0032a87b0ad4c9d20d9a2'
         '85d8b2b0dd12b376e86b17d1e3b5e7af'
         'c5f3af9a73eb4994962a394f211b63a3'
         '4ab0cfe76d48b3bd2dd433a6557857db'
         'f5f3d184182d220bff47a28c01fba3fd'
         'a9209d389663f5ad8ed6b6cc72026cdd'
         '262f6bc79b468f45b78aacea09c84646'
         'ff5488bb5c2964872a80996eae71491e'
         '5c7f3ad1599f8fe0289df1264b131783'
         '58fc56e34b30929cd37047eea86408c5'
         'c756024c114256984ac5e2512dc2777e'
         '091fc8c561c9ad2a003e3fe75248ce07'
         '8f7f383668ee6f81d338401b2667f542'
         '0f4c323c398625e280c5bfa9932b5955'
         '8cb424375f6a0a86c4500ea9220767dc')
_url=https://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}
