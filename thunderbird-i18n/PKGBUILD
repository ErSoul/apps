
pkgbase=thunderbird-i18n
pkgver=52.5.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('db8e255df6e7d881e69a9a7826a00f88'
         'aedc18e37eee77ca07c861b39aa39b06'
         '18dfad6220fd0e197cdf0da1837a9894'
         '63be801f29fe9e0e67b488f8d29b2d40'
         '604b67ad40e15df814071b60b06c5696'
         'b86a466c93e01c23ec595f61b4e94207'
         'd549b03acd1281e6332e0eeb898f05b6'
         '2d4376d1dbc37323ca38ec5023c9dd05'
         '62f36e63eb2da6bbf78619b7eb1a6163'
         '2b15b0c12fe4f124f44f59389eeefd68'
         '83a7608d81447b4e29d5b4324ec25572'
         'd8038cf6334193536527bdcc909fed99'
         'd6ed86e919bc9858273c691095d5b423'
         '1bda1b927491a881256fe8fcf2db6fe4'
         'aef296a3cb0494511f79063c12c0c7d4'
         'e768b037254c2523972c200cbce4d3f0'
         'ef4cd1e43faa1d851ce85776d0fc8caa'
         '549a8fe5b271376b227b0b53b9900b22'
         '4b0ef46e7763decd2487db298a8734ef'
         '94d64114e66f526e728e4e06aa38047b'
         'de0eb4cc378ca5e16a697af78adb5224'
         '85a0f8f9bb9cbd775074d5104fe0eeb9'
         '5be058d22cc275a7dac363c9c896be2e'
         'e719fd0b2c0341e712faea5e36bffa97'
         '87913f3190f8da495ada4c0b52949b33'
         '120ebb47a333775905c618cd4e19a37c'
         '0aed43a1711bccd6f73e4e492682ebbc'
         '22d6b4d2ed14932515804521b1296963'
         '86d80a7446b6958dbe8c9efa6ad8d849'
         'b9449957861c204f632ec2a2a0e95377'
         'ea9b8077a1f6a1d71b7e68e59de47a2e'
         '3e44d516acfd5e8b3b35e79adcc7d274'
         'e46a12eea74d92a2d8570c484d93314e'
         'c27c31b981c639e97a81d4622161da7c'
         '03cf60998bb03aad96238036ea9f695b'
         '85603645820b79aed92e0cc511d42a6f'
         '01fd188f72c3b3de7162c34595fa0d20'
         '813f0f37694e09c93d63eb2916480c8f'
         '10abd7d31da899ee85f14b6ac842731e'
         'f5de73489b624499448d58b5b2800b5c'
         '72ffc8dd3eb7d9b9a12e9684850dc0c4'
         '39d481f270f7e9ead867f959473faf56'
         '61f1b855de590c50ecf628679c55b6a6'
         'f8fec9313ebee33e218513763906d9d5'
         '2f8ac0a7024931e033f06bb30f060c07'
         'b9b74a41a32ba722dc1241b934f7fca7'
         'eb899d5f7ad639c53d67087ef352e733'
         '846fd5888c9c8f6156a85f543a8f7973'
         'dc03b690a3cb17fb01f1d022c0c1164d'
         'a5cef0c9a7e4c1fc18a9cc42cc902fe8'
         '69efee1c706905e42ff4138b5644582f'
         '5a35c3fb2cd55af73e98baecf60fe9c7'
         '53438ae971fddd52cc8f0962aa75a6d4'
         '038f51bc8c31d609233a1d61fee3866c'
         'e698bbdced61b5af66ea862909165895')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
