
pkgbase=thunderbird-i18n
pkgver=38.5.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('60925908747366047a0e4ce69283aee5'
         '2c1e068a28496d528883f2a171ccf217'
         '96707e9e3a13fb7a310ee03d338453ae'
         'dcfba39351354b7a0de2949e75be5f02'
         'b9bbfc33d405a75dd07ee162d2811163'
         '5abca53301cfa66efbd2222c004c8268'
         'aeaf8788116fe6d1dc98e4438976af10'
         '64343b9dc8ae3f768c1b57660f5d5395'
         '0d8464645a30d1ce87912d39e7c2974b'
         '9638cf06ebaef4326f60569aa2e791c1'
         '5cec549aa42c9ec8ff9e898b9230b967'
         'c8db5f81def97fef9216b3f55eba800c'
         'a32630eb1d73bc28a79598a4c2941053'
         '091ca1cfe84a717e2b9213e1c9cffb27'
         '1d806c28bfb2c369516ed0d772eaec20'
         '66d36451b412cf2b50a7ab23d3b8bc48'
         'f4c27462a0ac5e35a3a1db95f6608bc0'
         'cf0f50a61f59eea009d8bc4a3d51e976'
         'fc6523d742607341afd2760686e22a47'
         'd485a4e3d4a9000719e598ef3f89be84'
         '867af3d973b00e951fcf6abdeac348be'
         'f74550ff8b2d0a760de3cbc53c8969c8'
         '036ab2cbc5042cef180e803e8a92a299'
         '7f0aa66f158355246f7ed1fe7e120cee'
         '03cd6e4bcfa96bbd0cc9169644f3119a'
         '8714a9af68d4daca4f88c9a35a43a8d6'
         'b8bba21d071eddfa598bcc6f953d2158'
         '78a3b09485c8880333b1cb9a04629653'
         'a5b443f9b43c531be167664f9329243e'
         'cff2e094834d8a1c8d10c04b94b8df21'
         'b5039c2c06ffec265b21b8cb7261943d'
         'ba399a723c18b8abb8212d33b44c6339'
         'd5b6c104f7459b6b4e4abacd670f74c8'
         'c6a21db64af20bf5ff76b57e7309143e'
         'd02c1da30288e73d6732a16ba7f5e30c'
         '4168f48524ead43640b2296f77cfd8d8'
         '0d2f1e30d04db21dde144dfecd614737'
         'a3de3c4e6376db3d092e7e329670731f'
         '94b8d21854027b9e5423f53085a08411'
         'f9bbb97d1b2a289023bc9b4a40979932'
         'c7028f7787739e96acc8ea31148bbafa'
         'd068afba77f6350dfb286806b9959338'
         '2c931a219b74825991175c8e950d326f'
         '7cf8df3d862e75827df2b9c64d8cf7b6'
         '1d3436d4e9fea70d81ceff10ec31531c'
         '1352048a6e7a34df957e3c37af79343f'
         '4ff1b3012b1dc8f8ecaf5bbc7f1af8cb'
         '491abcfd6dea16e2838eee53a1a27a6d'
         '75d9e183788c38a66d56a2c0f063bea9'
         '4362d95a1d56f6c6a4265f111732acb4'
         'd420877027edc8d12a007a65f73fd216'
         '3b6806a1fa4e16244fe3e4d1a6c8b2ff'
         '71617760e171ed81f4308787ea61eb2d'
         '596bd5e568b5969e167897eeda4cab2b'
         '98fc0d5a782e5cff33fb84b8410f73ae')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/thunderbird-$pkgver/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
