
pkgbase=thunderbird-i18n
pkgver=52.4.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('99a6ff0a478926d5e42e7a4fb7fef0f1'
         '5e26576521963f46fb5ec9c4ac30987f'
         'fe93d8f8396f4672a5f039da6b46099c'
         '75e3715dffa675c7e2dd0611f0fb45b5'
         '0e586b6c41c8a90f97938fa45209b434'
         '6c743cffca7ee8abf2e09676a5219b36'
         'c3b0acefcb12d39de6c646c649a28c08'
         '8c52f8d47b787801364b1dfa14b4a327'
         '6b53a4a3aeefa4e7fad2504d30949405'
         '903c1dcabc705d8432ed68867c5d7a97'
         'c90bb1ed115c2aeef2ce17ece03d67bf'
         '73dc9199a1847fd0ccebb21db1df26ab'
         '97a20b842c1f87fcf3009cf4936c27ce'
         '04816cfe1b6e650d0ae4f2069d880fea'
         'cf409ada78660f78b78eb1618ae0d690'
         'bfcc089533f6ff7a061652b3bf3321cf'
         'b4391cc4746ef0a952ed610b28330d49'
         '4f1914bdc3843a7bc8242c5c6d91e866'
         'be5b13c4b1d34388d867b9ff35a3db85'
         'ce7e6295a641fb12f8b0077ff2a45e06'
         'ee12e4a127c08898dbd76dcbdcecff98'
         'c13a614ca2e5fa0dd4957a91576572e7'
         'e25cf1aa9428c30395884d7d15a1df3c'
         '2757c353738863d6f9b8e375df2d293c'
         '21c1034db665497655bf22db506437f9'
         'c5ea8335a72e28d05e09d0e2ac5cc7b9'
         '6ec809fabb15fd7082d1b7106957fb11'
         '3b694b6d192816883ddc8b8bbe99210b'
         '1c93a7d3a15516e219552eeabc5c6093'
         '2eb42dd2bc08bd6f678a54ce6c5e8a05'
         '26d1ca24bfb4922edd83762fa29ad9c3'
         'f0f630fb844aa246df2bd5ac33c74c78'
         'a5074f21dee749e8b70516fe8ac068fc'
         'b584835b4e70866dae12924718e0dcb0'
         'd80f585497980016748990b691bd9653'
         'e85b2ac07d75d6aa3e1eaab2492657ba'
         'a44a74c80fbaf92414ce53e0ee18d26e'
         '13bf421bf11282a50a7c78c09dd2f20e'
         '08255c46a91df6a69683f795e9a69740'
         '63010aa0894a03aa691fe324713b34ab'
         '850c23f40925903b6bfbba35362555f2'
         '7abb6b3f17e92d4b79c685af757c4d44'
         '726acc5fa8ec2bd5ba9fef3ffc8a5ecd'
         '2113f2db7a34d363059c3c057ca360ed'
         'c1378aaa6b46a896ab5711f4d5c323b6'
         '4f9c39a78aba6e6a4e5ccf0d12e0a362'
         'da075a88574a20c34d2ebd5585bb97e9'
         'fe56b19103fd6dcd7a1bcf9dc5bfc8b2'
         'a53f7a869a4d38d47f92e3b5c6ee469a'
         'a4307a5b76ce0fae3ff76b8ce7e6b2b2'
         '356404bdd079f6c1b870aae29942debb'
         'b49ddf4bd466ffbe2b689474755c2bf9'
         'ef0b1083fb98a6b8bf901da583419d26'
         'ef00ff0a8227a5d680a9afac22a45e6d'
         '9ed92430cc822c1d64663a9b31e6b1fe')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
