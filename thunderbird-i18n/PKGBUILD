
pkgbase=thunderbird-i18n
pkgver=52.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('7454679a50f1b85d78b00ab22cf525c4'
         '9dedebdbbd8c08c84352229c28b3b107'
         'bc3799dad72b439f5516f549252bb660'
         '469a3c659e692e645b67b6e75a420f9e'
         'e646b95b0de8a667c136206f24288c9e'
         '65dabdae1427ad62cf30158e08928117'
         'ab82aea43182fbb0ae4d84e46ef8c37c'
         '058199366c78207d8e733ff1d0ccdca4'
         '6b60de614ced630b7025558489fa48a7'
         'f7a8874255984a67ffa58a3d582fdc36'
         'cb493b90713e98ccc9f8359466edf024'
         'cb66d63b0cd4bb44bd5779b1c0b57756'
         '58cd9c9972e222e5c149d754697ec8d9'
         'e47bc047277b1ee24c53bbb58d5a66e7'
         'd50ebe5ff64f78be365ba11514d033eb'
         '5137f1fe1ae9bb982ada269dff97adb6'
         '50907beccd5f85fced8b3590a7061527'
         'fc9837b3bf19033535f1aced2676df80'
         '7fecbb9524ebce8d6f37227e002914f2'
         '1b3f2564c6a70625453104908ee688f1'
         'f2f24fa14c16066d2ba91d23e19925e8'
         'b0520c3277ab95880b6556c898d558de'
         '3a4ca494da692ea439e9157f6c86797a'
         '7f1d82a08df4fd71c848bccd9e9e7891'
         '64d9463e36af82dc45a00385a09e6dee'
         '6713e95b4434d4c4227d928f7128ba6e'
         '0476cc8282fa6777b4cca126d7b84898'
         'bc54d56dffa5209ddad26c3ab724f57b'
         'f4037ff5dcc4818df41fc6ef799842e2'
         'f391a53925e9783bf57cd4a1189a1889'
         'af0a4f69082f79f16a9fc323d5e53d95'
         '8d4608daf4831753c650e77cd214e924'
         '8e091d87c9861ad883702891e5ba5c7b'
         'd2c68aa883ce3eb844ca7f35d6c55deb'
         'c69d506b88e019e9bcba6047b06f6a06'
         '47fc308967ed2233f4b5be14b76da253'
         '0361e0193703717687c5ba9fb231299e'
         'af7840fc778309e77331f8a58ce23242'
         'b05ca5f8df581e42547120b51d0b1d09'
         'e0a60b559a58508a59b6efd39958a8dd'
         '782d473185467462e938040791afcdcc'
         'cb6b3587331c0bb1341f3cdfe46690e6'
         '348b503ce40a73a3b30f27208c382141'
         'dfb30337116b7b205b3d7cefe9bc85ea'
         '83b6f24d98c4948086daa1d25f58b4b4'
         'e889892586eeb37c625026509859045c'
         'bf96ed020042ef7a1650236d4762a83e'
         '5ddde03fbfe73735fa24afd899e9209d'
         'ddd35911432d8c180a4bb47c4d499840'
         'b4bb0183610a76c3962c1a020cca25f6'
         '93c63df8658e3e635d3fdea605e89a42'
         'fd89c4343d32398fe2a465969ba2977b'
         '7ae37516732fc583810ef41d6db023ff'
         '9ef65a3812ba43393324e550f801f4d8'
         '3677b0d55973df7d478d6bad227f6f1c')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
