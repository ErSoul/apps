
pkgbase=thunderbird-i18n
pkgver=68.1.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('1fa0c54def9f4b88d83f4d02e97a19496fa6ab92f653382825dd4e0f868cf2a3'
            '5c137854d7f39f149b4a0234d9b0fe55eb12b6496177c7aaefa2a6137ca1ca9a'
            'f71a3f89d61c06ffbb338350bd2cadab025d76d296d1545995a27e76a31c89d3'
            '112b95c97805cc7a7b23e61c2ca804a92b9b5155c47faeddf71b1b2b374874c4'
            '468d1a45efd84607b8119e30027b0105bf4d00e7d70ba6231b7aebc67edb26d4'
            '09a8dd4eac882112d59f5e6455b317615ca3799395bcffa57083e3276684d9db'
            'a3228cd157be780ab28feaac4f626ab5d3a2851bf77565f41fe17669d7518c3f'
            '0c3c409b7bf6edc8c8d71e4080940bc939fbcb119bc96fd167db6914f0021fb3'
            '08a6d6311d4f07b28de42460e081c08cca465cd1cf952b5bb083cd35f38630f6'
            '9195769e2950a6b1d1afccc6a4dd0e7be5d644a970275e5ebabfecd1dd0ba791'
            '7c5480c0a5bcfa2b8bf4c6866a8f09efa45f70c7b5cf1a7cf7508b3df4c8a5a9'
            '400581bfd4d4cc7f2b63e9bcb81075565040489f937b233b5077ca82b10093bd'
            'eaf581f66b80c4639e53686d447f25cc49e02a44eddfa0f65d1bd00034785e45'
            '1f6a876007109727b768d918903a792623a36d1bda850bfa537e28077263138f'
            '7d7ff35becfdde6d1ee75735a3dc1c06e215069418c83b2c262bdc71f09443a2'
            'f2cc4deae383f37a76c828dcb7b3ccb85f440650202e40ef6cd9d67ca841458e'
            '39f5ab52f01ef6fa94285421665ed7e9104b2b90a0e73ec578d1b6cd8b9d4ffe'
            '6fc1612d1edc215a0a1ad6f28ad1f3186c19b72ad7195661849eceba8cdf2684'
            '7b3e6796aede3034e9fcb446123713436e2f9c12450485035ce809dfcf5b45ad'
            '887077967c7c76aa98cab810be88b36b59180d733412c76014df7400600493fa'
            '821e96e32ee0077aec75f548062d9a2230233256450ce71abee58f303a5350af'
            '416ae1cb6a5246486412788a7c6da6e331611b5cf35fe3fab5ce3cf52dd668a9'
            'a2fa7b11395fa024fa33dc8061ac6e6d0f68e656455fa04b41e4954f054c0b7e'
            'd1e65b2070ae929d870ac56883b3a2df41ad5d952eb8d3ddebc02b1367a5ddbe'
            '6f3c185b3270a3b2dd518782aa2eeecfa41458040f8fc80310c556a32ce95e30'
            'a433b6dacca42339dac3c290b95bd7e46b7622f74137bf16e358e81ca8bb3e57'
            '204b3a7e51fe2deb2c155e97779e628675deab5d173f251628cf1a50354ad64b'
            '883974dbcec30f16ec995e3737b786d95f96ff00b3d03261846e44836575c906'
            '2ac518eaeecc4025497abf15a8575af1855d96e801f41fbfdb2fea66e0450f7e'
            '2b2814b9d4738794815f7e8d745a78a5a2e8a2083f2971ec4f9c56faf9bebc96'
            '7b4fcc2d0c99f6dd864335d999ab31c6111e5294d992c610d70e3d8d34ec8e7e'
            'e5e0fd4a7176a55a872c3af89e2775bdc49bdf6d55b836dcac3142144bd159b4'
            '0c3bb51ac54d630d84f9a992f08e9a4e06da33bcc03294411199ac2244d89d4b'
            '2a063d0a1388a359d2abc516ae859bbfabbf132dba99b9fedc15517e1d75fc7d'
            'f0edf95f68cb721bf19c7b5c7d67a2b9995cff1ba99564cce891aa917c6eeafa'
            'c74bd1abfc179cfd784b11ef65c068635590fde866686b91413a16ddebce6409'
            '2e97d54bccabe0a0e4c2c4fdcf4b06b9c9f566d7f1bfc546b575b0bc88272630'
            '82813adcf69f71f154db4fc6ae40d4dee0acf33ea9dfa243dd4e8bc749471319'
            '99936619eecac082041788faf090409466214ea77d4fec74465f16ca0caf4a6e'
            '98744d815ef08660b94ac01d00896964eff9aaf2f0a0ab62af55c91be7b18fef'
            '159bf28281fd571140bfdf9ca24ef6b23167cc48d150bf9c662ddea087c1a019'
            '9a178b02993d555514ae47469a54fedd833c722af3dd7aa74346c3fefc3910ef'
            '88bca77fccb88a4c201f9d28f9f02753a9a18afb52ae072ee2837645d7cdfb01'
            '5d6d54ef7e7e7f67d5f6a69345b63ea8439d66c278c5b554af4fc85b6ed8fa63'
            'be8da9e28d2a96cf7df20df54745e5a97c01c987fddb581c8d9bf4667a11bb82'
            'd6748c62d62a15c5144f1daec02eb54c894f941e44f89d79a18492ee275512c1'
            'd4c5caffee8b1aa67387572fe3eed9fc5fcdc7adc01929cc5976d659d855f269'
            '933a2e6e79debefe06977d679d24e29b80fd577d853b5cfb42327a173e84096c'
            'a1626319364b878c83b0e00e8e238fce07492deaa92419ae7729451058c049b7'
            'b5e727039b5a6921053050387c351bb28fb3a4b9f2ee512cac416a815bc1413b'
            'bc01c0fed317649fe73be93752807bd8ef0f39345517f8fde5455ac4fa830a69'
            'ea7fd732e94eb91a937611fd98cda23dcddf7a4bd6d963f3d0539393ca7275c6')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
