
pkgbase=thunderbird-i18n
pkgver=38.2.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('e928abf97a9bd306e0207c16a0224ed8'
         'ac6c5da7c75b739aaf37fb93e8e88592'
         'c7e2397734bced563d98320dc17b2721'
         '84a781c1dabc90ed0eb0ee024a0b3153'
         '1d2ae33fc985485e793f2aec5b558bb9'
         '7e475a379f3bc61bd17b8c52b5807bb0'
         '3f0113789bf46b3ea7888556182ff5ac'
         '877f4e8d4f3a29ce1360e77edc7e18bb'
         'f0ed35f6497439775296710774381c4e'
         '379c11c009a85908c71d014c1415c025'
         'ef4170c92bbcb3e914e5759d6f8bac43'
         '9dcf68fb2b8415c1e26bb3ee2512e763'
         'a36ed2e3627732e4fa20d43536dd29fa'
         '3907a014b47c64605f6a668ca80a6a1c'
         'ec40e29c471774b60c2f601c495ed00e'
         '83318a571533e5ec159d1032591eb282'
         'c9c20cb37ba84393909bd7baae1f32b3'
         'deedae95e311421ceb5517fa9d86cce0'
         '35a8ed0a49988ab34f0773ce08ded4eb'
         'd8a22c3f01ed7c26bc692884d5bbfd83'
         '3fea03125140f0facde3a35a0cb6b322'
         '2e850f42df36be09513d6fa5f4c585d0'
         '9b589c306777a8668bd1252de7ea47d4'
         '0424b3f8561432552ff5eb4c703d24ac'
         '9c81b155658b5b279ea30b4d991439c8'
         '17bba7e86278f43cd849b1d47adb59d3'
         '8c13e0f241cd8464d54cb36ee113b28c'
         '70ec539357464d3b4806764ef1892d73'
         '66da224e6467252b00a5ea33d14ae034'
         '694bdbc4968f3ddafc871429017d9ad5'
         'f302c9da82ea1e6ecf5efc77204fa2d8'
         '6afcdfc16f8fe0934a250b2b76124d4d'
         'bf3bd26b00fc3cbd39e947b3ff781c6e'
         'c87963305c4fd3984ff4980be572fcb6'
         '465ef8bf3dc2af103d5418f1d68d7a08'
         'ec3e1c820e181e84d4316a1fd0dab44f'
         '4a96041ed2a3891a285bc13bf6bc28e8'
         '333d7e50291ad8ac84a256ee51143a7d'
         '5b32789fe7d63b9de6b01dd1d77cecf2'
         '55c4499145995d78bf619d492cfa2fcc'
         '1be69670ea8a49c3d98d998fef86bd70'
         '3f77715fb509147aa30fdb1a90b5773f'
         '33f5cba7efda700b8e1f4fe29fec70a6'
         '7c0d33cd61801d842bed203052db0763'
         'b88811df9ce47ddae277791599efc446'
         'ffe557d44136915a1dc23453ca76be08'
         '8af806d637b287c594a40192db235250'
         '957cc59655b8a50aed3524830579ef86'
         'aae6610b706681bc48866b7335e83379'
         '300c7dccc163a176d6fe30f0372e3679'
         '9eeeea616ff7eb51ec34deb9ba5c9493'
         '2d94ae4e7fc51a814d289055d286691a'
         'bc8568f916da75b2c3f9a5095606f8ca'
         '3100233ae3d05d741a1be7db7b44670c'
         'f80e59f312cff0d97ab9e91d4e4ce8b0')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/thunderbird-$pkgver/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
