
pkgbase=thunderbird-i18n
pkgver=45.7.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('ecbe932461ee1b271a432b076b41736d'
         '53ca744c23f581ba69ec9ea61723800f'
         'fe9955477f8edd4030088ea75c63e0c1'
         '34d016c0242ddd1b9056ac6c4efbdae0'
         'ac05788af00bc974df147935cfed464b'
         '1eedb2034e2f07b43bcd807908c34eac'
         '6d6bd7dcecaa739f3a5c73dda12d71aa'
         'dd63bd0bb2d34bbac7df8ecd672a345e'
         'a6a5be892ca4c278f1248be934bff916'
         '4e0a18330fa75f9bcf66277cc0450b1f'
         '067740cd280d351da1c8c694d37c7a2b'
         '0fae49879f16b773c8833ab3b2533938'
         '78d25111b54c171c5dd6aebb087315f5'
         'f7b4b94a565541ba9fd9b3fcdfe5a463'
         'e94ba5fb453f49176ca4da4562232510'
         'e166ae42ffb5225c617f5a53634371d5'
         'd232b05e039408dcd1aed61fc0e4ad85'
         'c0edae6d22f8203e1b44e6e96ac398c1'
         'a802929861c9c53c54bf561c21be363d'
         'a6ccd114a1f9b04daf8b0bba4524531c'
         'a5962777193266c4b4712e490680f3b6'
         'a062ed5ea08bde0316c8ca16f0a15c51'
         'f6c3e171b9112f6440809999f95a9acc'
         'f2f15d66062ee5610dbe34c3a0e0380d'
         '36827f916334f522b5d386472ba03d82'
         'f5afc73c33bc6967253af2250428d866'
         'b3e5f43e261edf39bb27a906ac26aba2'
         '2c604bbf5f19d85c4325b14990cab156'
         '630c026a5ab3eb0a0d565cf18df64cb1'
         'e1820f77e8beeb0a138db462abe62bb7'
         '9b98e175459f3bd82bf8ae4366a2c349'
         '75ef6690b717ec6dfeb386a737b498e2'
         'fa87fa536ae54c46ac2a1098746e39f1'
         '26aa828ac69afbe1bd714f77f818d85f'
         'fe0d3a22edc8edb9c1fb84ea35bdb965'
         '3f33cb50125d9f31dba311c2c1c65063'
         '64b091a9d9c3d9a90a553b6f54f0922c'
         'de1be496ef4c4f4e0230673990878d43'
         'b97c48a3411c6ae6ac5e7815bc869361'
         '1a6667d7adb93749729dd3a2f3e541c2'
         '071764c4213f04ab2776cdacf93da988'
         '3549a51cdedf3e6da621aa3db12cb9db'
         'f8b2e61c915bfb274ff4e10e315c8e4b'
         'df1c2d33621a4a33d4de73d39d4b0603'
         '3846305e1bfd8171d38978c34ab29a4e'
         'fe7e045a203729b8fd6515015dae5f53'
         '461a6d8a78f7a9056be8def437bd2d65'
         '92269a6462feccf0f091cb1aa2613ac3'
         '8254a19141ba6d8a7cb11498379671df'
         '2f3ed4561139d95a964e3e8c6f0dc96b'
         'ceba9f476427a8169a28a551a159233c'
         '05ffb2e7ebfe78de57dec39be8d6dccf'
         '3ddb2633770cb4ca4c520fcbc12b5f2b'
         '83dcbb79d94c8a364395eb2ad7a847a7'
         '60bddce4401dec0326c6b8545c7b3023')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
