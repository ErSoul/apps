
pkgbase=thunderbird-i18n
pkgver=24.0b3
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird>=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('0c5bede6bbeda552e09c7596ed4c9d15'
         'ad320d4737c965bf5aee63be01800cfb'
         '5b25ae3144742ba697c5891cc8295fb3'
         '48905f5c438c4e9be0fbcbf5fb4e52ff'
         'bd0320dc5e0984664a5e640626001688'
         'c29bf0b84a3c2038c263e836d59bfaf1'
         '97c80855b2d3f75b303b2b6f45a5799a'
         '781e47c695fb54c0bedf41bf1b5a8cba'
         'a443be4793cf3d1a8144691e3f8e3dd9'
         '65f4b5ff0e33d3b3f6df1cec07f05ea6'
         '706e08acd038df889793607214bb4f78'
         'e7417aa3dc5bbb1e53d2797243eb02d2'
         '1a3729a1c38756c8a81fcc7671e7bf5b'
         '45bfc2056d204e3b0af086784c6c1964'
         '583039f1fcefc6d1fc2fc7e0226045bb'
         'adfb8bfac289533e0d56237516186b9c'
         'aa108a3660ea948ce8a5697974d9582b'
         'ff6b465b0f34a280726b8b8de3ebca85'
         '4895dfd34f4586379b42d55399535b5c'
         '4e389adfb9ef224432cd9245786162b1'
         '5749d08c2efb8af5d9ba140b73332360'
         'fb40eed5ce8a998d3528924518c80f9c'
         '323f097e71e7f38bdeb037bd4438b73c'
         '00bb330aec6f97280c7e0dd66e94351b'
         '6a6bbfa1b247246e84642646900172b8'
         'baedd476cfd4ac384c617d9820530e3f'
         '102aa0c32933b4cc84c19309ebbd35ab'
         '0a5d000f330f6c7131771450d54ebb02'
         '76751c699d4f4db4f88697ba48281d37'
         'b4f2e7066fc0555da29a83a57d290b91'
         'e75a6c98d09be633b09e9b134bfce7f3'
         '8baa47eab043969503b9913aa3cb63c9'
         'b201702f118fb9d97bd8ede49654cba2'
         '60b678975c3941f6af3ba303ecab0517'
         '427c771f2f0efc473f93b95a585106b6'
         'e76773b18d71b1e74c2326782428493a'
         'd33cd0936964867ce698f8aeae20a2d2'
         'e37a429a264ff04b350381a6aa8298ca'
         '0932f13485adcfb66bb08a5bf49ca61b'
         '9a397055e71c9ad19b0e2a3b7e782215'
         'a7adcadd40d57e8150a642564ac36503'
         'b2d54c60b30d1197a16c3dd8b73f7dd7'
         '51e017f59b3eb84b5faa17f6da7b785b'
         '642210742c635b5230934a3a9d86e4b5'
         'cdd6f31afd7ee648e93801d5b90f63f1'
         '5af5f4e5a8e498ba6c1516b00f1c912f'
         '3b0dafc1f5998023b314d05492cc492c'
         'f960f0bd59cd4dd2a175f9c45109702b'
         '3b32a9e5379c9104d370c4702dd97682'
         '0ecb1ec51759751aafe6abb96bbcb5a4'
         'd31ab290d6d559e44cd1aadde5372a73'
         'f17957d6796f4eb56bbe24d7d22381b3'
         '1df1e02db5974afd6b5feff51bf84b22'
         '6c72a3994ca21474480f7725fad85da8'
         '04788ddb8dcb620f4b9f6fe62a5a2f9c')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/thunderbird/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
