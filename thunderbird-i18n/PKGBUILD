
pkgbase=thunderbird-i18n
pkgver=45.8.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('ece126b57b09d40f1c8e162e8c1ea6e9'
         'b75975199cd41a825abfa7818ded5cc0'
         '5a8d0954b6e5fa699d049695e556de16'
         '0584c9661cca67ed725515d0e7fa4370'
         'd7ee678f20d73c2a9dd9341de479f3d7'
         '52da083df25fa6a3854a03c78f40f8a4'
         'a85996ec5bbbd1dd7636674a17cea331'
         '118e2fcf95fbcb16fdd4e642699b1b66'
         '9c6ca6e2c0b3d7653e86fcf6634fb00e'
         '458172fbea3180c1179d9fe31d90558d'
         'ab1c582879fb8540f51efebee9126a3d'
         '20197010972a8d249a320230ee63a900'
         '8e5a95c71d29294a66ceefb0a1deab63'
         'e8b05d4eaec2802b04d24b5acfad6903'
         '1d9738742fba73adec45d9b8417ded75'
         '15357ac50875fe45ba50d30f1b8f67d1'
         '10c3d1d008c7bd885f2fbd1cc414ebc6'
         '8cb0cd608bcc2f2599538f7754dc0495'
         '98d2acd643fb5c18e46edde167669c06'
         '9b33736169b9736fc26b346df586880b'
         '5627b1f226f8fee1e2ae8233db589f45'
         '74f202181181b6c9087b603b9754bfff'
         '491392aba2721e89fae92c2c51a34f29'
         '67ad78c9d7204cc654e6df73d8e5667c'
         '9c67a631045663ff61a864d0b98b06ef'
         '96b0ff57ad75c01ec595c8286e764a32'
         '718e0f9454fab06e02f216d8fb2678e7'
         'fb5cce8dee49d87f905083215b0afe18'
         'b367836b1cc3c213c2af2ab20dc605e8'
         'a66e89995ed500b3484dc89af60e45df'
         'cee156adda50a516e15735e7daadc06f'
         '46bf4a8b6942b7b443f33f04202db8a6'
         '9a026358c622a89aaff3321aa31ee06d'
         '524a7e16a50d90a17646d7f2275d82da'
         '5274882667b954c6065cc24ee08a91c7'
         '5b17fce1e0c0395d772744a38b3007e0'
         '3c5835e10842b2261d9694f95e8f81f9'
         'd024b2cdb3cd2dd9db359a7d170773b8'
         '0b2765e8dc1243c70e310b4b53702b04'
         '1898b29bfd3b485ce25bef0a6fc3a47b'
         'ae71558989d03775945220e13066073f'
         '91a023046f245ded546967371de7a9d9'
         '425cce2273019d42bad95399ec6f2888'
         'fafc9432e77f7490fcabcf19fc0f6d27'
         '3a9eb4ffe18de2f633be595beebcce98'
         'f77f5b76be8c3960afed4d900c66fa52'
         'e1bb49360c230bc9b7047d69d863a90c'
         'eae55c96efe468144a4c609693112f4f'
         '78a29668a28480a61b5fb425f3c8a5f2'
         '934e19bc349cfa07263ac725db735ac1'
         '5e7db60bcce05390cc5f8edfd3362542'
         'd212cc47ed70b360eba0efa77c35d6e8'
         '1f35bc60771f07a999ea1c5226bd26a0'
         '712e509456f8462263dc2d4bda21e50b'
         '7b5db13e8e43bc2f01f36478cd699bea')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
