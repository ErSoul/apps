
pkgbase=thunderbird-i18n
pkgver=45.5.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('7766e1bd2d65a7a895511b861308b103'
         '1c96a4da9a8831bef3d8a549a8041035'
         '753674e9dcadd4d5e7e6c1bbed86d5ac'
         '39d81a4b69574943416f8c63c82834f5'
         '7b8ee001af7d01515fe46a30be467e2e'
         'ffaabf1275b3bcab651314a135ff5d57'
         'ffbbe3ddd9be8aeff346749b2477adb5'
         '678825e10ff77f65a4e5cf3aa1085da1'
         '091b8392d1780d1ad9df984597a1657f'
         'ee7e69ef1c9ac2350afa7b43b8a62de8'
         'a47a613ab4b6b86ef05dbdfc29b2eef6'
         'cb57ebfa6332b2983753ef02f91583fb'
         '0baa455bf1d141f39ac83fae80ba74b4'
         'b1aed34fc4862ea38b2f3e27b2b7f161'
         '5ea7564c75df147a712ba12fe9fc5f92'
         '4b7ffd751753562e64608d1aacb1b3c6'
         'fdd6db6eaba9e007ff06737e2272397c'
         '109828a4f47b5318a27b0c4a2818401e'
         '2912dacd14f0e96bc7acdfae2784c6ab'
         'a94aae761325e0a7ab6086b4488c95e4'
         'fc850b721d6a5b9f443e669e287dc2a8'
         '7baf347df942715285da9d67a8c39f66'
         '886e7d23fe9371cfa2c9f0480158fb4a'
         '068b6226be4a3311f6007733e4d33940'
         '4d70cf633cee82f7b8adc162bfd3c423'
         'bfd57769004952b1afbad0c01a01f5cd'
         'f2b531555a06f01be16c68d28a5fbee4'
         '5b4dc13cb3a5f7b21450ca68531b6594'
         '944aae3a0e6d05dc2010d86e1ba30f3c'
         '291a93c70cd0e525c7156f26d743465f'
         '81011e85ef5c485f86edcc51f2dc896c'
         'e6eea2b2890428c9ed835d755a1a3cc1'
         '4301d38adaef4e9657ebd589e70cd8cc'
         'b050a566252c26a3f80234f389dc4a3a'
         'ecaae998207fa4d977d08dc494469d9a'
         'c4da60eca1808bdfa629efe289b1bfd1'
         'e603862e49414c3cb6a5786ac3f392df'
         'a2fccf0e1db7146270d659938707d771'
         'b9751555dd4ad20fdd7e9ec79b542157'
         'bc1ef24c7a1fd16d7505a11a023562c0'
         '089ad930781cbe5b8092d7a3e238115c'
         '92ff4df59dfd50dbddb3062a796ec96a'
         '63baed567ea42ec5241aa61e453261be'
         'ea812b26f11e7e3102641d25458837c5'
         '47b2accf3cffdd3fb961af3b52ae8feb'
         '259679ddd720df999689883823051673'
         'cd1aac84bba812b1d440a74839ea4623'
         '1c5baa3356ad793ce8bc0fe5746aa202'
         '2fff7d2b9edc09a51cbcdc2355ce5308'
         'c2eb95e075918dff1a354e4f01de2c6d'
         '21a1b48d37cb3f5ae42772eb3e35db59'
         '2cd5a73053dc4ced22cbb5568d068b79'
         'e396c4514165f4131050aa81e0fde826'
         'd094a35af7b10ca9b1d2f4a03b0469d7'
         'c50510ae173c86efd46b71bdedd725aa')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
