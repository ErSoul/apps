
pkgbase=thunderbird-i18n
pkgver=68.1.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('3bfaa6202d37de647adfa4515e59e299cb99ad6a8491c9597ad59e77995d2f58'
            'a23f656f047873350eeb0dfdf87e79495f14c4711e521d060b47fd23b75a225d'
            '0c4cfb763ea338055d0af24165cd4aad143aabf830030522bdaf6875e04c774f'
            '64ef0eecc7d4e9d784a07b6f72b2754df59e6b09c2e62193ffb3e823fe963d6e'
            '7b5ade7d77281474cd11a36d8b43e3ef858a2d6f43bec3855cf7ea5d048cac2b'
            '0e35314ab5d2827b80a0c0a5cdcb0e2ec208406f2eabf5a44c834a0a9c6112a8'
            '2720d7bc90d084032b89c35496f65f7b109f8eb2b4f10abd5338a8ba92752fda'
            '2d84bc9e44773b491a5545f4bfadac451a3d79134c9712f903a8f732d9a45938'
            'b237af07f661237f0db4700ed7d7ccb1e263bc4e92e65a8b62cf9b35e1dd7bbf'
            '6dc4e9ec23124d8e43e84fb48e6244f8ad49e66a662b2e042ab8d07cda6e0142'
            '41115f3344b13ed9e413ee02c30925113fa9a419a5a90bf50a595a19c1aa91ba'
            'b086b711a8d45e358dd723cca14983a1dd2f7ac02635b0158fdc9a86950ce283'
            '4cbf4480c285c881aaa7fc34b99f1fec29e3845151d7dc62fd19c5b019ae1c16'
            '48c3b3eaef2bfcda11e6e0816021b1ddbc03d17cadab20b9579833c5eba68a07'
            'a84c6a04c3f816962999ac357d14ff97ef8d0ed894b40b9ca927b474d5f8f207'
            '70bca727d577a3139118a4501b6746bfcc888d08ed75833a7e0106c83a089e9d'
            '9d1f6c614bed1c3653689c235372d18fbc0feefc422f04480ec2a0e4ff57c0ff'
            '1e77336d205e95cecd1198dd35188f8f68904e93b9670f65e35f3d97c9e3053f'
            'a171287d296e05e4f62661e5dce38595599f79244e4bf5751775858b2f0bb05f'
            '052cf8abef7f6721e9710c56b4acc300a8bd96fc45d1fecb0df3e57017312442'
            '1218aed7a7a8dc2d97f31c2fa17f7d96b69891e59df5d55b93788c92264ce5b3'
            '7813d9c4b4846694945342c8e23fdd28dc2573ae97b9fb737fa03d20f7cef498'
            '97caaf42875abb7dbe8ccf0217b440e964157cba3574d3ea463a9c2497dffdfe'
            '6152e581932c3ced17718c5f7d50c1a54e09772a4bed6ba373cbbbd2435d9a18'
            'b991c838bfe2331ff133c830f9ceac823f3acd6a9afa99b73c61ed0a613b43e0'
            'a0ff3c9699d239d01f24daa7cceef2725d93acf4a3e565675cbaa310ce512d23'
            '48a32eecf710856a0f7d7cf439bcf40b2ca97be2f7d731aaf0a71220f72b5bb7'
            'b1bf1edb7311f1293410ea3f7e30b530300d123dad25b0dde4371031571da210'
            '75f3e7a6714cee7666cd7ab1611831dda422b4d89348593c2165d153bf1378f9'
            'e5fc17e348a4b068383ec997025a9fd1dbf4926ec4f77ba9df7b22acf049a071'
            'af774065b23604c2416047f31e826419428a734150b1cfa776a2359f0be8138c'
            '71a0bb01e9e83ff7ceaef9dd9751e79b09255d09fbae6ea2e268954b59b6159a'
            '3e514e0a85da33b43bcb7907c80ae7886dc9f31e829fe3bf6e0dc4e87b2e3158'
            'ee77bfab01f29c91f1bc263a86647d63e8a49957a077b892f54ec56afa89abb8'
            '35432c941262e8b58cd239b153d4b3d80e45446856f22006d59dac8f4c79d5af'
            '1d5e5646e0e6512aafaecaec155e62e263ffb7766e28cb04cd821692d7f658e5'
            '1279acd7483c9e06acb550cf976c9f931e4c249cd60cb1c483e2e7849a22e056'
            'c151fe90be1c375d0e6e3c33d622e42bc451e66a47edc2c431029a513d65e695'
            '003a81cd3c723f21ce0af2bc45901b8d7b2d0764c07511c88c651115411d6cea'
            '607e9b5ebcaed21eb25ea45529e7b5e2a34e9dce725035c8bfaba677d289a8c1'
            '3d2c5db13a332ed9c5d9375c2746dc672abe25e7925276c7569c6c2630189340'
            '6d6259d3ba9da045a3eb0bbc4fc6eadf1bf59caa2c86cdb6f5bcc5cc8ffcc4b8'
            '8be4ce4b3db84377564a5620e6d58879ae039a2b3b78ec9da733769f49b8228f'
            '2ec1382e97799a9e4f06cac2044acda12ddbf40c9b8ba674136920623a2d770b'
            'cfa817267743bb0d0e3c4e31ea6c0ff02ac0dfbec09b1fb545666e1f2465d85f'
            '9c8dc40ff2ba56a342f9ae0ab0c23f7fbce9d5e908b9bf025171625029a21dda'
            '8dcb33c09f38a2d84814e2d7f5c582b9c7f68ada693e5cf1f7f98c29622d9a71'
            '5797c7d77c663dacbe258b4a706e91e3cc063f794743164a88b79f2e773778ef'
            'edbbe110ed339f4ccd67b779d6ba9c24d2c5cb775c6792a8df94cc14ebe4a6bd'
            'ca0f19d669da1b33bc0965eb4d7ad452af96f731fce169ecca6bad188fc729e9'
            'e150a10617e53effe1b21fcdcf626290287ad176ee148ca7cda927e434673c0b'
            '2aa76a760784272ec5b3b0ea2c3e6a2a255d94a8ad5926a04b81e9f24ec6a2d1')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
