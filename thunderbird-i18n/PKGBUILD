
pkgbase=thunderbird-i18n
pkgver=52.1.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('8e7be1f2ccbeea76fb87c98ae7b55c4c'
         '41e1331b7f3d007a0eb915d9b44d2646'
         '41415c30a6addaabe0f4790bbff85271'
         '45ded0e1afba842d0942e3acfbccea9e'
         'e6073143c528038ff1df25a372cb5496'
         'ebb9ddcbb83cd1122129831e33e5369d'
         '108cd02f708bb0bda1f18afea8446bed'
         'dfccf0e619566be9f38fb037766402d9'
         'd3ef070468bd21b379d9a889693daf54'
         '97f08dfe8f30f300ef6fa13827148080'
         'da0bb5209f2cd37384e06089e3504bb2'
         '3c45c57e64d39b05bc5576622dfe76e2'
         'ee8096d8f0b9d143cdd9663569f38140'
         '36112e514efa651564f3a36985f82f79'
         '18a9204be77afbb644a3b7df31854f95'
         '9366d1c2c7f3373484da9f13692b624e'
         '7f6cf287cd2d7498efbfdb304a96a90d'
         '830bc5f390601b1a6258a12226ab882b'
         'cd9400a3880f9cb4cbf7585d568f6d60'
         'a2f4eea1c09516844170d04236578668'
         'a0c7b5668e73f21b2646161f77e904b3'
         'b55569fdcacd5abbd94949ae82cb4eec'
         '26e5c279922c29ff404d2000bfb1737a'
         'a3a55491a978dffb9332a34b2f09e43b'
         '814844f39791541c8885f7a9035c0f0b'
         '688ebd90c94e026696be0507fe351ab2'
         '65cd6d829bbd557b9104277ffacd31ca'
         'd48aed1bf3221593c82cb4d3f9c2dae2'
         '42e732785d4891e0672c30fc58ff4f52'
         '399e35068ac30f236a183f9c2edabab3'
         'ac5896a70c4c16b6c3310acc1e09a55b'
         '2457ef89166f10dfdc16a91343e3fb7d'
         '4acdf1c15d2df5d9eb29c69cff0de289'
         'd3d90c5001e1815220c4c2b50642cf2e'
         'fd119a5fc108976bee55adbd336d6ba6'
         '127f559985ad2e79e9a3f2943e0c4ec9'
         '36ad138326348f9a44ae093b7bf16332'
         'a188c6c56f42faedda77c24b867d30bf'
         'b3c06e5e5e0e60ed63b633634fcd84d1'
         '399619c5ae26afb60e933f21b041e47a'
         'f1206ca17300a1992a5cf7c370acb1ee'
         'f497e49c38f6eddd2dfc76d17e16e2aa'
         '5f56a1da16581adf0d2a11ecc4d575c8'
         'a44c8505a821a250fbfc7960e46129c8'
         '6607de22888447821a2d6df1591db57f'
         '664a065875891de24b753b347f21a9d1'
         '48036e75b602ee797e9afa30a5ae71b4'
         '8ab01c8fe8bb22fffaf0c69823c33c41'
         '2eb40df835273405495bbbb757497d0b'
         'a8a1f3286a5bc977249552849599b2e3'
         '348a25e9394ecac93a94c2527bbd6a51'
         '43b30c31da59750f64d69b041ac07dac'
         '82b7f66a2d93a8a89a40fe28469bd986'
         'e2f3e53809e9b5a075c9a410c01115cf'
         'bd3582d52cd0cee3362f0935b03c85ba')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
