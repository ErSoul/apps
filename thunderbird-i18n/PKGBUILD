
pkgbase=thunderbird-i18n
pkgver=38.7.1
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('71439dbab839e61c120857ef502909db'
         'eb0ffb154003b18621617e561f24ea52'
         '8f31a98a69b011af37bcb2855907ba23'
         'f252d512b4a195888440ecabc6f47d76'
         '8201ae1d490f21e74a1633b5d1a89ed0'
         '1feef5c2de08ab6e0683e4a0aff4b660'
         '6c6a1164912f6e970e83d416a3c21b45'
         '79c035380ba4a7840a34c53430e8efa7'
         '68581174709eea53de774641af56ef6c'
         '8fb5df30850e92f343e72aa1bd428ece'
         '59684b081fb2ce941d4404fd2640a592'
         'c103296504a6c65ec617979e543fcfbb'
         '32b84f76755f1dd035c4bc022d637891'
         'f0954a0a6f48047aeb68d4e95cad46bf'
         '3ed10813274a9e9988a563a70ae00f59'
         '8dcdab287c71a6f5b71959504c2e6c81'
         '626321098dc0049935e8a0c3953c7b6c'
         '72aa228f0de9443b95d1804febda62cd'
         '5dc77d3062137c8e2cf20861f92a8b71'
         '7953883d85b1e961f03bb62e072cd422'
         '0b9b48ae3804a729b954eee48a8c15f7'
         '5c62fe175c12a8e6149268aa17a85c42'
         '028c0e884e9de807fa693baa5a0bad70'
         '5ad2ca16d74d081c0a998c99a2329672'
         '4f4fd592a9272f001f0f9e7deb9b69bc'
         'cc520104154fea1f56ff5a65b344fa94'
         'dacf0e1cd3430e3a12e17eba14ccabe4'
         'fa3374635b932e30e490755255f9b562'
         'e4be7cd91c62180c5a45d197f3bd253f'
         '67ef53e1b1521cd47f6b3cf43b9f0d80'
         'ca485fada688895599e2922c71864226'
         '6e6f3d6137fca2d43cdc9e283e07be58'
         '02721ffcb7c7a1840790b5d6fb899018'
         '06a2af847c33b3e544822b0ee57e9530'
         '51cf5018c58265fbaf75a175ccf65ae4'
         '4352d5ac5a753677d859c5fa27b40ff2'
         'c67217e53ce765cebfb98c26c15cf854'
         '8127b7865cf66ef76e11f04fc3423047'
         'f3fd8a8b5ee0f13e420101056e469395'
         '2924b0e5f879b38bb26ea51737f6a5f1'
         'b35c9cfaf9637d3293f48ef91f526159'
         '313bdf8c0b1e8c2d6f57c96e9ba7849a'
         '45b2fd9b0cb8439390cb586e34c259a1'
         '61660342d2d73a632d45bba3ea7ea8d5'
         '1a4431686f01fda7b3e89940a3fed1ae'
         '14790a306e7d4a18fb1b96056dc368f6'
         '19ccb053b790366baeb9ec2aa0014c3d'
         'ab73a44fc5776ae4caa073fa1fb5b88d'
         '843f19c3fbc21e97fb76a12491597f93'
         '455af7fbb1b848aa95ec60effb03e955'
         '62f6dbc918457cb0f34f3d248533608c'
         '4c915733ffb78141d65de37fdb2cdb2c'
         '7d1136c5c880386e9187d7cb3a04ece8'
         '0d4cfb3cfbbc8924bd36abf89e6e70c9'
         '6f6c5a3a702fb31eaa0a457508984234')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/thunderbird-$pkgver/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
