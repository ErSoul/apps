
pkgbase=thunderbird-i18n
pkgver=38.7.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=$pkgver")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('97f930507cd6084a62f9aabb141c58c9'
         '8becff9be690fe22998abba2a124cbf9'
         '42be6148e72e0af5047758a73470bcc2'
         '53deca978f3efb3dfdf2569f35c0cd95'
         '69c34454b16cbcba53790b4cf66d70c8'
         '3f87173941eb971fd7c78cd0657cc653'
         '4bc5a05ac64034ea13fa9f93239753bf'
         'e4499de1ea72de5e4633ffbe2bbf7395'
         '6f763e56c8a53e04e457834e3e298278'
         'f59c096db346603f16347b27974f59ae'
         'a143557fd6907c39ae1abbf8d8f32d54'
         '401e127513e5a4620ae99fc9c08dc5d5'
         'ba77872032b723422b3c7a9a9e3bd873'
         '47b25108225c9e76a5d65d912c26f2c4'
         '3711cf0771d49b85d328cb3a3cdadaf2'
         'c767417c84216dcbc860b4d7d03b4b8d'
         '715596d4ed5827707317ee4b45befdd8'
         '49df8a995343c59e84feac3d860d54d1'
         'b28c9c49ab329b7fac979b35bf89c8bf'
         '9cd876fd3a5573c25b4f66426946d2bc'
         '4d4ff61c9a678d09a19752dffb57411f'
         '2b8be54f9500ec52faa48aba04168fe0'
         '38c591359188504ddd809993b26dee4b'
         '9280875216b10ab05713746d3f943145'
         'f4be88f99b40d70dbace40987f90485c'
         '004262bcfd6ee47d4e4ebbb0625fceb1'
         '0272a2941111f8b065bc670b5c352ac6'
         '851502cf54ba7755c475891e352934e4'
         '98ba37378c9c6bce6ae03756bd34f84d'
         '5b9e467d215f2d5ad26bd47a0ff7d872'
         'fbfedd755e3cb50b6461a1c17c42fec3'
         '1ecb06d999d7404dd35f3e9899b771f6'
         '95b5e6004bbd6efdc8d0d86709224c90'
         'a714bc45adbe77b1cebc38ae87ab2092'
         'f66bab947a838ff0923f031226083f50'
         '5215ae0aa6fc3d66052e8f3c35ce4ac8'
         '38dbb0773755a882aa2715914970eeb8'
         'dfd74a9bb4f0c5aa739fa7f696c6ac8d'
         'd5b99b5485d858d1b40a403172c95fa1'
         '4f78de480e5e16d0367004bdc2353bd8'
         '01f0824d0668c06d516b8eb24f56a717'
         'b06697631f779051753bd085ad30e302'
         '817a820ca84aa62fa98b44d8d11bc4ee'
         '9181de429939dbbec45f6b2a9b5e3323'
         '4efb42b748ae9cbace65ed334cc5a138'
         '02699288be8722b623584dc16cd0ed36'
         '5d20a04181dd92b2752b0b9a564390e9'
         '08eac1079d64b2e6af85c7fd6e624c5e'
         '69713923a0ccce98b1811d587f4df971'
         'daf0061208263d89b08967cbc157a0e0'
         '26e210cdbba83f8fbe837ac55f9c8e7d'
         'ee379ea1ca5daef7f07d70a761169892'
         'ab670cd19101197c65f796739b237cf2'
         '4b00636caa4a583035304192a98e42e6'
         '43927754db74cf383a54c1fb15451eb8')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-$pkgver-$1.xpi \
    "$pkgdir/opt/thunderbird-$pkgver/extensions/langpack-$1@thunderbird.mozilla.org.xpi"
}
