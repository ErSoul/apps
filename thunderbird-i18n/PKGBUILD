
pkgbase=thunderbird-i18n
pkgver=52.5.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('2e50c3b214c096b025b56000b92fa1d2'
         '26fe1e3afa176bd9eadbd30b9c706015'
         '390360bba4ccee9d296ca4bc33d284f6'
         'ee78146a519702cf1d2739a47a9c0c72'
         '3b7a628c86840cc71f56c64d368814db'
         '28d5dca4eb3e947040807a0f205dc4d2'
         'd9743b933f22a80b518939057e658a01'
         '483cf5f51f88c1f6fc5e26859ad4931e'
         '9020af3b4fff3cc3b1b803bc56d95cb5'
         '652f198707b9d7c32219cab05330d5d1'
         '767b5664c85f2b06a0db952950ce50bc'
         'b6e731ccae8d808059562b671d2ee2c0'
         '03e975801908a96d8b71d99528c2fcee'
         'c2fd61ef897e4efa13d94c233e5d6242'
         '0291d4d642635ada2643eb505b140c5e'
         '7849346bd22e6413b6007b42c246b598'
         '885eec2cad0e9d1d664f7087f4f3defe'
         'f049175f189eacb872edd7cbfe1e99e2'
         'e3fd4a7b2d1aef3348f0f307ddce9122'
         '198ad482255627af4ec16d76d50279d7'
         '03619f652048f1ecd9b55f23d741e771'
         'a4b656be90343a8aaf4054c2e83dff06'
         '79407fa5cb8ce4df079444561e958bae'
         '1f90df80a47bb1d4347a16e748fd9e78'
         '0193285e48d87d2d3047663732e84f4b'
         '71ab8fe247b48ee126cef51852fd3eab'
         '43eafd7d5218c1ebb972b7e0dc565fcb'
         '1a1c1e245faa5da7e88d21139aa595d8'
         '5f07db5d90a1a8ddbb4a5c89d29642c5'
         '61416ea71eaff75190e851645ab68cd5'
         'fb2eb0ad22e418c7405b86be500cd6b4'
         '976055b7fbcad1c8c21496e2c7467151'
         'cd8a30ec79a58137e22f0790b558a072'
         '893812f5349238921d00d679d421a4a5'
         'ae853a4aea2d9b8be69eee18af7cb90d'
         'd195c2950df47b17cf56e4065a007266'
         '9eb50a78f72ad7055cfa077d9b4a286a'
         '766767aab42d5cda7e8099e709b98e8b'
         '5c225efec632e914562feb19d750c61a'
         '5b6942da80de4bf971fbabdbcc7dd982'
         '6bc1d938444e20efebabd21634063b0e'
         '6d128ae3bb7caa6ea59a0974d101f437'
         '1b2902dc26decb18f9fe63dd2081acd4'
         '2dd817016c8c5e8adae8c7aa5742ff43'
         'c5fefdd02af6dc7057fc553be1be1ca8'
         '26617c244d49feac77d3be941f7862d0'
         'a955550fe0058d14863556f4d8a0d811'
         '8292939492b1010379fa627cfe481c70'
         'f41dcc4dde7e44415fa9bf256b5e23cc'
         '91c7eb6a1eef964cbea3f1c612c68b26'
         '297c9f62a75f2c65c81ddac743494981'
         '929989e2ac74e9f8a64e797482e79534'
         'f3d0eae2848a19ba2f3e9ddf1873cf9f'
         '068a8752693c92354f5d7934571adbc4'
         '33d1d83ff962d8ecdd0d5ae2040dc2d9')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
