pkgbase=thunderbird-i18n
pkgver=60.3.2
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")
groups=('network-email')

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
sha256sums=('896ccd179ffc31870278bbddf5b2b5f864b6221217f7797d03c4d46a421285ee'
            'a15c63913ae33e37b23c82e34eeb5bbfebd5e678ab96b55491c47956d3811c8d'
            'efd7215faac5a16ab3850a5f62e99d9a181b255e8d6f8ccbc6e423ce788dc5b4'
            'fb156ed7e5a7293aa7890bb389945c88e18049bd030c8dcd5e4b0388603a5817'
            'd48621064c77d1249254221e1f0ebc1fcd2fde1703ce5ee76b5d3dee84481826'
            '6dcac998cf49f56ef2e73b4d15bec5b8bbcd3d1e6a0b275ed638ad24b9150c45'
            '3a0e18b00047ebd954aa43d1adf8281e78a75cd82bc7a7c3af98cfc451882e38'
            'ef5c7f145464ff34ef3369d642d6fec09ca1eaf5ccc23f8139b712de9b0eaaee'
            '0b82a5f259c5221ff598b54596182a5976f838cafb7b47574106e14e32cb4b34'
            '4d3d3509a14b766ec8752bac80c7e81cc927f3084539b2b55589046cb1805fe9'
            '9b8a6c31b85c07a7ab557c39e830564bead8b9403956e7e05aaf2e5b36d2e69a'
            'b80f2b34a79156eeb64e4a124fd88af32f11fd87c264c012802d53893568623e'
            '680f0cb343636792b7ad5dd0985bee6b210249890834b5f82288663f72401a96'
            '3f0fb2afb8e3f32e788c01e57d86c3362128151b8d548b8fcdd4cfe89dee080f'
            '8feef17eca060e0881714f5db7b408d5fd7b517d9f9d8af22543e27928510b66'
            '9cb7c0d3aa33e3ea330d7f08893fd0fa95dc53057239b1943fb1d24b1652ce08'
            'd55467b9b03acff4294a1351b87fd78fa8284aa6fae3660986fa8d8307b5ad7b'
            'fb863da3f5df78c5ba2bfce66eba0913c264be099d2e5e6e3fc3778bdc4d35d0'
            '40a24810462d4e2ff5989bbceaf48b1e201241557205ad71fa47bc3addc02d50'
            '9badfdeaba5dd67c9572528c151b794f9d54e2173bf4826d81fa7e77ac4183cc'
            'e574f9951d8c1c15cb35b5b6c69bf15e83f64fac08c1e6465c38752efa0d3ac1'
            '3c84cd675587362860143add3e3ca181ff41374cbc427da78d9bfbcd1d5da64a'
            'd2d31d39d83844897916c9bea32a7f256b7d017c4a776b14843d659ee69b0c06'
            '75b24f3c92a85f338d2db0322273b499a6b62e3fddff5f0babbf72b847fd1f7c'
            'cece1242d515fc7fc47a6e5f6b5c89307fd4bea97df7c9d137ea0617b377ee9f'
            'bf5da18439d4cb8ac3dfa0f59bb03b240ef19cdbcb6beef13332abbdba4ce03e'
            '0febf39ccf273fd6f058a6f03a8552cceaa1fe7d08023711b33cd7c633e676ab'
            '5053d2939bb0f86173b80ff9ff74c5e5e2e5367bf24c76c61f6b658149e7a9f0'
            '0a7dc4e7f634a62a4391636a9bfb22c6cda0d9ade5d82131b76ec9e96b01fb45'
            'e185eca692668bdc601ebabb11dce7db3a33a4a58021c41eb3999b21f698bef9'
            '02e0824a69a622aa4333091c8d924ca53a607888c9fb595326f2fabc1806cfe8'
            'aea0101281103581b7e0a8d46a4bd1e50093039561c58f53bf5fab0360163831'
            'a2c8c7c6c29349454e334e543d13715f68cf8ca2586c7654768c9d09daaa2d85'
            'd3dd7bee644f5aaa0d4bc3ec46d2f78311641033fdebd21b8faa357039034aed'
            'c62de778e8157f31df813de37c10220180fab311024e499ef5756e13545bd49d'
            '8e5163efdb0a57e3ff48035cf0f4359421b5b36d1bb7fc7761966a432e448229'
            '02830c38d254f94af99e396579ac3674467e187435995c82f17f4ed0227a8a44'
            '302312859a31cce43461535fdacc8ff15fb14cac222c17cd9810f8cefc72b48b'
            '98d92dbcde288e5fe71d055436119a401eef8b9de4716bcaeefa26a4250f5b34'
            '2a1fbe420f9645ba4e98a01bd404282233319fdfc725092d3fc862534d29605b'
            '8bcfa90ceecafb4ae7c1404c6c26faa89cf00a327a6f7021921769de6e4ab8ff'
            '524e41a67aefc4c976dae2c03ce8e06b562e8f10c6bd61adf430021116924bef'
            '9b09cedd853ae2ce29e56b8b97ef39dd478c1135b9026352b5b5b1a1d4d5bd17'
            'bcaecc9ce702621cace0d8e8fb8ebfecc1030f050ee393fd1327dd222e804200'
            '6b630debf2eee308d0b5b57e67560c83118cd2e7bf147ee3a1862eec3f49a330'
            '4eb841cc41d04751fa85affdf572235dc118a8df5d69091bb43af8b3cd203434'
            '5ad20a801c60f9bf0104f938f21ea3fb888cbc4396cae4c3f65b27010bad2929'
            '439c7dd3b5342228fd674738c7442b0e5cce73c713536314cd32efb86d3b06f6'
            '5cf38caf8af6208da4b2e6c788f6df1135e258831401117a928efa6023256415'
            '210600636b1982a02a0374a4d1a846ab7698587e656526df80d17dd344941761'
            'b6dd3b6c188742e6541c7800d23b1500680f98bf1995897a87d77e22abafe955'
            '96c538ba06202c3d72c809367c245fb43eeca68a3551fc024f2ce01e1542b998')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
