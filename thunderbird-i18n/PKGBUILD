
pkgbase=thunderbird-i18n
pkgver=52.3.0
pkgrel=1
pkgdesc="Language pack for Thunderbird"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("thunderbird=${pkgver}")

_languages=(
  'ar     "Arabic"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (United Kingdom)"'
  'en-US  "English (United States)"'
  'es-AR  "Spanish (Argentina)"'
  'es-ES  "Spanish (Spain)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian (Netherlands)"'
  'ga-IE  "Irish"'
  'gd     "Gaelic"'
  'gl     "Galician"'
  'he     "Hebrew"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ko     "Korean"'
  'lt     "Lithuanian"'
  'nb-NO  "Norwegian (Bokmal)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Brazilian Portuguese"'
  'pt-PT  "Portuguese"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhalese"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta-LK  "Tamil (Sri Lanka)"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'vi     "Vietnamese"'
  'zh-CN  "Chinese (simplified)"'
  'zh-TW  "Chinese (traditional)"'
)

pkgname=()
source=()
md5sums=('3dca2752cf45ddc03c76e9271e7cd20b'
         '2d82a69409d17e0e4c3283873fe9ed1c'
         '64a40a45b7303168f54a48a4582d874b'
         'e3fa7e387af4be963f1a6a58fc0c0016'
         '1d74a7544890e13d4bfd9408000f471e'
         'c30ba85d80effddd339ed26caeb050f6'
         '3c33d3fbe537ab6a44599e8c073db870'
         '48d8aba0e19d804ace61e0831f95aa40'
         '51e6142495445880c98bfec670d6f25f'
         '39fc06788219dfee6b00b8e46aa71e7f'
         '489e21404cfa0448301d19057302077d'
         'fc315d705383bb43a701a90a3ccb9dcb'
         '8871241c401d58e8add0b173296c7cba'
         '6b1d2d9f79fb3df279d76ead69f1edb3'
         '79e0b8c8160402a1bb3b024876fb9666'
         '15540c686c9b058c7edef053a981a3f2'
         '983e6b2ec0969d0f8b26c0cbfbf565a8'
         'e99b315bb53767411073bca4d2320763'
         '82001a707850d9c2fd5994bb48c2bbd3'
         '6ab4cfc3d80a86d22ebfe833baa8a67c'
         '0f2d1293106a248bea8ff090cb083920'
         '227e304c86e73e65d18e22f90e3f9837'
         '7a042308bedaee0dadfe4f7d77a74818'
         '893e9e1fdf8f1f75900ff91d157571dc'
         'ad78889d69d75b3783ab75cec97d49ea'
         'dceacfcfd563657f9592c4b0ce7cc456'
         '250a615a4ac9d268554fcb63bf4dcfb7'
         'a946a46867ed3522c1ed30dfaaf46576'
         'bf5da0a21933720ac1796e44ef719334'
         '940a1df1b8d34708d8a5a7bd2a5e007c'
         'c525801fe4fa0e112e8cb79d0205c9a4'
         'b73951c88aec2a58ceb9f1790cf91877'
         '4bab507394d69033a87449979656e488'
         'd67dbcac7bc7351bf4ed1814bff2ce24'
         'ba205ea7cb31aeb67a78547c07a77037'
         '924dfd6b1fa9a3eb88765bc4c79f7e7c'
         '0d408ef65f1a0ee68d42eda1006b88f8'
         '9c8e1cc635af45cf848cf6c80e868f4c'
         '8df6b9ad0a6dd594d1a05821e807e19c'
         'c3ba5e9af5c05446178c89f573828404'
         '5e0264b6e0d4d8239100aa6780962236'
         '97f74202c0184ca0e39bf7294e8f39e5'
         '50967648b55390914d1481240337e2e0'
         '5472c8e5e8624abc3dca3e530a211aba'
         '90a9de17c778311029721e3295e58ebc'
         '211d2b7ca461b66f0278995fa8ab66eb'
         '268544e08eb08e114119421952a7cf5c'
         '5b13ef581128b135426630af220ddf41'
         '066206cdd99e75aac1e3d618844e196e'
         '7cbb542deb1d64f2451528ac833f1553'
         'e4323b14a8901593ddead55275d44b76'
         '8274260914e2921371accf8f06378898'
         '87f0aa1b105972c972d417a15b0a8382'
         '6091ab332b44eb7a99b7eabb5dcbad03'
         'd3ace5d1dfd5975b05c8b02e8245ed85')
_url=https://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=thunderbird-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("thunderbird-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Thunderbird"
  install -Dm644 thunderbird-i18n-${pkgver}-$1.xpi \
    ${pkgdir}/opt/thunderbird-${pkgver}/extensions/langpack-$1@thunderbird.mozilla.org.xpi
}
