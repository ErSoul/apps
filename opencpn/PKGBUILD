
pkgname=opencpn
pkgver=4.0.0
pkgrel=2
pkgdesc="Open Source Chart Plotting / Marine Navigation"
url="http://opencpn.org"
arch=('x86_64')
license=("GPL2")
depends=('wxgtk' 'gpsd' 'portaudio-svn' 'tinyxml' 'hicolor-icon-theme')
makedepends=('cmake')
install=opencpn.install
groups=('education' 'science')
source=("http://downloads.sourceforge.net/project/opencpn/opencpn/$pkgver/OpenCPN-$pkgver-Source.tar.gz")
md5sums=('38ac87dcfd3a92b3162b74b549599ac6')
 
build() {
  cd "OpenCPN-${pkgver}-Source"
  
  cmake -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=/usr\
    -DwxWidgets_CONFIG_EXECUTABLE=/usr/bin/wx-config-2.8\
    -DwxWidgets_wxrc_EXECUTABLE=/usr/bin/wxrc-2.8
  make
}

package() {
  cd "OpenCPN-${pkgver}-Source"
  make DESTDIR="$pkgdir" install
}

