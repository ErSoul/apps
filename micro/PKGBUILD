# install go before building
pkgname=micro
pkgver=0.0.4
pkgrel=1
_commit=f2ec82520ae640356039376ec6d88781125e037b
pkgdesc='Terminal-based text editor that aims to be easy to use and intuitive, with full capabilities of modern terminals.'
url='https://github.com/zyedidia/micro'
arch=('x86_64')
license=('MIT')
depends=('xclip')
makedepends=('go')
source=("https://github.com/zyedidia/micro/archive/${_commit}.zip")
md5sums=('d9c8eb4df7cf07edc0aac4e996ea29a4')

build() {
  cd ${pkgname}-${_commit}
  export GOPATH=~/gocode
  export PATH=$PATH:$GOPATH/bin
  
  make
}

package() {
  cd ${pkgname}-${_commit}
  
  #make DESTDIR=${pkgdir} install
  install -Dm755 micro $pkgdir/usr/bin/micro
  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}
