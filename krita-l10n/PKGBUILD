
pkgbase=krita-l10n
pkgver=2.99.90
pkgrel=1
pkgdesc="Language pack for Krita"
arch=('x86_64')
url="https://krita.org/"
license=('LGPL')
depends=('ki18n')
makedepends=('extra-cmake-modules' 'kdoctools')

_languages=(
  'af     "Afrikaans"'
  'ar     "Arabic"'
  #'as     "Assamese"'
  'ast    "Asturian"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  #'bn     "Bengali"'
  #'bn_IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'ca@valencia "Valencian (southern Catalan)"'
  #'crh    "Crimean Tatar"'
  'cs     "Czech"'
  #'csb    "Kashubian"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en_GB  "English (United Kingdom)"'
  'eo     "Esperanto"'
  #'es-AR  "Spanish (Argentina)"'
  'es     "Spanish"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Farsi (Persian)"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy     "Frisian"'
  'ga     "Irish Gaelic"'
  #'gd     "Gaelic"'
  'gl     "Galician"'
  #'gu     "Gujarati"'
  #'ha     "Hausa"'
  'he     "Hebrew"'
  'hi     "Hindi"'
  'hne    "Chhattisgarhi"'
  'hr     "Croatian"'
  #'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  #'hy     "Armenian"'
  'ia     "Interlingua"'
  #'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  #'ka     "Georgian"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  #'kn     "Kannada"'
  'ko     "Korean"'
  'ku     "Kurdish"'
  #'lb     "Luxembourgish"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  #'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'nb     "Norwegian Bokmal"'
  'nl     "Dutch"'
  'nn     "Norwegian"'
  #'nso    "Sesotho sa Leboa"'
  'oc     "Occitan"'
  #'or     "Oriya"'
  'pa     "Punjabi"'
  'pl     "Polish"'
  #'ps     "Pashto"'
  'pt_BR  "Brazilian Portuguese"'
  'pt     "Portuguese"'
  #'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'se     "Northern Sami"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'sq     "Albanian"'
  #'sr     "Serbian"'
  'sv     "Swedish"'
  'ta     "Tamil (Sri Lanka)"'
  'tg     "Tajik"'
  'th     "Thai"'
  'tr     "Turkish"'
  'ug     "Uyghur"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'uz@cyrillic "Uzbek (Cyrillic)"'
  'vi     "Vietnamese"'
  'wa     "Walloon"'
  'xh     "Xhosa"'
  'zh_CN  "Chinese (simplified)"'
  'zh_TW  "Chinese (traditional)"'
)

pkgname=()
source=()

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=krita-l10n-${_locale,,}
  
  pkgname+=($_pkgname)
  source+=("http://download.kde.org/unstable/krita/${pkgver}/${pkgbase}/${pkgbase}-$_locale-${pkgver}.tar.xz")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

md5sums=('0ef47c5461095d7895e2155be6436873'
         '69a618c5f7ce50a31a0803e24bb0d5b2'
         '86eda37763feb1882e7c192849d1dad1'
         '32b6a6048b15e1ce7520706b804f2323'
         'a377c82383671b84a7a9a8c4d0731fcc'
         '3670752f550884df9c30341e5bfc1e25'
         'f9f6768dd15169441e20afb482520174'
         'a2e4fe04030abeebdad448ebf8010fc6'
         '5a56d66284d0cb0427df3edf49e61b04'
         '8b45e384e7cf8b45a2d282770f6a0381'
         '63078cfb09d1fd637a9a74d781135770'
         '7ae349330b2b94a5ffe384f8e03fe48a'
         'f35194d762389273b27a03842932ddc3'
         '78f842ff1434412e0aec4aaf58a55b84'
         'b24221d6136e2668c66ee08e47d8768d'
         'd13a09ace560e61088a6d434942da46c'
         '932ffa1477da56a3b9d1511286ed7558'
         '4b7b002600abe26443b622b355ff7926'
         '617c6f1f2651e5449cb47ff899edcd4a'
         'bc71ee40aeab6c351e7d4867fd64d425'
         'cabd10551af3fd49344ee83cc09fbf05'
         '09ff39167021c6b4d05975264d9dceb5'
         'bf291e0956e51b92b5bf8c31848549eb'
         'cb650368ab36a91574a8ef3a0092e08b'
         '036316bf823bfb154f72c892f0196ea5'
         'dfefeffcb294f2a2331f6c50beabf52c'
         'fabf40e63e97d0b174bfc56a957696f5'
         'd2b300812dc359ba7912b247766c74aa'
         '9e2d3ffe6fdb3f04a7a78161e9aec108'
         '08382febfe4ba0314d40260de8a72bad'
         'c7237a7669478f3a3963cf6ce317689f'
         '775e9beacce181ee11c9443e1f51deff'
         '208a056ad55259f66d70d8f0a5552dec'
         '620eb182aeb9a20de8d91471dc2435c1'
         'b85ae5f9253bafdc53b0edd276698397'
         '166e52825b562f4bbaa05b0934a32118'
         'd9f615579d8fccaaf37b3924cf7e1606'
         'e5b80ebac120077050e5a2839eb73efa'
         'aee0ac1c1537ea15f953e6d631f13182'
         '389740c86e7fcbc823ace5121e591507'
         '8683437616212359f3bb2a418f9c9be1'
         'e594d7bf60fda758c852de7e7b47dd76'
         '28c777a7263955b37482b13a55914586'
         '19b167caf42a81cee648733759e27334'
         'a55e3d1fc194db0c1ecd97e989e33d2e'
         '33a1c9b53734f17741629562c93790e2'
         '41e2c67b0c8d9ba981d2abcca84440d1'
         'c504da3bd1868cbad57e21373a32796e'
         '0929bfdcc1e55c0e7228c289ef45e104'
         '7a4c9906b4a6a972854f3575690b044e'
         'ca98ec09bf9de08a1e571def152c233e'
         'e348a630ad6163f6ea28b41225a387e5'
         '5fa7d5600746471b39c7816002c59fd4'
         'e04c6275ce323f2a3403e9be7cf8612b'
         '2ff913c3b9c8ab04efed73e6c9a9932e'
         'dde228e38ea3b5e7406c60d0eea09472'
         'a3fe59b338c0d19235d85422675ba7f5'
         '32bcac0daaa6308bb1b7cb4ef5e91fba'
         '685bf4d14ffba99bc586524b317800d9'
         '8698fe1cdb43864e2d73dc2668b2cb4c'
         '6c58d9142defe1b74f11a8e25802425a'
         '2632f3735c68ab7f1b3426201027f069'
         'b1088abc0f9bc6755b8b737e5297497f'
         '66e5a9a967d8328a606fb0c0b675babf'
         '3b68a1e93e02bc2edfb135b29b72581d'
         'e6fd5ed8f9c186b85f16cecea00fc42b'
         'b9a078e28ec2da9358a7fa36ad48098d'
         '8a269fc463ddf3d7fdeb230688bdffd5'
         'c454a96087869fd3e9ecc39b7e99e669'
         '7f802c14545784c9d07b3a7b998e7ed7'
         '2165f09f8e51c98a25e88a64e7bf56f7'
         '4dcbc4522fcd0de6a49aab3710b4d60d')
build() {
  for _lang in "${_languages[@]}"; do
    _locale=${_lang%% *}
    
    mkdir -p build/${_locale}
    cd build/${_locale}
      cmake ${srcdir}/krita-l10n-${_locale}-${pkgver} \
	-DCMAKE_BUILD_TYPE=Release \
	-DCMAKE_INSTALL_PREFIX=/usr
    make 
    cd ../..
  done
}

_package() {
  pkgdesc="$2 language pack for Krita"
  groups=('localization' 'krita-l10n')
  
  cd build/$1
  make DESTDIR="$pkgdir" install
}
